{"version":3,"file":"js/102.9a46c966.js","mappings":"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","sources":["webpack://osi/./src/apps/system/OSICalendar/template.html","webpack://osi/./src/apps/system/OSICalendar/lang.js","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue?cb70"],"sourcesContent":["<div class=\"calendar-app\">\r\n    <div class=\"calendar-top-panel\"></div>\r\n    <div class=\"calendar-workarea\">\r\n        <div class=\"calendar-mainmenuarea\" :style=\"(FullMenuMode) ? 'width: 300px;' : ''\">\r\n            <button class=\"calendar-btn-chngmenu btn row\" @click=\"Chng_fullMenuMode()\">\r\n                <i class=\"bi bi-list col-1\"></i>\r\n                <span v-if=\"FullMenuMode\" class=\"col-10\">Мой календарь</span>\r\n            </button>\r\n            <div v-if=\"FullMenuMode\" class=\"calendar-mainmenuarea-info col-11\">\r\n                <span>Текущая дата: </span>\r\n                <i>{{Get_formatingDate(Get_currentDate())}}</i>\r\n            </div>\r\n            <div v-if=\"FullMenuMode\" class=\"calendar-mainmenuarea-info col-11\">\r\n                <span>Текущее время: </span>\r\n                <i>??:??</i>\r\n            </div>\r\n            <div v-if=\"FullMenuMode\" class=\"calendar-mainmenuarea-info col-11\">\r\n                <div class=\"calendar-table-tcell-header current-day d-flex justify-content-center align-items-center\">\r\n                    {{display_selectedDate() + ' (' + Get_weekDay(SelectedDate) + ')'}}\r\n                </div>\r\n                <div class=\"calendar-table-tcell-content border p-1\">\r\n                    Запланировано на день:\r\n                    <div v-for=\"planElem in SelectedDate_plan\" class=\"planelem d-flex justify-content-center align-items-center\">\r\n                        <div class=\"planelem-timearea\">{{planElem.time || 'Весь день'}}</div>\r\n                        <div class=\"planelem-titlearea\">{{planElem.title || '- -'}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"calendar-tablearea\" :style=\"(!FullMenuMode) ? 'width: calc(100% - 70px);' : ''\">\r\n            <div class=\"calendar-table-month\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th colspan=\"7\">\r\n                                <span class=\"calendar-table-monthheader\">{{Get_monthStr(SelectedDate)}}</span>\r\n                            </th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th class=\"calendar-table-th\">{{LangData('mon')}}</th>\r\n                            <th class=\"calendar-table-th\">{{LangData('tue')}}</th>\r\n                            <th class=\"calendar-table-th\">{{LangData('wed')}}</th>\r\n                            <th class=\"calendar-table-th\">{{LangData('thu')}}</th>\r\n                            <th class=\"calendar-table-th\">{{LangData('fri')}}</th>\r\n                            <th class=\"calendar-table-th\">{{LangData('sat')}}</th>\r\n                            <th class=\"calendar-table-th\">{{LangData('sun')}}</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"week in calendarWeeks\">\r\n                            <td v-for=\"day in week.days\">\r\n                            <div class=\"calendar-table-tcell\" :class=\"{'current-day-block': day.isCurrentDay}\">\r\n                                <div class=\"calendar-table-tcell-header d-flex justify-content-center align-items-center\" :class=\"{'current-day': day.isCurrentDay, 'selected-day': day.isSelectedDay, 'other-month': !day.isCurrentMonth }\">\r\n                                    - {{day.dayOfMonth}} -\r\n                                </div>\r\n                                <div class=\"calendar-table-tcell-content\">\r\n                                    {{day.isCurrentMonth}}\r\n                                    {{day.isCurrentDay}}\r\n                                </div>\r\n                            </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"calendar-bottom-panel d-flex justify-content-center align-items-center\">\r\n        \r\n    </div>\r\n</div>","export const LangPack = {\r\n    en: {\r\n        mycalendar: 'My calendar',\r\n        mon: 'Mon',\r\n        tue: 'Tue',\r\n        wed: 'Wed',\r\n        thu: 'Thu',\r\n        fri: 'Fri',\r\n        sat: 'Sat',\r\n        sun: 'Sun',\r\n        sunday: 'Sunday',\r\n        monday: 'Monday',\r\n        tuesday: 'Tuesday',\r\n        wednesday: 'Wednesday',\r\n        thursday: 'Thursday',\r\n        friday: 'Thursday',\r\n        saturday: 'Saturday',\r\n        january: 'January',\r\n        february: 'February',\r\n        march: 'March',\r\n        april: 'April',\r\n        may: 'May',\r\n        june: 'June',\r\n        july: 'July',\r\n        august: 'August',\r\n        september: 'September',\r\n        october: 'October',\r\n        november: 'November',\r\n        december: 'December',\r\n    },\r\n    ru: {\r\n        mycalendar: 'Мой календарь',\r\n        mon: 'Пн',\r\n        tue: 'Вт',\r\n        wed: 'Ср',\r\n        thu: 'Чт',\r\n        fri: 'Пт',\r\n        sat: 'Сб',\r\n        sun: 'Вс',\r\n        sunday: 'Воскресенье',\r\n        monday: 'Понедельник',\r\n        tuesday: 'Вторник',\r\n        wednesday: 'Среда',\r\n        thursday: 'Четверг',\r\n        friday: 'Пятница',\r\n        saturday: 'Суббота',\r\n        january: 'Январь',\r\n        february: 'Февраль',\r\n        march: 'Март',\r\n        april: 'Апрель',\r\n        may: 'Май',\r\n        june: 'Июнь',\r\n        july: 'Июль',\r\n        august: 'Август',\r\n        september: 'Сентябрь',\r\n        october: 'Октябрь',\r\n        november: 'Ноябрь',\r\n        december: 'Декабрь',\r\n    },\r\n};","<template src=\"./template.html\"></template>\r\n<style src=\"./style.css\"></style>\r\n<script>\r\n    import { useAppsStore } from '@/stores/apps.store';\r\n    import { LangPack } from './lang';\r\n    import { mapStores } from 'pinia';\r\n\r\n    export default {\r\n        name: 'OSICalendar',\r\n\r\n        props: {\r\n            windowId: { type: String, required: true },\r\n            selectedYear: { type: Number, default: null},\r\n            selectedMonth: { type: Number, default: null},\r\n            selectedDay: { type: Number, default: null},\r\n        },\r\n\r\n        data() {\r\n            return {\r\n                lang_data: {},\r\n                FullMenuMode: true,\r\n                MonthsDay: {},\r\n                Today: new Date(),\r\n                SelectedDate: new Date(),\r\n                SelectedDate_plan: [{}, {}],\r\n            }\r\n        },\r\n        \r\n        computed: {\r\n            ...mapStores(useAppsStore),\r\n\r\n            display_year() {\r\n                return this.selectedYear !== null ? this.selectedYear : this.Today.getFullYear();\r\n            },\r\n            display_month() {\r\n                return this.selectedMonth !== null ? this.selectedMonth : (this.Today.getMonth() + 1);\r\n            },\r\n            display_day() {\r\n                return this.selectedDay !== null ? this.selectedDay : this.Today.getDate();\r\n            },\r\n\r\n            calendarWeeks() {\r\n                const weeks = [];\r\n                const firstDayOfMonth = new Date(this.display_year, (this.display_month - 1), 1);\r\n                \r\n                // Находим первый день, который нужно отобразить (может быть из предыдущего месяца)\r\n                const firstDayOfCalendar = new Date(firstDayOfMonth);\r\n                // Начинаем с понедельника (0 - воскресенье, 1 - понедельник)\r\n                const dayOfWeek = firstDayOfMonth.getDay();\r\n                // Корректировка для начала недели с понедельника\r\n                const startOffset = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\r\n\r\n                firstDayOfCalendar.setDate(firstDayOfCalendar.getDate() - startOffset);\r\n\r\n                let currentDate = new Date(firstDayOfCalendar);\r\n                let weekNumber = 0;\r\n\r\n                for (let week = 0; week < 6; week++) {\r\n                    const weekDays = [];\r\n\r\n                    for (let day = 0; day < 7; day++) {\r\n                        const d = new Date(currentDate);\r\n                        const dayOfMonth = d.getDate();\r\n                        const isCurrentMonth = (d.getMonth() + 1) === this.display_month;\r\n                        const isCurrentDay = isCurrentMonth && dayOfMonth === this.display_day && d.getFullYear() === this.display_year;\r\n                        // const isDayoff = \r\n          \r\n                        \r\n                        const isSelectedDay = this.selectedDay !== null && isCurrentMonth && dayOfMonth === this.selectedDay && d.getFullYear() === this.display_year();\r\n\r\n                        weekDays.push({\r\n                            date: d,\r\n                            dateString: d.toISOString().split('T')[0],\r\n                            dayOfMonth: dayOfMonth,\r\n                            isCurrentMonth: isCurrentMonth,\r\n                            isCurrentDay: isCurrentDay,\r\n                            isSelectedDay: isSelectedDay,\r\n                            month: d.getMonth(),\r\n                            year: d.getFullYear()\r\n                        });\r\n                        \r\n                        // Переходим к следующему дню\r\n                        currentDate.setDate(currentDate.getDate() + 1);\r\n                    }\r\n        \r\n                    // Добавляем неделю только если она содержит дни текущего месяца\r\n                    // или это первая/последняя неделя\r\n                    const hasCurrentMonthDays = weekDays.some(day => day.isCurrentMonth);\r\n                    const isFirstWeek = week === 0;\r\n                    // const isLastWeek = week === 5;\r\n\r\n                    if (hasCurrentMonthDays || isFirstWeek || (week < 5 && new Date(currentDate).getMonth() !== this.displayMonth)) {\r\n                        weeks.push({\r\n                            weekNumber: weekNumber++,\r\n                            days: weekDays\r\n                        });\r\n                    }\r\n                }\r\n                \r\n                return weeks;\r\n            },\r\n\r\n\r\n            selectedDate() {\r\n                const sDate = this.SelectedDate;\r\n\r\n                return sDate.getDate() + '-' + (sDate.getMonth() + 1) + '-' + sDate.getFullYear();\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            display_selectedDate() {\r\n                return this.display_day + '-' + this.display_month + '-' + this.display_year;\r\n            },\r\n\r\n            Get_currentDate() {\r\n                return new Date();\r\n            },\r\n\r\n            Get_monthStr(inpDate) {\r\n                let monthsList = [\r\n                    this.LangData('january'),\r\n                    this.LangData('february'),\r\n                    this.LangData('march'),\r\n                    this.LangData('april'),\r\n                    this.LangData('may'),\r\n                    this.LangData('june'),\r\n                    this.LangData('july'),\r\n                    this.LangData('august'),\r\n                    this.LangData('september'),\r\n                    this.LangData('october'),\r\n                    this.LangData('november'),\r\n                    this.LangData('december'),\r\n                ];\r\n\r\n                return monthsList[inpDate.getMonth()];\r\n            },\r\n            \r\n            Get_weekDay(inpDate) {\r\n                let daysList = [\r\n                    this.LangData('sunday'),\r\n                    this.LangData('monday'),\r\n                    this.LangData('tuesday'),\r\n                    this.LangData('wednesday'),\r\n                    this.LangData('thursday'),\r\n                    this.LangData('friday'),\r\n                    this.LangData('saturday'),\r\n                ];\r\n\r\n                return daysList[inpDate.getDay()];\r\n            },\r\n\r\n            Get_formatingDate(inpDate) {\r\n                return inpDate.getDate() + '-' + (inpDate.getMonth() + 1) + '-' + inpDate.getFullYear();\r\n            },\r\n\r\n            LangData(key) {\r\n                return this.lang_data[key] || '';\r\n            },\r\n            \r\n            // Инициализация из store\r\n            initFromStore() {\r\n                if (!this.windowId || !this.appsStore) {\r\n                    console.error('OSICalendar: windowId or appsStore is missing');\r\n                    return;\r\n                }\r\n            \r\n                const savedState = this.appsStore.getWindowState(this.windowId);\r\n                console.log('OSICalendar loaded state:', savedState);\r\n            \r\n                if (savedState && savedState.appType === 'calendar') {\r\n                    this.expression = savedState.expression || '';\r\n                    this.result = savedState.result || '0';\r\n                    this.history = savedState.history || [];\r\n                    this.lastResult = savedState.lastResult || null;\r\n                }\r\n                \r\n                this.isInitialized = true;\r\n                console.log('OSICalendar initialized');\r\n            },\r\n\r\n            // Сохраняем текущее состояние в store\r\n            saveState() {\r\n                if (!this.windowId || !this.appsStore || !this.isInitialized) return;\r\n                \r\n                const state = {\r\n                    appType: 'calendar',\r\n                    timestamp: Date.now()\r\n                };\r\n                \r\n                console.log('OSICalculator saving state:', state);\r\n                this.appsStore.saveWindowState(this.windowId, state);\r\n            },\r\n\r\n            Chng_fullMenuMode() {\r\n                this.FullMenuMode = !this.FullMenuMode;\r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            console.log('OSICalendar app mounted with windowId:', this.windowId);\r\n\r\n            // Инициализируем данные из store после монтирования\r\n            this.$nextTick(() => {\r\n                this.initFromStore();\r\n            });\r\n\r\n            const userLang = navigator.language || navigator.userLanguage;\r\n            const userLangS = userLang.split('-')[0];\r\n            \r\n            this.UserLang = userLangS; \r\n            \r\n            const LangPackData = LangPack;\r\n\r\n            this.lang_data = (userLangS && LangPackData && LangPackData[userLangS]) ? LangPackData[userLangS] : LangPackData.en;\r\n\r\n            // Сохраняем начальное состояние после небольшой задержки\r\n            setTimeout(() => {\r\n                // if (!this.isInitialized) {\r\n                //     this.initFromStore();\r\n                // }\r\n                this.saveState();\r\n            }, 100);\r\n        },\r\n    }\r\n</script>","import { render } from \"./template.html?vue&type=template&id=c748fcea&external\"\nimport script from \"./OSICalendar.vue?vue&type=script&lang=js\"\nexport * from \"./OSICalendar.vue?vue&type=script&lang=js\"\n\nimport \"./style.css?vue&type=style&index=0&lang=css&external\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","colspan","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","style","_normalizeStyle","_ctx","FullMenuMode","onClick","_cache","$event","Chng_fullMenuMode","_hoisted_3","_hoisted_4","_toDisplayString","Get_formatingDate","Get_currentDate","_hoisted_5","_hoisted_6","_hoisted_7","display_selectedDate","Get_weekDay","SelectedDate","_hoisted_8","_Fragment","_renderList","SelectedDate_plan","planElem","_hoisted_9","_hoisted_10","time","_hoisted_11","title","_hoisted_12","_hoisted_13","_hoisted_14","Get_monthStr","_hoisted_15","LangData","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","calendarWeeks","week","days","day","_normalizeClass","isCurrentDay","isSelectedDay","isCurrentMonth","dayOfMonth","_hoisted_22","LangPack","en","mycalendar","mon","tue","wed","thu","fri","sat","sun","sunday","monday","tuesday","wednesday","thursday","friday","saturday","january","february","march","april","may","june","july","august","september","october","november","december","ru","name","props","windowId","type","String","required","selectedYear","Number","default","selectedMonth","selectedDay","data","lang_data","MonthsDay","Today","Date","computed","mapStores","useAppsStore","display_year","this","getFullYear","display_month","getMonth","display_day","getDate","weeks","firstDayOfMonth","firstDayOfCalendar","dayOfWeek","getDay","startOffset","setDate","currentDate","weekNumber","weekDays","d","push","date","dateString","toISOString","split","month","year","hasCurrentMonthDays","some","isFirstWeek","displayMonth","selectedDate","sDate","methods","inpDate","monthsList","daysList","key","initFromStore","appsStore","console","error","savedState","getWindowState","log","appType","expression","result","history","lastResult","isInitialized","saveState","state","timestamp","now","saveWindowState","mounted","$nextTick","userLang","navigator","language","userLanguage","userLangS","UserLang","LangPackData","setTimeout","__exports__","render"],"ignoreList":[],"sourceRoot":""}