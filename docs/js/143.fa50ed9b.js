"use strict";(self["webpackChunkosi"]=self["webpackChunkosi"]||[]).push([[143],{8143:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var l=a(6768),n=a(4232),s=a(5130);const i={class:"osisettings-app"},r={class:"osisettings-menu"},o={class:"osisettings-content"},c={key:0,class:"osisettings-elem-info"},d={key:0},u={key:1,class:"osisettings-elem-info"},g={class:"account-elem d-flex justify-content-center align-items-center"},m={style:{display:"inline-block"}},k={class:"d-flex justify-content-center align-items-center"},L={class:"accaunts-list row"},p={class:"account-elem-min d-flex justify-content-center align-items-center"},v={style:{display:"inline-block"}},h={key:2,class:"osisettings-elem-info"},w=["onClick"],y=["src","alt"],S={class:"wp-elem-min-title"},C={key:3,class:"osisettings-elem-info"},_={key:0},f={class:"osisettings-elem-info-tab"},U={key:0},D={key:1},b={key:2},E={key:3},A={key:4,class:"osisettings-elem-info"},I={class:"osisettings-elem-info-tab",style:{width:"100%"}},x={style:{width:"180px",height:"180px"},class:"dark-area"},X={class:"d-flex justify-content-center align-items-center",style:{width:"100%"}},R={class:"dark-area"},W={class:"d-flex justify-content-center align-items-center mt-3 newuser-inputelem"},P={class:"d-flex justify-content-center align-items-center mt-3 newuser-inputelem"},$={class:"d-flex justify-content-center align-items-center mt-3 newuser-inputelem"},j=["placeholder"],B={class:"d-flex justify-content-center align-items-center mt-3 newuser-inputelem"},O=["placeholder"],V={colspan:"2",class:"dark-area"},N={class:"row",style:{width:"98%","margin-left":"auto","margin-right":"auto"}};function Q(e,t){return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",r,[(0,l.Lk)("ul",null,[(0,l.Lk)("li",{class:(0,n.C4)({"selected-menu-elem":e.Chk_selectedArea("all")})},[(0,l.Lk)("span",{class:"osisettings-menu-elem",onClick:t[0]||(t[0]=t=>e.ChngArea("all"))},(0,n.v_)(e.LangData.allsettings),1)],2),(0,l.Lk)("li",{class:(0,n.C4)({"selected-menu-elem":e.Chk_selectedArea("description")})},[(0,l.Lk)("span",{class:"osisettings-menu-elem",onClick:t[1]||(t[1]=t=>e.ChngArea("description"))},(0,n.v_)(e.LangData.description),1)],2),(0,l.Lk)("li",{class:(0,n.C4)({"selected-menu-elem":e.Chk_selectedArea("accounts")})},[(0,l.Lk)("span",{class:"osisettings-menu-elem",onClick:t[2]||(t[2]=t=>e.ChngArea("accounts"))},(0,n.v_)(e.LangData.accounts),1)],2),(0,l.Lk)("li",{class:(0,n.C4)({"selected-menu-elem":e.Chk_selectedArea("design")})},[(0,l.Lk)("span",{class:"osisettings-menu-elem",onClick:t[3]||(t[3]=t=>e.ChngArea("design"))},(0,n.v_)(e.LangData.design),1)],2),(0,l.Lk)("li",{class:(0,n.C4)({"selected-menu-elem":e.Chk_selectedArea("memmanagment")})},[(0,l.Lk)("span",{class:"osisettings-menu-elem",onClick:t[4]||(t[4]=t=>e.ChngArea("memmanagment"))},(0,n.v_)(e.LangData.memmanagment),1)],2)])]),(0,l.Lk)("div",o,["description"===e.SelectArea||"all"===e.SelectArea?((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("div",null,[(0,l.Lk)("h2",null,(0,n.v_)(e.LangData.description),1),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.eW)((0,n.v_)(e.LangData.name)+": ",1),(0,l.Lk)("i",null,'"'+(0,n.v_)(e.OSIData.name)+'"',1)]),(0,l.Lk)("li",null,[(0,l.eW)((0,n.v_)(e.LangData.version)+": ",1),(0,l.Lk)("i",null,'"'+(0,n.v_)(e.OSIData.versionName)+'"',1)]),(0,l.Lk)("li",null,[t[10]||(t[10]=(0,l.eW)("№: ",-1)),(0,l.Lk)("i",null,(0,n.v_)(e.OSIData.version),1)]),(0,l.Lk)("li",null,[(0,l.eW)((0,n.v_)(e.LangData.date)+": ",1),(0,l.Lk)("i",null,(0,n.v_)(e.OSIData.date),1)])])]),t[12]||(t[12]=(0,l.Lk)("br",null,null,-1)),e.GetBrowserData()?((0,l.uX)(),(0,l.CE)("div",d,[t[11]||(t[11]=(0,l.Lk)("h2",null,"Устройство пользователя",-1)),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.eW)((0,n.v_)(e.LangData.name)+": ",1),(0,l.Lk)("i",null,'"'+(0,n.v_)(e.GetBrowserData().name)+'"',1)]),(0,l.Lk)("li",null,[(0,l.eW)((0,n.v_)(e.LangData.version)+": ",1),(0,l.Lk)("i",null,(0,n.v_)(e.GetBrowserData().version),1)])])])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),"accounts"===e.SelectArea||"all"===e.SelectArea?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("h2",null,(0,n.v_)(e.LangData.accounts),1),t[14]||(t[14]=(0,l.Lk)("h3",null,"Текущая учетная запись:",-1)),(0,l.Lk)("div",g,[(0,l.Lk)("div",{class:"account-elem-avatar",style:(0,n.Tr)(e.avatarStyle(e.USER.config.avatar))},null,4),(0,l.Lk)("ul",m,[(0,l.Lk)("li",null,(0,n.v_)(e.LangData.user)+": "+(0,n.v_)(e.USER.name),1),(0,l.Lk)("li",null,(0,n.v_)(e.LangData.login)+": "+(0,n.v_)(e.USER.login),1),(0,l.Lk)("li",null,(0,n.v_)(e.LangData.created)+": "+(0,n.v_)(e.USER.createdAt.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}))+" "+(0,n.v_)(e.USER.createdAt.toLocaleDateString()),1),(0,l.Lk)("li",null,(0,n.v_)(e.LangData.changed)+": "+(0,n.v_)(e.USER.updatedAt.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}))+" "+(0,n.v_)(e.USER.updatedAt.toLocaleDateString()),1)])]),(0,l.Lk)("div",k,[(0,l.Lk)("span",{class:"osisettings-btn-warning",onClick:t[5]||(t[5]=t=>e.ReloadPage())},[...t[13]||(t[13]=[(0,l.Lk)("i",{class:"bi bi-door-open-fill"},null,-1),(0,l.eW)(" Выйти из учетной записи",-1)])])]),t[15]||(t[15]=(0,l.Lk)("hr",null,null,-1)),t[16]||(t[16]=(0,l.Lk)("h3",null,"Все учетные записи на устройстве:",-1)),(0,l.Lk)("div",L,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.users,t=>((0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("div",{class:"account-elem-avatar-min",style:(0,n.Tr)(e.avatarStyle(t.config.avatar))},null,4),(0,l.Lk)("div",v,[(0,l.Lk)("b",null,(0,n.v_)(t.login),1)])]))),256))])])):(0,l.Q3)("",!0),"design"===e.SelectArea||"all"===e.SelectArea?((0,l.uX)(),(0,l.CE)("div",h,[(0,l.Lk)("h2",null,(0,n.v_)(e.LangData.design),1),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.Lk)("h3",null,(0,n.v_)(e.LangData.desktopbgimg)+":",1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.wpList,t=>((0,l.uX)(),(0,l.CE)("div",{class:"wp-elem-min",onClick:a=>e.ChangeWPImage(t.nameExt)},[(0,l.Lk)("img",{src:t.path,alt:t.name,class:(0,n.C4)(e.USER.systemconfig.desktopWallpaper==t.nameExt?"selected-wp":"")},null,10,y),(0,l.Lk)("div",S,(0,n.v_)(t.name),1)],8,w))),256))])])])):(0,l.Q3)("",!0),"memmanagment"===e.SelectArea||"all"===e.SelectArea?((0,l.uX)(),(0,l.CE)("div",C,[(0,l.Lk)("h2",null,(0,n.v_)(e.LangData.memmanagment),1),t[25]||(t[25]=(0,l.Lk)("h3",{style:{"padding-left":"10px","margin-top":"10px"}},"localStorage:",-1)),e.storeStatistic?((0,l.uX)(),(0,l.CE)("div",_,[(0,l.Lk)("table",f,[(0,l.Lk)("tbody",null,[t[21]||(t[21]=(0,l.Lk)("tr",{class:"tab-header"},[(0,l.Lk)("td",{colspan:"3"},"Память:")],-1)),(0,l.Lk)("tr",null,[t[17]||(t[17]=(0,l.Lk)("td",{colspan:"2"},"Лимит:",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.storeStatistic.limit.standard),1)]),(0,l.Lk)("tr",null,[t[18]||(t[18]=(0,l.Lk)("td",{colspan:"2"},"Занято (в MB):",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.storeStatistic.total.megabytes),1)]),(0,l.Lk)("tr",null,[t[19]||(t[19]=(0,l.Lk)("td",{colspan:"2"},"Занято (в %):",-1)),(0,l.Lk)("td",null,(0,n.v_)(e.storeStatistic.limit.usedPercent),1)]),t[22]||(t[22]=(0,l.Lk)("tr",{class:"tab-header"},[(0,l.Lk)("td",{colspan:"3"},"Хранилища:")],-1)),e.storeStatistic.entries&&e.storeStatistic.entries.length>0?((0,l.uX)(),(0,l.CE)("tr",U,[...t[20]||(t[20]=[(0,l.Lk)("td",null,"№",-1),(0,l.Lk)("td",null,"Наименование",-1),(0,l.Lk)("td",null,"Занято",-1)])])):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.storeStatistic.entries,(e,t)=>((0,l.uX)(),(0,l.CE)("tr",null,[(0,l.Lk)("td",null,(0,n.v_)(++t),1),(0,l.Lk)("td",null,(0,n.v_)(e.key),1),(0,l.Lk)("td",null,(0,n.v_)(e.totalSize),1)]))),256))])])])):((0,l.uX)(),(0,l.CE)("div",D,[...t[23]||(t[23]=[(0,l.Lk)("table",{class:"osisettings-elem-info-tab"},[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,"Нет данных")])])],-1)])])),t[26]||(t[26]=(0,l.Lk)("h3",{style:{"padding-left":"10px","margin-top":"10px"}},"IndexedDB:",-1)),e.indexedDBStatistic?((0,l.uX)(),(0,l.CE)("div",b)):((0,l.uX)(),(0,l.CE)("div",E,[...t[24]||(t[24]=[(0,l.Lk)("table",{class:"osisettings-elem-info-tab"},[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,"Нет данных")])])],-1)])]))])):(0,l.Q3)("",!0),"account_settings"===e.SelectArea?((0,l.uX)(),(0,l.CE)("div",A,[t[33]||(t[33]=(0,l.Lk)("h2",null,"Редактирование учетной записи",-1)),(0,l.Lk)("table",I,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",x,[(0,l.Lk)("div",X,[(0,l.Lk)("div",{class:"account-elem-avatar-max",style:(0,n.Tr)(e.avatarStyle(e.USER.config.avatar))},null,4)])]),(0,l.Lk)("td",R,[(0,l.Lk)("div",W,[t[27]||(t[27]=(0,l.Lk)("label",{for:"editUser_name"},"Name:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"editUser_name","onUpdate:modelValue":t[6]||(t[6]=t=>e.editUser.name=t),placeholder:"Ваше имя",maxlength:"20"},null,512),[[s.Jo,e.editUser.name]])]),(0,l.Lk)("div",P,[t[28]||(t[28]=(0,l.Lk)("label",{for:"editUser_login"},"Login:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"editUser_login","onUpdate:modelValue":t[7]||(t[7]=t=>e.editUser.login=t),placeholder:"Ваш логин",maxlength:"15"},null,512),[[s.Jo,e.editUser.login]])]),(0,l.Lk)("div",$,[t[29]||(t[29]=(0,l.Lk)("label",{for:"editUser_password"},"Password:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",id:"editUser_password","onUpdate:modelValue":t[8]||(t[8]=t=>e.editUser.password=t),placeholder:e.LangData.yourpasswordoptional},null,8,j),[[s.Jo,e.editUser.password]])]),(0,l.Lk)("div",B,[t[30]||(t[30]=(0,l.Lk)("label",{for:"editUser_newpassword"},"New password:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",id:"editUser_newpassword","onUpdate:modelValue":t[9]||(t[9]=t=>e.editUser.newpassword=t),placeholder:e.LangData.yourpasswordoptional},null,8,O),[[s.Jo,e.editUser.newpassword]])])])]),(0,l.Lk)("tr",null,[(0,l.Lk)("td",V,[(0,l.Lk)("div",N,[t[31]||(t[31]=(0,l.Lk)("h3",null,"Аватар:",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.avatarsList,t=>((0,l.uX)(),(0,l.CE)("div",{class:"account-elem-avatar-min col-3",style:(0,n.Tr)([e.avatarStyle(t.nameExt),{margin:"10px"}])},null,4))),256))])])]),t[32]||(t[32]=(0,l.Lk)("tr",null,[(0,l.Lk)("td",{colspan:"2",class:"dark-area"})],-1))])])])):(0,l.Q3)("",!0)])])}var T=a(3186),F=a(8027);const q={name:"OSI (Operating System Imitation)",version:"0.2",date:"16.02.2026",en:{versionName:"skeleton"},ru:{versionName:"скелет"}};const z={en:{description:"Description",name:"Name",version:"Version",accounts:"Accounts",design:"Design",desktopbgimg:"Desktop background image",memmanagment:"Memory management",clear:"Clear",delquest:"Delete data from ",select:"Select",date:"Date",collapse:"Collapse",created:"Created",changed:"Changed",login:"Login",user:"User",allsettings:"All settings"},ru:{description:"Описание",name:"Наименование",version:"Версия",accounts:"Учетные записи",design:"Оформление",desktopbgimg:"Фоновое изображение рабочего стола",memmanagment:"Управление памятью",clear:"Очистить",delquest:"Удалить данные из ",select:"Выбрать",date:"Дата",collapse:"Свернуть",created:"Создано",changed:"Изменено",login:"Логин",user:"Пользователь",allsettings:"Все настройки"}},G="OSISettings";var J={name:G,props:{windowId:{type:String,required:!0},USERID:{type:Number,default:0}},inject:["changeWallpaper"],data(){return{users:[],usersCount:0,SelectArea:"description",UserLang:"",LangData:{},showPanel_deskimg:!1,wpList:T.I.system.getImageList(),USER:null,editUser:{name:"",login:"",password:"",newpassword:""},avatarsList:T.I.system.getAvatarsList()}},computed:{OSIData(){return{...q[this.UserLang],name:q.name,version:q.version,date:q.date}},storeStatistic(){let e=T.I.browser.getLocalStorageUsage();return console.log("navigator",navigator),e},indexedDBStatistic(){return!1}},async mounted(){console.log(`${G} mounted with windowId:`,this.windowId),await this.loadUsers(),this.findUser();const e=navigator.language||navigator.userLanguage,t=e.split("-")[0];this.UserLang=t;const a=z;this.LangData=t&&a&&a[t]?a[t]:a.en},beforeUnmount(){},methods:{ReloadPage(){window.location.reload()},async loadUsers(){try{this.users=await F.Vy.getAll(),this.usersCount=await F.Vy.count()}catch(e){console.error("Ошибка загрузки пользователей:",e),this.$toast.error("Не удалось загрузить пользователей")}},async findUser(){try{this.USER=await F.Vy.getbyId(this.USERID)}catch(e){console.error("Ошибка поиска пользователя:",e),this.$toast.error("Не удалось загрузить данные пользователя")}},GetBrowserData(){return T.I.browser.detectBrowser()},Chk_selectedArea(e){return this.SelectArea===e},initFromStore(){if(!this.windowId||!this.appsStore)return void console.error(`${G}: windowId or appsStore is missing`);const e=this.appsStore.getWindowState(this.windowId);console.log(`${G} loaded state:`,e),this.isInitialized=!0,console.log(`${G} initialized`)},StoreClear(e){console.log("StoreClear(key)",e);let t=confirm(`${this.LangData.delquest}${e}?`);t&&localStorage.removeItem(e)},ChngArea(e){this.SelectArea=e},Chng_showPanel(e){this[`showPanel_${e}`]=!this[`showPanel_${e}`]},async ChangeWPImage(e){try{const t=await this.changeWallpaper(e);t&&await this.findUser()}catch{return!1}},getAvatarUrl(e){return`url(${a(449)("./"+e)})`},avatarStyle(e){return{backgroundImage:this.getAvatarUrl(e),backgroundSize:"cover",backgroundPosition:"center"}}}},K=a(1241);const M=(0,K.A)(J,[["render",Q]]);var H=M}}]);
//# sourceMappingURL=143.fa50ed9b.js.map