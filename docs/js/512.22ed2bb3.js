"use strict";(self["webpackChunkosi"]=self["webpackChunkosi"]||[]).push([[512],{7512:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var r=t(6768),n=t(4232);const s={class:"calendar-app"},d={class:"calendar-top-panel d-flex justify-content-center align-items-center"};function i(e,a){return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",d," Текущее время: "+(0,n.v_)(e.currentTime)+" "+(0,n.v_)(e.currentDate),1),a[0]||(a[0]=(0,r.Fv)('<div class="calendar-area-work"><div class="calendar-area-table"><div class="calendar-area-table-head"> *** </div><div></div></div><div class="calendar-area-info"></div></div><div class="calendar-bottom-panel d-flex justify-content-center align-items-center"></div>',2))])}const u={en:{mycalendar:"My calendar",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Thursday",saturday:"Saturday",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ru:{mycalendar:"Мой календарь",mon:"Пн",tue:"Вт",wed:"Ср",thu:"Чт",fri:"Пт",sat:"Сб",sun:"Вс",sunday:"Воскресенье",monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",january:"Январь",february:"Февраль",march:"Март",april:"Апрель",may:"Май",june:"Июнь",july:"Июль",august:"Август",september:"Сентябрь",october:"Октябрь",november:"Ноябрь",december:"Декабрь"}};var l=t(2261),o=t(5619),c=t(8027),y={name:"OSICalendar",props:{windowId:{type:String,required:!0},USERID:{type:Number,default:0},selectedYear:{type:Number,default:null},selectedMonth:{type:Number,default:null},selectedDay:{type:Number,default:null}},data(){return{USER:null,lang_data:{},timer:null,currentDate:null,currentTime:null}},computed:{...(0,l.n2)(o.useAppsStore)},methods:{async reloadTime(){this.updateTime(),this.timer=setInterval(this.updateTime,1e3)},updateTime(){const e=new Date;this.currentDate=e.toLocaleDateString(),this.currentTime=e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},async findUser(){try{this.USER=await c.Vy.getbyId(this.USERID)}catch(e){console.error("Ошибка поиска пользователя:",e),this.$toast.error("Не удалось загрузить данные пользователя")}},saveState(){if(!this.windowId||!this.appsStore||!this.isInitialized)return;const e={appType:"calendar",timestamp:Date.now()};console.log("OSICalculator saving state:",e),this.appsStore.saveWindowState(this.windowId,e)}},mounted(){console.log("OSICalendar app mounted with windowId:",this.windowId);const e=navigator.language||navigator.userLanguage,a=e.split("-")[0];this.UserLang=a;const t=u;this.lang_data=a&&t&&t[a]?t[a]:t.en,setTimeout(()=>{this.saveState()},100),this.reloadTime()},beforeUnmount(){this.timer&&clearInterval(this.timer)}},m=t(1241);const h=(0,m.A)(y,[["render",i]]);var p=h}}]);
//# sourceMappingURL=512.22ed2bb3.js.map