(function(){"use strict";var i={82:function(i,e,t){i.exports=t.p+"img/nwall.166e5457.jpg"},6097:function(i,e,t){var s=t(5130),n=t(2261),o=(t(8111),t(6768));const a={class:"webos"};function r(i,e,t,s,n,r){const d=(0,o.g2)("SimpleWindow"),l=(0,o.g2)("DesktopArea"),h=(0,o.g2)("TaskBar");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(l,null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.osStore.windows,i=>((0,o.uX)(),(0,o.Wv)(d,{key:i.id,windowId:i.id,title:i.title,appName:i.appName,isMinimized:i.isMinimized,isActive:n.osStore.activeWindowId===i.id,isMaximized:i.isMaximized,zIndex:i.zIndex,onClose:r.closeWindow,onMinimize:r.minimizeWindow,onToggleMaximize:r.toggleMaximizeWindow,onFocus:r.activateWindow},null,8,["windowId","title","appName","isMinimized","isActive","isMaximized","zIndex","onClose","onMinimize","onToggleMaximize","onFocus"]))),128))]),_:1}),(0,o.bF)(h)])}var d=t(4232);const l={class:"desktop-icons"},h=["onDblclick"],c={class:"icon"},u={class:"label"};function w(i,e,t,s,n,a){return(0,o.uX)(),(0,o.CE)("div",{class:"desktop-area",onClick:e[0]||(e[0]=(...i)=>a.activateDesktop&&a.activateDesktop(...i)),style:(0,d.Tr)(a.desktopStyle)},[(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.apps,i=>((0,o.uX)(),(0,o.CE)("div",{key:i.name,class:"desktop-icon",onDblclick:e=>a.launchApp(i.name)},[(0,o.Lk)("div",c,(0,d.v_)(i.icon),1),(0,o.Lk)("span",u,(0,d.v_)(i.label),1)],40,h))),128))]),(0,o.RG)(i.$slots,"default",{},void 0,!0)],4)}t(2489),t(4114),t(116),t(7588);var m=t(144);const p=(0,n.nY)("os",()=>{const i=(0,m.KR)([]),e=(0,m.KR)(null);let t=100;const s=s=>{const n=i.value.find(i=>i.id===s);n&&(e.value=s,i.value.forEach(i=>{i.id===s&&(i.zIndex=t++)}))},n=e=>{const n={id:Date.now().toString(),appName:e,title:`${e} - ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ`,isMinimized:!1,isMaximized:!1,zIndex:t++};return i.value.push(n),s(n.id),n.id},o=e=>{const t=i.value.findIndex(i=>i.id===e);-1!==t&&i.value.splice(t,1)},a=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!0)},r=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!1,s(e))},d=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMaximized=!t.isMaximized,s(e))};return{windows:i,activeWindowId:e,openWindow:n,closeWindow:o,minimizeWindow:a,restoreWindow:r,toggleMaximizeWindow:d,activateWindow:s}});var g={name:"DesktopArea",data(){return{apps:[{name:"notepad",label:"Ð‘Ð»Ð¾ÐºÐ½Ð¾Ñ‚",icon:"ðŸ“"},{name:"explorer",label:"ÐŸÑ€Ð¾Ð²Ð¾Ð´Ð½Ð¸Ðº",icon:"ðŸ“"},{name:"calculator",label:"ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€",icon:"ðŸ§®"},{name:"settings",label:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",icon:"âš™ï¸"}]}},computed:{desktopStyle(){return{backgroundImage:`url(${this.getWallpaperUrl()})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},osStore(){return p()}},methods:{getWallpaperUrl(){return t(82)},activateDesktop(){this.osStore.activeWindowId=null},launchApp(i){const e=this.osStore.windows.filter(e=>e.appName===i&&!e.isMinimized);e.length>0?this.osStore.activateWindow(e[0].id):this.osStore.openWindow(i)}}},z=t(1241);const v=(0,z.A)(g,[["render",w],["__scopeId","data-v-1499fb73"]]);var f=v;const M={class:"task-bar"},k={class:"taskbar-apps"},x=["onClick"],S={class:"app-icon"},W={class:"app-title"},b={class:"system-tray"},I={class:"tray-time"};function y(i,e,t,s,n,a){return(0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("button",{class:"start-button",onClick:e[0]||(e[0]=(...i)=>a.toggleStartMenu&&a.toggleStartMenu(...i))},[...e[1]||(e[1]=[(0,o.Lk)("span",{class:"start-icon"},"ðŸŒ€",-1),(0,o.Lk)("span",{class:"start-text"},"Menu",-1)])]),(0,o.Lk)("div",k,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.osStore.windows,i=>((0,o.uX)(),(0,o.CE)("button",{key:i.id,class:(0,d.C4)(["taskbar-app",{active:a.osStore.activeWindowId===i.id}]),onClick:e=>a.toggleWindow(i.id)},[(0,o.Lk)("span",S,(0,d.v_)(a.getAppIcon(i.appName)),1),(0,o.Lk)("span",W,(0,d.v_)(i.title),1)],10,x))),128))]),(0,o.Lk)("div",b,[(0,o.Lk)("div",I,(0,d.v_)(n.currentTime),1)])])}var L={name:"TaskBar",data(){return{currentTime:"",timer:null}},computed:{osStore(){return p()}},methods:{updateTime(){const i=new Date;this.currentTime=i.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},getAppIcon(i){const e={notepad:"ðŸ“",explorer:"ðŸ“",calculator:"ðŸ§®",settings:"âš™ï¸"};return e[i]||"ðŸ“„"},toggleWindow(i){const e=this.osStore.windows.find(e=>e.id===i);e&&(e.isMinimized?this.osStore.restoreWindow(i):this.osStore.activateWindow(i))},toggleStartMenu(){console.log("ÐœÐµÐ½ÑŽ ÐŸÑƒÑÐº")}},mounted(){this.updateTime(),this.timer=setInterval(this.updateTime,1e3)},beforeUnmount(){this.timer&&clearInterval(this.timer)}};const X=(0,z.A)(L,[["render",y],["__scopeId","data-v-7fc7340c"]]);var D=X;const C={class:"window-title"},R={class:"window-controls"},_={class:"window-content"},E={class:"default-content"};function Y(i,e,t,s,n,a){return t.isMinimized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,d.C4)(["simple-window",{active:t.isActive,maximized:t.isMaximized}]),style:(0,d.Tr)(a.windowStyles),onMousedown:e[13]||(e[13]=(...i)=>a.activateWindow&&a.activateWindow(...i))},[(0,o.Lk)("div",{class:"window-header",onMousedown:e[3]||(e[3]=(...i)=>a.startDrag&&a.startDrag(...i)),onDblclick:e[4]||(e[4]=(...i)=>a.toggleMaximize&&a.toggleMaximize(...i))},[(0,o.Lk)("span",C,(0,d.v_)(t.title),1),(0,o.Lk)("div",R,[(0,o.Lk)("button",{class:"window-btn minimize",onClick:e[0]||(e[0]=(...i)=>a.minimize&&a.minimize(...i))},"_"),(0,o.Lk)("button",{class:"window-btn maximize",onClick:e[1]||(e[1]=(...i)=>a.toggleMaximize&&a.toggleMaximize(...i))},(0,d.v_)(t.isMaximized?"â":"â–¡"),1),(0,o.Lk)("button",{class:"window-btn close",onClick:e[2]||(e[2]=(...i)=>a.close&&a.close(...i))},"âœ•")])],32),(0,o.Lk)("div",_,[(0,o.RG)(i.$slots,"default",{},()=>[(0,o.Lk)("div",E,[(0,o.Lk)("p",null,"Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ "+(0,d.v_)(t.appName),1),(0,o.Lk)("p",null,"Ð­Ñ‚Ð¾ Ð¾ÐºÐ½Ð¾ "+(0,d.v_)(t.isMaximized?"Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¾":"Ð½Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¾"),1),(0,o.Lk)("p",null,"Ð Ð°Ð·Ð¼ÐµÑ€: "+(0,d.v_)(n.windowWidth)+" Ã— "+(0,d.v_)(n.windowHeight),1)])],!0)]),t.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",{class:"resize-handle resize-top",onMousedown:e[5]||(e[5]=i=>a.startResize("n"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-right",onMousedown:e[6]||(e[6]=i=>a.startResize("e"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-bottom",onMousedown:e[7]||(e[7]=i=>a.startResize("s"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-left",onMousedown:e[8]||(e[8]=i=>a.startResize("w"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-top-right",onMousedown:e[9]||(e[9]=i=>a.startResize("ne"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-bottom-right",onMousedown:e[10]||(e[10]=i=>a.startResize("se"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-bottom-left",onMousedown:e[11]||(e[11]=i=>a.startResize("sw"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-top-left",onMousedown:e[12]||(e[12]=i=>a.startResize("nw"))},null,32)],64))],38))}var T={name:"SimpleWindow",props:{windowId:String,title:{type:String,default:"ÐžÐºÐ½Ð¾"},appName:{type:String,default:"app"},isMinimized:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isMaximized:{type:Boolean,default:!1},zIndex:{type:Number,default:100}},emits:["close","minimize","focus","toggleMaximize"],data(){return{posX:100,posY:100,windowWidth:400,windowHeight:300,isDragging:!1,isResizing:!1,dragOffset:{x:0,y:0},resizeDirection:"",resizeStart:{x:0,y:0,width:0,height:0,mouseX:0,mouseY:0}}},computed:{windowStyles(){const i={zIndex:this.zIndex};return this.isMaximized?{...i,left:"0",top:"0",width:"100vw",height:"100vh",borderRadius:"0"}:{...i,left:`${this.posX}px`,top:`${this.posY}px`,width:`${this.windowWidth}px`,height:`${this.windowHeight}px`}}},mounted(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},methods:{activateWindow(){this.$emit("focus",this.windowId)},startDrag(i){this.$emit("focus",this.windowId),this.isMaximized||(this.isDragging=!0,this.dragOffset={x:i.clientX-this.posX,y:i.clientY-this.posY},i.stopPropagation())},startResize(i){this.isMaximized||(this.$emit("focus",this.windowId),this.isResizing=!0,this.resizeDirection=i,this.resizeStart.x=this.posX,this.resizeStart.y=this.posY,this.resizeStart.width=this.windowWidth,this.resizeStart.height=this.windowHeight,this.resizeStart.mouseX=event.clientX,this.resizeStart.mouseY=event.clientY)},handleMouseMove(i){if(this.isDragging&&!this.isMaximized){let e=i.clientX-this.dragOffset.x,t=i.clientY-this.dragOffset.y;const s=window.innerWidth-this.windowWidth,n=window.innerHeight-this.windowHeight;this.posX=Math.max(0,Math.min(e,s)),this.posY=Math.max(0,Math.min(t,n))}else this.isResizing&&!this.isMaximized&&this.handleResize(i)},handleResize(i){const e=i.clientX-this.resizeStart.mouseX,t=i.clientY-this.resizeStart.mouseY,s=200,n=150;let o=this.resizeStart.x,a=this.resizeStart.y,r=this.resizeStart.width,d=this.resizeStart.height;this.resizeDirection.includes("e")&&(r=Math.max(s,this.resizeStart.width+e)),this.resizeDirection.includes("w")&&(r=Math.max(s,this.resizeStart.width-e),o=this.resizeStart.x+(this.resizeStart.width-r)),this.resizeDirection.includes("s")&&(d=Math.max(n,this.resizeStart.height+t)),this.resizeDirection.includes("n")&&(d=Math.max(n,this.resizeStart.height-t),a=this.resizeStart.y+(this.resizeStart.height-d)),this.posX=o,this.posY=a,this.windowWidth=r,this.windowHeight=d,this.keepWindowInBounds()},keepWindowInBounds(){const i=200,e=150,t=window.innerWidth,s=window.innerHeight;this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight),this.posX+this.windowWidth>t&&(this.windowWidth=t-this.posX),this.posY+this.windowHeight>s&&(this.windowHeight=s-this.posY),this.posX=Math.max(0,this.posX),this.posY=Math.max(0,this.posY),this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight)},handleMouseUp(){(this.isDragging||this.isResizing)&&this.keepWindowInBounds(),this.isDragging=!1,this.isResizing=!1},minimize(){this.$emit("minimize",this.windowId)},toggleMaximize(){this.$emit("toggleMaximize",this.windowId)},close(){this.$emit("close",this.windowId)}}};const A=(0,z.A)(T,[["render",Y],["__scopeId","data-v-42bbd131"]]);var O=A,H={name:"App",components:{DesktopArea:f,TaskBar:D,SimpleWindow:O},data(){return{osStore:null}},methods:{closeWindow(i){this.osStore&&this.osStore.closeWindow(i)},minimizeWindow(i){this.osStore&&this.osStore.minimizeWindow(i)},toggleMaximizeWindow(i){this.osStore&&this.osStore.toggleMaximizeWindow(i)},activateWindow(i){this.osStore&&this.osStore.activateWindow(i)}},created(){this.osStore=p()},mounted(){setTimeout(()=>{this.osStore&&this.osStore.openWindow("notepad")},500)}};const $=(0,z.A)(H,[["render",r],["__scopeId","data-v-d9ff5e90"]]);var B=$;const F=(0,s.Ef)(B),N=(0,n.Ey)();F.use(N),F.mount("#app")}},e={};function t(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return i[s].call(o.exports,o,o.exports,t),o.exports}t.m=i,function(){var i=[];t.O=function(e,s,n,o){if(!s){var a=1/0;for(h=0;h<i.length;h++){s=i[h][0],n=i[h][1],o=i[h][2];for(var r=!0,d=0;d<s.length;d++)(!1&o||a>=o)&&Object.keys(t.O).every(function(i){return t.O[i](s[d])})?s.splice(d--,1):(r=!1,o<a&&(a=o));if(r){i.splice(h--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var h=i.length;h>0&&i[h-1][2]>o;h--)i[h]=i[h-1];i[h]=[s,n,o]}}(),function(){t.n=function(i){var e=i&&i.__esModule?function(){return i["default"]}:function(){return i};return t.d(e,{a:e}),e}}(),function(){t.d=function(i,e){for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)}}(),function(){t.p="/osi/"}(),function(){var i={524:0};t.O.j=function(e){return 0===i[e]};var e=function(e,s){var n,o,a=s[0],r=s[1],d=s[2],l=0;if(a.some(function(e){return 0!==i[e]})){for(n in r)t.o(r,n)&&(t.m[n]=r[n]);if(d)var h=d(t)}for(e&&e(s);l<a.length;l++)o=a[l],t.o(i,o)&&i[o]&&i[o][0](),i[o]=0;return t.O(h)},s=self["webpackChunkosi"]=self["webpackChunkosi"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(6097)});s=t.O(s)})();
//# sourceMappingURL=app.49e3959d.js.map