"use strict";(self["webpackChunkosi"]=self["webpackChunkosi"]||[]).push([[138],{3138:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var n=a(6768),l=a(4232);const s={class:"osisettings-app"},i={class:"osisettings-menu"},o={class:"osisettings-content"},r={key:0,class:"osisettings-elem-info"},u={key:0},c={key:1,class:"osisettings-elem-info"},d={class:"account-elem d-flex justify-content-center align-items-center"},g={style:{display:"inline-block"}},L={key:2,class:"osisettings-elem-info"},m=["onClick"],k=["src","alt"],v={class:"wp-elem-min-title"},h={key:3,class:"osisettings-elem-info"},p={key:0},S={class:"osisettings-elem-info-tab"},_={key:0},C={key:1},D={key:2},y={key:3};function w(e,t){return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",i,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",{class:(0,l.C4)({"selected-menu-elem":e.Chk_selectedArea("description")})},[(0,n.Lk)("span",{class:"osisettings-menu-elem",onClick:t[0]||(t[0]=t=>e.ChngArea("description"))},(0,l.v_)(e.LangData.description),1)],2),(0,n.Lk)("li",{class:(0,l.C4)({"selected-menu-elem":e.Chk_selectedArea("accounts")})},[(0,n.Lk)("span",{class:"osisettings-menu-elem",onClick:t[1]||(t[1]=t=>e.ChngArea("accounts"))},(0,l.v_)(e.LangData.accounts),1)],2),(0,n.Lk)("li",{class:(0,l.C4)({"selected-menu-elem":e.Chk_selectedArea("design")})},[(0,n.Lk)("span",{class:"osisettings-menu-elem",onClick:t[2]||(t[2]=t=>e.ChngArea("design"))},(0,l.v_)(e.LangData.design),1)],2),(0,n.Lk)("li",{class:(0,l.C4)({"selected-menu-elem":e.Chk_selectedArea("memmanagment")})},[(0,n.Lk)("span",{class:"osisettings-menu-elem",onClick:t[3]||(t[3]=t=>e.ChngArea("memmanagment"))},(0,l.v_)(e.LangData.memmanagment),1)],2)])]),(0,n.Lk)("div",o,["description"===e.SelectArea?((0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",null,[(0,n.Lk)("h2",null,(0,l.v_)(e.LangData.description),1),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.eW)((0,l.v_)(e.LangData.name)+": ",1),(0,n.Lk)("i",null,'"'+(0,l.v_)(e.OSIData.name)+'"',1)]),(0,n.Lk)("li",null,[(0,n.eW)((0,l.v_)(e.LangData.version)+": ",1),(0,n.Lk)("i",null,'"'+(0,l.v_)(e.OSIData.versionName)+'"',1)]),(0,n.Lk)("li",null,[t[4]||(t[4]=(0,n.eW)("№: ",-1)),(0,n.Lk)("i",null,(0,l.v_)(e.OSIData.version),1)]),(0,n.Lk)("li",null,[(0,n.eW)((0,l.v_)(e.LangData.date)+": ",1),(0,n.Lk)("i",null,(0,l.v_)(e.OSIData.date),1)])])]),t[6]||(t[6]=(0,n.Lk)("br",null,null,-1)),e.GetBrowserData()?((0,n.uX)(),(0,n.CE)("div",u,[t[5]||(t[5]=(0,n.Lk)("h2",null,"Устройство пользователя",-1)),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.eW)((0,l.v_)(e.LangData.name)+": ",1),(0,n.Lk)("i",null,'"'+(0,l.v_)(e.GetBrowserData().name)+'"',1)]),(0,n.Lk)("li",null,[(0,n.eW)((0,l.v_)(e.LangData.version)+": ",1),(0,n.Lk)("i",null,(0,l.v_)(e.GetBrowserData().version),1)])])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),"accounts"===e.SelectArea?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("h2",null,(0,l.v_)(e.LangData.accounts),1),(0,n.Lk)("div",d,[(0,n.Lk)("div",{class:"account-elem-avatar",style:(0,l.Tr)(e.avatarStyle(e.USER.config.avatar))},null,4),(0,n.Lk)("ul",g,[(0,n.Lk)("li",null,"ID: "+(0,l.v_)(e.USER.id),1),(0,n.Lk)("li",null,(0,l.v_)(e.LangData.login)+": "+(0,l.v_)(e.USER.login),1),(0,n.Lk)("li",null,(0,l.v_)(e.LangData.created)+": "+(0,l.v_)(e.USER.createdAt.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}))+" "+(0,l.v_)(e.USER.createdAt.toLocaleDateString()),1),(0,n.Lk)("li",null,(0,l.v_)(e.LangData.changed)+": "+(0,l.v_)(e.USER.updatedAt.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}))+" "+(0,l.v_)(e.USER.updatedAt.toLocaleDateString()),1)])]),t[7]||(t[7]=(0,n.Lk)("hr",null,null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.users,t=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"ID: "+(0,l.v_)(t.id),1),(0,n.Lk)("li",null,(0,l.v_)(e.LangData.login)+": "+(0,l.v_)(t.login),1),(0,n.Lk)("li",null,(0,l.v_)(e.LangData.created)+": "+(0,l.v_)(t.createdAt.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}))+" "+(0,l.v_)(t.createdAt.toLocaleDateString()),1),(0,n.Lk)("li",null,(0,l.v_)(e.LangData.changed)+": "+(0,l.v_)(t.updatedAt.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}))+" "+(0,l.v_)(t.updatedAt.toLocaleDateString()),1)])]))),256))])):(0,n.Q3)("",!0),"design"===e.SelectArea?((0,n.uX)(),(0,n.CE)("div",L,[(0,n.Lk)("h2",null,(0,l.v_)(e.LangData.design),1),(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.Lk)("h3",null,(0,l.v_)(e.LangData.desktopbgimg)+":",1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.wpList,t=>((0,n.uX)(),(0,n.CE)("div",{class:"wp-elem-min",onClick:a=>e.ChangeWPImage(t.nameExt)},[(0,n.Lk)("img",{src:t.path,alt:t.name},null,8,k),(0,n.Lk)("div",v,(0,l.v_)(t.name),1)],8,m))),256))])])])):(0,n.Q3)("",!0),"memmanagment"===e.SelectArea?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("h2",null,(0,l.v_)(e.LangData.memmanagment),1),t[16]||(t[16]=(0,n.Lk)("h3",{style:{"padding-left":"10px","margin-top":"10px"}},"localStorage:",-1)),e.storeStatistic?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("table",S,[(0,n.Lk)("tbody",null,[t[12]||(t[12]=(0,n.Lk)("tr",{class:"tab-header"},[(0,n.Lk)("td",{colspan:"3"},"Память:")],-1)),(0,n.Lk)("tr",null,[t[8]||(t[8]=(0,n.Lk)("td",{colspan:"2"},"Лимит:",-1)),(0,n.Lk)("td",null,(0,l.v_)(e.storeStatistic.limit.standard),1)]),(0,n.Lk)("tr",null,[t[9]||(t[9]=(0,n.Lk)("td",{colspan:"2"},"Занято (в MB):",-1)),(0,n.Lk)("td",null,(0,l.v_)(e.storeStatistic.total.megabytes),1)]),(0,n.Lk)("tr",null,[t[10]||(t[10]=(0,n.Lk)("td",{colspan:"2"},"Занято (в %):",-1)),(0,n.Lk)("td",null,(0,l.v_)(e.storeStatistic.limit.usedPercent),1)]),t[13]||(t[13]=(0,n.Lk)("tr",{class:"tab-header"},[(0,n.Lk)("td",{colspan:"3"},"Хранилища:")],-1)),e.storeStatistic.entries&&e.storeStatistic.entries.length>0?((0,n.uX)(),(0,n.CE)("tr",_,[...t[11]||(t[11]=[(0,n.Lk)("td",null,"№",-1),(0,n.Lk)("td",null,"Наименование",-1),(0,n.Lk)("td",null,"Занято",-1)])])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.storeStatistic.entries,(e,t)=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,l.v_)(++t),1),(0,n.Lk)("td",null,(0,l.v_)(e.key),1),(0,n.Lk)("td",null,(0,l.v_)(e.totalSize),1)]))),256))])])])):((0,n.uX)(),(0,n.CE)("div",C,[...t[14]||(t[14]=[(0,n.Lk)("table",{class:"osisettings-elem-info-tab"},[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,"Нет данных")])])],-1)])])),t[17]||(t[17]=(0,n.Lk)("h3",{style:{"padding-left":"10px","margin-top":"10px"}},"IndexedDB:",-1)),e.indexedDBStatistic?((0,n.uX)(),(0,n.CE)("div",D)):((0,n.uX)(),(0,n.CE)("div",y,[...t[15]||(t[15]=[(0,n.Lk)("table",{class:"osisettings-elem-info-tab"},[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,"Нет данных")])])],-1)])]))])):(0,n.Q3)("",!0)])])}var I=a(3186),A=a(8027);const E={en:{description:"Description",name:"Name",version:"Version",accounts:"Accounts",design:"Design",desktopbgimg:"Desktop background image",memmanagment:"Memory management",clear:"Clear",delquest:"Delete data from ",select:"Select",date:"Date",collapse:"Collapse",created:"Created",changed:"Changed",login:"Login"},ru:{description:"Описание",name:"Наименование",version:"Версия",accounts:"Учетные записи",design:"Оформление",desktopbgimg:"Фоновое изображение рабочего стола",memmanagment:"Управление памятью",clear:"Очистить",delquest:"Удалить данные из ",select:"Выбрать",date:"Дата",collapse:"Свернуть",created:"Создано",changed:"Изменено",login:"Логин"}},b={name:"OSI (Operating System Imitation)",version:"0.1",date:"09.12.2025",en:{versionName:"skeleton"},ru:{versionName:"скелет"}};const f={assets:{icons:{},wallpapers:{id_1:{name:"nwall.jpg",title:"Wall"},id_2:{name:"nground.jpg",title:"Ground"},id_3:{name:"nhills.jpg",title:"Hills"}}}},U="OSISettings";var X={name:U,props:{windowId:{type:String,required:!0},USERID:{type:Number,default:0}},inject:["changeWallpaper"],data(){return{users:[],usersCount:0,SelectArea:"description",UserLang:"",LangData:{},showPanel_deskimg:!1,wpList:I.I.system.getImageList(),USER:null}},computed:{OSIData(){return{...b[this.UserLang],name:b.name,version:b.version,date:b.date}},OSIConfig(){return{...f}},storeStatistic(){let e=I.I.browser.getLocalStorageUsage();return console.log("navigator",navigator),e}},async mounted(){console.log(`${U} mounted with windowId:`,this.windowId),await this.loadUsers(),this.findUser();const e=navigator.language||navigator.userLanguage,t=e.split("-")[0];this.UserLang=t;const a=E;this.LangData=t&&a&&a[t]?a[t]:a.en},beforeUnmount(){},methods:{async loadUsers(){try{this.users=await A.Vy.getAll(),this.usersCount=await A.Vy.count()}catch(e){console.error("Ошибка загрузки пользователей:",e),this.$toast.error("Не удалось загрузить пользователей")}},async findUser(){try{this.USER=await A.Vy.getbyId(this.USERID)}catch(e){console.error("Ошибка поиска пользователя:",e),this.$toast.error("Не удалось загрузить данные пользователя")}},GetBrowserData(){return I.I.browser.detectBrowser()},Chk_selectedArea(e){return this.SelectArea===e},initFromStore(){if(!this.windowId||!this.appsStore)return void console.error(`${U}: windowId or appsStore is missing`);const e=this.appsStore.getWindowState(this.windowId);console.log(`${U} loaded state:`,e),this.isInitialized=!0,console.log(`${U} initialized`)},StoreClear(e){console.log("StoreClear(key)",e);let t=confirm(`${this.LangData.delquest}${e}?`);t&&localStorage.removeItem(e)},ChngArea(e){this.SelectArea=e},Chng_showPanel(e){this[`showPanel_${e}`]=!this[`showPanel_${e}`]},ChangeWPImage(e){this.changeWallpaper(e)},getAvatarUrl(e){const t=`url(${a(449)("./"+e)})`;return t},avatarStyle(e){return{backgroundImage:this.getAvatarUrl(e),backgroundSize:"cover",backgroundPosition:"center"}}}},R=a(1241);const W=(0,R.A)(X,[["render",w]]);var $=W}}]);
//# sourceMappingURL=138.244ea1dc.js.map