(function(){"use strict";var i={82:function(i,e,t){i.exports=t.p+"img/nwall.166e5457.jpg"},224:function(i,e,t){var s=t(5130),n=t(2261),o=(t(8111),t(6768));const a={class:"webos"};function r(i,e,t,s,n,r){const d=(0,o.g2)("SimpleWindow"),h=(0,o.g2)("DesktopArea"),l=(0,o.g2)("TaskBar");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.osStore.windows,i=>((0,o.uX)(),(0,o.Wv)(d,{key:i.id,windowId:i.id,title:i.title,appName:i.appName,isMinimized:i.isMinimized,isActive:n.osStore.activeWindowId===i.id,isMaximized:i.isMaximized,zIndex:i.zIndex,onClose:r.closeWindow,onMinimize:r.minimizeWindow,onToggleMaximize:r.toggleMaximizeWindow,onFocus:r.activateWindow},null,8,["windowId","title","appName","isMinimized","isActive","isMaximized","zIndex","onClose","onMinimize","onToggleMaximize","onFocus"]))),128))]),_:1}),(0,o.bF)(l)])}var d=t(4232);const h={class:"desktop-icons"},l=["onDblclick"],u={class:"icon"},c={class:"label"};function p(i,e){return(0,o.uX)(),(0,o.CE)("div",{class:"desktop-area",style:(0,d.Tr)(i.desktopStyle),onClick:e[0]||(e[0]=(...e)=>i.activateDesktop&&i.activateDesktop(...e))},[(0,o.Lk)("div",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.apps,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.name,class:"desktop-icon",onDblclick:t=>i.launchApp(e.name)},[(0,o.Lk)("div",u,(0,d.v_)(e.icon),1),(0,o.Lk)("span",c,(0,d.v_)(e.label),1)],40,l))),128))]),(0,o.RG)(i.$slots,"default")],4)}t(2489),t(4114),t(116),t(7588);var w=t(144);const m=(0,n.nY)("os",()=>{const i=(0,w.KR)([]),e=(0,w.KR)(null);let t=100;const s=s=>{const n=i.value.find(i=>i.id===s);n&&(e.value=s,i.value.forEach(i=>{i.id===s&&(i.zIndex=t++)}))},n=e=>{const n={id:Date.now().toString(),appName:e,title:`${e} - ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ`,isMinimized:!1,isMaximized:!1,zIndex:t++};return i.value.push(n),s(n.id),n.id},o=e=>{const t=i.value.findIndex(i=>i.id===e);-1!==t&&i.value.splice(t,1)},a=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!0)},r=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!1,s(e))},d=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMaximized=!t.isMaximized,s(e))};return{windows:i,activeWindowId:e,openWindow:n,closeWindow:o,minimizeWindow:a,restoreWindow:r,toggleMaximizeWindow:d,activateWindow:s}});var g={name:"DesktopArea",data(){return{apps:[{name:"notepad",label:"Ð‘Ð»Ð¾ÐºÐ½Ð¾Ñ‚",icon:"ðŸ“"},{name:"explorer",label:"ÐŸÑ€Ð¾Ð²Ð¾Ð´Ð½Ð¸Ðº",icon:"ðŸ“"},{name:"calculator",label:"ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€",icon:"ðŸ§®"},{name:"settings",label:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",icon:"âš™ï¸"}]}},computed:{desktopStyle(){return{backgroundImage:`url(${this.getWallpaperUrl()})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},osStore(){return m()}},methods:{getWallpaperUrl(){return t(82)},activateDesktop(){this.osStore.activeWindowId=null},launchApp(i){const e=this.osStore.windows.filter(e=>e.appName===i&&!e.isMinimized);e.length>0?this.osStore.activateWindow(e[0].id):this.osStore.openWindow(i)}}},z=t(1241);const v=(0,z.A)(g,[["render",p]]);var f=v;const M={class:"task-bar"},x={class:"taskbar-apps"},S=["onClick"],k={class:"app-icon"},W={class:"app-title"},b={class:"system-tray"},I={class:"tray-time"};function y(i,e){return(0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("button",{class:"start-button",onClick:e[0]||(e[0]=(...e)=>i.toggleStartMenu&&i.toggleStartMenu(...e))},[...e[1]||(e[1]=[(0,o.Lk)("span",{class:"start-icon"},"ðŸŒ€",-1),(0,o.Lk)("span",{class:"start-text"},"Menu",-1)])]),(0,o.Lk)("div",x,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.osStore.windows,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,class:(0,d.C4)(["taskbar-app",{active:i.osStore.activeWindowId===e.id,minimized:e.isMinimized}]),onClick:t=>i.toggleWindow(e.id)},[(0,o.Lk)("span",k,(0,d.v_)(i.getAppIcon(e.appName)),1),(0,o.Lk)("span",W,(0,d.v_)(e.title),1)],10,S))),128))]),(0,o.Lk)("div",b,[(0,o.Lk)("div",I,(0,d.v_)(i.currentTime),1)])])}var X={name:"TaskBar",data(){return{currentTime:"",timer:null}},computed:{osStore(){return m()}},methods:{updateTime(){const i=new Date;this.currentTime=i.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},getAppIcon(i){const e={notepad:"ðŸ“",explorer:"ðŸ“",calculator:"ðŸ§®",settings:"âš™ï¸"};return e[i]||"ðŸ“„"},toggleWindow(i){const e=this.osStore.windows.find(e=>e.id===i);e&&(e.isMinimized?(e.isMinimized=!1,this.osStore.activateWindow(i)):this.osStore.activateWindow(i))},toggleStartMenu(){console.log("ÐœÐµÐ½ÑŽ ÐŸÑƒÑÐº")}},mounted(){this.updateTime(),this.timer=setInterval(this.updateTime,1e3)},beforeUnmount(){this.timer&&clearInterval(this.timer)}};const L=(0,z.A)(X,[["render",y]]);var D=L;function R(i,e){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",{class:"resize-handle resize-top",onMousedown:e[0]||(e[0]=e=>i.startResize("n"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-right",onMousedown:e[1]||(e[1]=e=>i.startResize("e"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-bottom",onMousedown:e[2]||(e[2]=e=>i.startResize("s"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-left",onMousedown:e[3]||(e[3]=e=>i.startResize("w"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-top-right",onMousedown:e[4]||(e[4]=e=>i.startResize("ne"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-bottom-right",onMousedown:e[5]||(e[5]=e=>i.startResize("se"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-bottom-left",onMousedown:e[6]||(e[6]=e=>i.startResize("sw"))},null,32),(0,o.Lk)("div",{class:"resize-handle resize-top-left",onMousedown:e[7]||(e[7]=e=>i.startResize("nw"))},null,32)],64)}var C={name:"SimpleWindow",props:{windowId:String,title:{type:String,default:"ÐžÐºÐ½Ð¾"},appName:{type:String,default:"app"},isMinimized:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isMaximized:{type:Boolean,default:!1},zIndex:{type:Number,default:100}},emits:["close","minimize","focus","toggleMaximize"],data(){return{posX:100,posY:100,windowWidth:400,windowHeight:300,isDragging:!1,isResizing:!1,dragOffset:{x:0,y:0},resizeDirection:"",resizeStart:{x:0,y:0,width:0,height:0,mouseX:0,mouseY:0}}},computed:{windowStyles(){const i={zIndex:this.zIndex};return this.isMaximized?{...i,left:"0",top:"0",width:"100vw",height:"100vh",borderRadius:"0"}:{...i,left:`${this.posX}px`,top:`${this.posY}px`,width:`${this.windowWidth}px`,height:`${this.windowHeight}px`}}},mounted(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},methods:{activateWindow(){this.$emit("focus",this.windowId)},startDrag(i){this.$emit("focus",this.windowId),this.isMaximized||(this.isDragging=!0,this.dragOffset={x:i.clientX-this.posX,y:i.clientY-this.posY},i.stopPropagation())},startResize(i){this.isMaximized||(this.$emit("focus",this.windowId),this.isResizing=!0,this.resizeDirection=i,this.resizeStart.x=this.posX,this.resizeStart.y=this.posY,this.resizeStart.width=this.windowWidth,this.resizeStart.height=this.windowHeight,this.resizeStart.mouseX=event.clientX,this.resizeStart.mouseY=event.clientY)},handleMouseMove(i){if(this.isDragging&&!this.isMaximized){let e=i.clientX-this.dragOffset.x,t=i.clientY-this.dragOffset.y;const s=window.innerWidth-this.windowWidth,n=window.innerHeight-this.windowHeight;this.posX=Math.max(0,Math.min(e,s)),this.posY=Math.max(0,Math.min(t,n))}else this.isResizing&&!this.isMaximized&&this.handleResize(i)},handleResize(i){const e=i.clientX-this.resizeStart.mouseX,t=i.clientY-this.resizeStart.mouseY,s=200,n=150;let o=this.resizeStart.x,a=this.resizeStart.y,r=this.resizeStart.width,d=this.resizeStart.height;this.resizeDirection.includes("e")&&(r=Math.max(s,this.resizeStart.width+e)),this.resizeDirection.includes("w")&&(r=Math.max(s,this.resizeStart.width-e),o=this.resizeStart.x+(this.resizeStart.width-r)),this.resizeDirection.includes("s")&&(d=Math.max(n,this.resizeStart.height+t)),this.resizeDirection.includes("n")&&(d=Math.max(n,this.resizeStart.height-t),a=this.resizeStart.y+(this.resizeStart.height-d)),this.posX=o,this.posY=a,this.windowWidth=r,this.windowHeight=d,this.keepWindowInBounds()},keepWindowInBounds(){const i=200,e=150,t=window.innerWidth,s=window.innerHeight;this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight),this.posX+this.windowWidth>t&&(this.windowWidth=t-this.posX),this.posY+this.windowHeight>s&&(this.windowHeight=s-this.posY),this.posX=Math.max(0,this.posX),this.posY=Math.max(0,this.posY),this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight)},handleMouseUp(){(this.isDragging||this.isResizing)&&this.keepWindowInBounds(),this.isDragging=!1,this.isResizing=!1},minimize(){this.$emit("minimize",this.windowId)},toggleMaximize(){this.$emit("toggleMaximize",this.windowId)},close(){this.$emit("close",this.windowId)}}};const Y=(0,z.A)(C,[["render",R]]);var E=Y,T={name:"App",components:{DesktopArea:f,TaskBar:D,SimpleWindow:E},data(){return{osStore:null}},methods:{closeWindow(i){this.osStore&&this.osStore.closeWindow(i)},minimizeWindow(i){this.osStore&&this.osStore.minimizeWindow(i)},toggleMaximizeWindow(i){this.osStore&&this.osStore.toggleMaximizeWindow(i)},activateWindow(i){this.osStore&&this.osStore.activateWindow(i)}},created(){this.osStore=m()},mounted(){setTimeout(()=>{this.osStore&&this.osStore.openWindow("notepad")},500)}};const A=(0,z.A)(T,[["render",r],["__scopeId","data-v-2de381e2"]]);var O=A;const H=(0,s.Ef)(O),$=(0,n.Ey)();H.use($),H.mount("#app")}},e={};function t(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return i[s].call(o.exports,o,o.exports,t),o.exports}t.m=i,function(){var i=[];t.O=function(e,s,n,o){if(!s){var a=1/0;for(l=0;l<i.length;l++){s=i[l][0],n=i[l][1],o=i[l][2];for(var r=!0,d=0;d<s.length;d++)(!1&o||a>=o)&&Object.keys(t.O).every(function(i){return t.O[i](s[d])})?s.splice(d--,1):(r=!1,o<a&&(a=o));if(r){i.splice(l--,1);var h=n();void 0!==h&&(e=h)}}return e}o=o||0;for(var l=i.length;l>0&&i[l-1][2]>o;l--)i[l]=i[l-1];i[l]=[s,n,o]}}(),function(){t.n=function(i){var e=i&&i.__esModule?function(){return i["default"]}:function(){return i};return t.d(e,{a:e}),e}}(),function(){t.d=function(i,e){for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)}}(),function(){t.p="/osi/"}(),function(){var i={524:0};t.O.j=function(e){return 0===i[e]};var e=function(e,s){var n,o,a=s[0],r=s[1],d=s[2],h=0;if(a.some(function(e){return 0!==i[e]})){for(n in r)t.o(r,n)&&(t.m[n]=r[n]);if(d)var l=d(t)}for(e&&e(s);h<a.length;h++)o=a[h],t.o(i,o)&&i[o]&&i[o][0](),i[o]=0;return t.O(l)},s=self["webpackChunkosi"]=self["webpackChunkosi"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(224)});s=t.O(s)})();
//# sourceMappingURL=app.6bbe2412.js.map