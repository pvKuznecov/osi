{"version":3,"file":"js/361.ee17d0d0.js","mappings":"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","sources":["webpack://osi/./src/apps/system/OSICalendar/template.html","webpack://osi/./src/apps/system/OSICalendar/lang.js","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue?cb70"],"sourcesContent":["<div class=\"calendar-app\">\n    <div class=\"calendar-top-panel\"></div>\n    <div class=\"calendar-workarea\">\n        <div class=\"calendar-mainmenuarea\" :style=\"(FullMenuMode) ? 'width: 300px;' : ''\">\n            <button class=\"calendar-btn-chngmenu btn row\" @click=\"Chng_fullMenuMode()\">\n                <i class=\"bi bi-list col-1\"></i>\n                <span v-if=\"FullMenuMode\" class=\"col-10\">Мой календарь</span>\n            </button>\n            <div v-if=\"FullMenuMode\" class=\"calendar-mainmenuarea-info col-11\">\n                <span>Текущая дата: </span>\n                <i>{{Get_formatingDate(Get_currentDate())}}</i>\n            </div>\n            <div v-if=\"FullMenuMode\" class=\"calendar-mainmenuarea-info col-11\">\n                <span>Текущее время: </span>\n                <i>??:??</i>\n            </div>\n            <div v-if=\"FullMenuMode\" class=\"calendar-mainmenuarea-info col-11\">\n                <div class=\"calendar-table-tcell-header current-day d-flex justify-content-center align-items-center\">\n                    {{display_selectedDate() + ' (' + Get_weekDay(SelectedDate) + ')'}}\n                </div>\n                <div class=\"calendar-table-tcell-content border p-1\">\n                    Запланировано на день:\n                    <div v-for=\"planElem in SelectedDate_plan\" class=\"planelem d-flex justify-content-center align-items-center\">\n                        <div class=\"planelem-timearea\">{{planElem.time || 'Весь день'}}</div>\n                        <div class=\"planelem-titlearea\">{{planElem.title || '- -'}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"calendar-tablearea\" :style=\"(!FullMenuMode) ? 'width: calc(100% - 70px);' : ''\">\n            <div class=\"calendar-table-month\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th colspan=\"7\">\n                                <span class=\"calendar-table-monthheader\">{{Get_monthStr(SelectedDate)}}</span>\n                            </th>\n                        </tr>\n                        <tr>\n                            <th class=\"calendar-table-th\">{{LangData('mon')}}</th>\n                            <th class=\"calendar-table-th\">{{LangData('tue')}}</th>\n                            <th class=\"calendar-table-th\">{{LangData('wed')}}</th>\n                            <th class=\"calendar-table-th\">{{LangData('thu')}}</th>\n                            <th class=\"calendar-table-th\">{{LangData('fri')}}</th>\n                            <th class=\"calendar-table-th\">{{LangData('sat')}}</th>\n                            <th class=\"calendar-table-th\">{{LangData('sun')}}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"week in calendarWeeks\">\n                            <td v-for=\"day in week.days\">\n                            <div class=\"calendar-table-tcell\" :class=\"{'current-day-block': day.isCurrentDay}\">\n                                <div class=\"calendar-table-tcell-header d-flex justify-content-center align-items-center\" :class=\"{'current-day': day.isCurrentDay, 'selected-day': day.isSelectedDay, 'other-month': !day.isCurrentMonth }\">\n                                    - {{day.dayOfMonth}} -\n                                </div>\n                                <div class=\"calendar-table-tcell-content\">\n                                    {{day.isCurrentMonth}}\n                                    {{day.isCurrentDay}}\n                                </div>\n                            </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class=\"calendar-bottom-panel d-flex justify-content-center align-items-center\">\n        \n    </div>\n</div>","export const LangPack = {\n    en: {\n        mycalendar: 'My calendar',\n        mon: 'Mon',\n        tue: 'Tue',\n        wed: 'Wed',\n        thu: 'Thu',\n        fri: 'Fri',\n        sat: 'Sat',\n        sun: 'Sun',\n        sunday: 'Sunday',\n        monday: 'Monday',\n        tuesday: 'Tuesday',\n        wednesday: 'Wednesday',\n        thursday: 'Thursday',\n        friday: 'Thursday',\n        saturday: 'Saturday',\n        january: 'January',\n        february: 'February',\n        march: 'March',\n        april: 'April',\n        may: 'May',\n        june: 'June',\n        july: 'July',\n        august: 'August',\n        september: 'September',\n        october: 'October',\n        november: 'November',\n        december: 'December',\n    },\n    ru: {\n        mycalendar: 'Мой календарь',\n        mon: 'Пн',\n        tue: 'Вт',\n        wed: 'Ср',\n        thu: 'Чт',\n        fri: 'Пт',\n        sat: 'Сб',\n        sun: 'Вс',\n        sunday: 'Воскресенье',\n        monday: 'Понедельник',\n        tuesday: 'Вторник',\n        wednesday: 'Среда',\n        thursday: 'Четверг',\n        friday: 'Пятница',\n        saturday: 'Суббота',\n        january: 'Январь',\n        february: 'Февраль',\n        march: 'Март',\n        april: 'Апрель',\n        may: 'Май',\n        june: 'Июнь',\n        july: 'Июль',\n        august: 'Август',\n        september: 'Сентябрь',\n        october: 'Октябрь',\n        november: 'Ноябрь',\n        december: 'Декабрь',\n    },\n};","<template src=\"./template.html\"></template>\n<style src=\"./style.css\"></style>\n<script>\n    import { usersTable } from '@/idb/db';\n    import { useAppsStore } from '@/stores/apps.store';\n    import { LangPack } from './lang';\n    import { mapStores } from 'pinia';\n\n    export default {\n        name: 'OSICalendar',\n\n        props: {\n            windowId: { type: String, required: true },\n            USERID: {type: Number, default: 0},\n            selectedYear: { type: Number, default: null},\n            selectedMonth: { type: Number, default: null},\n            selectedDay: { type: Number, default: null},\n        },\n\n        data() {\n            return {\n                lang_data: {},\n                FullMenuMode: true,\n                MonthsDay: {},\n                Today: new Date(),\n                SelectedDate: new Date(),\n                SelectedDate_plan: [{}, {}],\n                USER: null,\n            }\n        },\n        \n        computed: {\n            ...mapStores(useAppsStore),\n\n            display_year() {\n                return this.selectedYear !== null ? this.selectedYear : this.Today.getFullYear();\n            },\n            display_month() {\n                return this.selectedMonth !== null ? this.selectedMonth : (this.Today.getMonth() + 1);\n            },\n            display_day() {\n                return this.selectedDay !== null ? this.selectedDay : this.Today.getDate();\n            },\n\n            calendarWeeks() {\n                const weeks = [];\n                const firstDayOfMonth = new Date(this.display_year, (this.display_month - 1), 1);\n                \n                // Находим первый день, который нужно отобразить (может быть из предыдущего месяца)\n                const firstDayOfCalendar = new Date(firstDayOfMonth);\n                // Начинаем с понедельника (0 - воскресенье, 1 - понедельник)\n                const dayOfWeek = firstDayOfMonth.getDay();\n                // Корректировка для начала недели с понедельника\n                const startOffset = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\n\n                firstDayOfCalendar.setDate(firstDayOfCalendar.getDate() - startOffset);\n\n                let currentDate = new Date(firstDayOfCalendar);\n                let weekNumber = 0;\n\n                for (let week = 0; week < 6; week++) {\n                    const weekDays = [];\n\n                    for (let day = 0; day < 7; day++) {\n                        const d = new Date(currentDate);\n                        const dayOfMonth = d.getDate();\n                        const isCurrentMonth = (d.getMonth() + 1) === this.display_month;\n                        const isCurrentDay = isCurrentMonth && dayOfMonth === this.display_day && d.getFullYear() === this.display_year;\n                        // const isDayoff = \n          \n                        \n                        const isSelectedDay = this.selectedDay !== null && isCurrentMonth && dayOfMonth === this.selectedDay && d.getFullYear() === this.display_year();\n\n                        weekDays.push({\n                            date: d,\n                            dateString: d.toISOString().split('T')[0],\n                            dayOfMonth: dayOfMonth,\n                            isCurrentMonth: isCurrentMonth,\n                            isCurrentDay: isCurrentDay,\n                            isSelectedDay: isSelectedDay,\n                            month: d.getMonth(),\n                            year: d.getFullYear()\n                        });\n                        \n                        // Переходим к следующему дню\n                        currentDate.setDate(currentDate.getDate() + 1);\n                    }\n        \n                    // Добавляем неделю только если она содержит дни текущего месяца\n                    // или это первая/последняя неделя\n                    const hasCurrentMonthDays = weekDays.some(day => day.isCurrentMonth);\n                    const isFirstWeek = week === 0;\n                    // const isLastWeek = week === 5;\n\n                    if (hasCurrentMonthDays || isFirstWeek || (week < 5 && new Date(currentDate).getMonth() !== this.displayMonth)) {\n                        weeks.push({\n                            weekNumber: weekNumber++,\n                            days: weekDays\n                        });\n                    }\n                }\n                \n                return weeks;\n            },\n\n\n            selectedDate() {\n                const sDate = this.SelectedDate;\n\n                return sDate.getDate() + '-' + (sDate.getMonth() + 1) + '-' + sDate.getFullYear();\n            }\n        },\n\n        methods: {\n            async findUser() {\n                try {\n                    this.USER = await usersTable.getbyId(this.USERID);\n                } catch (error) {\n                    console.error('Ошибка поиска пользователя:', error);\n                    this.$toast.error('Не удалось загрузить данные пользователя');\n                }\n            },\n\n            display_selectedDate() {\n                return this.display_day + '-' + this.display_month + '-' + this.display_year;\n            },\n\n            Get_currentDate() {\n                return new Date();\n            },\n\n            Get_monthStr(inpDate) {\n                let monthsList = [\n                    this.LangData('january'),\n                    this.LangData('february'),\n                    this.LangData('march'),\n                    this.LangData('april'),\n                    this.LangData('may'),\n                    this.LangData('june'),\n                    this.LangData('july'),\n                    this.LangData('august'),\n                    this.LangData('september'),\n                    this.LangData('october'),\n                    this.LangData('november'),\n                    this.LangData('december'),\n                ];\n\n                return monthsList[inpDate.getMonth()];\n            },\n            \n            Get_weekDay(inpDate) {\n                let daysList = [\n                    this.LangData('sunday'),\n                    this.LangData('monday'),\n                    this.LangData('tuesday'),\n                    this.LangData('wednesday'),\n                    this.LangData('thursday'),\n                    this.LangData('friday'),\n                    this.LangData('saturday'),\n                ];\n\n                return daysList[inpDate.getDay()];\n            },\n\n            Get_formatingDate(inpDate) {\n                return inpDate.getDate() + '-' + (inpDate.getMonth() + 1) + '-' + inpDate.getFullYear();\n            },\n\n            LangData(key) {\n                return this.lang_data[key] || '';\n            },\n            \n            // Инициализация из store\n            initFromStore() {\n                if (!this.windowId || !this.appsStore) {\n                    console.error('OSICalendar: windowId or appsStore is missing');\n                    return;\n                }\n            \n                const savedState = this.appsStore.getWindowState(this.windowId);\n                console.log('OSICalendar loaded state:', savedState);\n            \n                if (savedState && savedState.appType === 'calendar') {\n                    this.expression = savedState.expression || '';\n                    this.result = savedState.result || '0';\n                    this.history = savedState.history || [];\n                    this.lastResult = savedState.lastResult || null;\n                }\n                \n                this.isInitialized = true;\n                console.log('OSICalendar initialized');\n            },\n\n            // Сохраняем текущее состояние в store\n            saveState() {\n                if (!this.windowId || !this.appsStore || !this.isInitialized) return;\n                \n                const state = {\n                    appType: 'calendar',\n                    timestamp: Date.now()\n                };\n                \n                console.log('OSICalculator saving state:', state);\n                this.appsStore.saveWindowState(this.windowId, state);\n            },\n\n            Chng_fullMenuMode() {\n                this.FullMenuMode = !this.FullMenuMode;\n            },\n        },\n\n        mounted() {\n            console.log('OSICalendar app mounted with windowId:', this.windowId);\n            \n            this.findUser();\n\n            // Инициализируем данные из store после монтирования\n            this.$nextTick(() => {\n                this.initFromStore();\n            });\n\n            const userLang = navigator.language || navigator.userLanguage;\n            const userLangS = userLang.split('-')[0];\n            \n            this.UserLang = userLangS; \n            \n            const LangPackData = LangPack;\n\n            this.lang_data = (userLangS && LangPackData && LangPackData[userLangS]) ? LangPackData[userLangS] : LangPackData.en;\n\n            // Сохраняем начальное состояние после небольшой задержки\n            setTimeout(() => {\n                // if (!this.isInitialized) {\n                //     this.initFromStore();\n                // }\n                this.saveState();\n            }, 100);\n        },\n    }\n</script>","import { render } from \"./template.html?vue&type=template&id=61cffe66&external\"\nimport script from \"./OSICalendar.vue?vue&type=script&lang=js\"\nexport * from \"./OSICalendar.vue?vue&type=script&lang=js\"\n\nimport \"./style.css?vue&type=style&index=0&lang=css&external\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","colspan","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","style","_normalizeStyle","_ctx","FullMenuMode","onClick","_cache","$event","Chng_fullMenuMode","_hoisted_3","_hoisted_4","_toDisplayString","Get_formatingDate","Get_currentDate","_hoisted_5","_hoisted_6","_hoisted_7","display_selectedDate","Get_weekDay","SelectedDate","_hoisted_8","_Fragment","_renderList","SelectedDate_plan","planElem","_hoisted_9","_hoisted_10","time","_hoisted_11","title","_hoisted_12","_hoisted_13","_hoisted_14","Get_monthStr","_hoisted_15","LangData","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","calendarWeeks","week","days","day","_normalizeClass","isCurrentDay","isSelectedDay","isCurrentMonth","dayOfMonth","_hoisted_22","LangPack","en","mycalendar","mon","tue","wed","thu","fri","sat","sun","sunday","monday","tuesday","wednesday","thursday","friday","saturday","january","february","march","april","may","june","july","august","september","october","november","december","ru","name","props","windowId","type","String","required","USERID","Number","default","selectedYear","selectedMonth","selectedDay","data","lang_data","MonthsDay","Today","Date","USER","computed","mapStores","useAppsStore","display_year","this","getFullYear","display_month","getMonth","display_day","getDate","weeks","firstDayOfMonth","firstDayOfCalendar","dayOfWeek","getDay","startOffset","setDate","currentDate","weekNumber","weekDays","d","push","date","dateString","toISOString","split","month","year","hasCurrentMonthDays","some","isFirstWeek","displayMonth","selectedDate","sDate","methods","findUser","usersTable","getbyId","error","console","$toast","inpDate","monthsList","daysList","key","initFromStore","appsStore","savedState","getWindowState","log","appType","expression","result","history","lastResult","isInitialized","saveState","state","timestamp","now","saveWindowState","mounted","$nextTick","userLang","navigator","language","userLanguage","userLangS","UserLang","LangPackData","setTimeout","__exports__","render"],"ignoreList":[],"sourceRoot":""}