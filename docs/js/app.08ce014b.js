(function(){"use strict";var i={82:function(i,e,t){i.exports=t.p+"img/nwall.166e5457.jpg"},6523:function(i,e,t){var s=t(5130),n=t(2261),o=(t(8111),t(6768));const a={class:"webos"};function d(i,e,t,s,n,d){const r=(0,o.g2)("SimpleWindow"),l=(0,o.g2)("DesktopArea"),h=(0,o.g2)("TaskBar");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(l,null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.osStore.windows,i=>((0,o.uX)(),(0,o.Wv)(r,{key:i.id,windowId:i.id,title:i.title,appName:i.appName,isMinimized:i.isMinimized,isActive:n.osStore.activeWindowId===i.id,isMaximized:i.isMaximized,zIndex:i.zIndex,onClose:d.closeWindow,onMinimize:d.minimizeWindow,onToggleMaximize:d.toggleMaximizeWindow,onFocus:d.activateWindow},null,8,["windowId","title","appName","isMinimized","isActive","isMaximized","zIndex","onClose","onMinimize","onToggleMaximize","onFocus"]))),128))]),_:1}),(0,o.bF)(h)])}var r=t(4232);const l={class:"desktop-icons"},h=["onDblclick"],c={class:"icon"},u={class:"label"};function w(i,e){return(0,o.uX)(),(0,o.CE)("div",{class:"desktop-area",onClick:e[0]||(e[0]=(...e)=>i.activateDesktop&&i.activateDesktop(...e)),style:(0,r.Tr)(i.desktopStyle)},[(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.apps,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.name,class:"desktop-icon",onDblclick:t=>i.launchApp(e.name)},[(0,o.Lk)("div",c,(0,r.v_)(e.icon),1),(0,o.Lk)("span",u,(0,r.v_)(e.label),1)],40,h))),128))]),(0,o.RG)(i.$slots,"default")],4)}t(2489),t(4114),t(116),t(7588);var m=t(144);const p=(0,n.nY)("os",()=>{const i=(0,m.KR)([]),e=(0,m.KR)(null);let t=100;const s=s=>{const n=i.value.find(i=>i.id===s);n&&(e.value=s,i.value.forEach(i=>{i.id===s&&(i.zIndex=t++)}))},n=e=>{const n={id:Date.now().toString(),appName:e,title:`${e} - ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ`,isMinimized:!1,isMaximized:!1,zIndex:t++};return i.value.push(n),s(n.id),n.id},o=e=>{const t=i.value.findIndex(i=>i.id===e);-1!==t&&i.value.splice(t,1)},a=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!0)},d=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!1,s(e))},r=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMaximized=!t.isMaximized,s(e))};return{windows:i,activeWindowId:e,openWindow:n,closeWindow:o,minimizeWindow:a,restoreWindow:d,toggleMaximizeWindow:r,activateWindow:s}});var z={name:"DesktopArea",data(){return{apps:[{name:"notepad",label:"Ð‘Ð»Ð¾ÐºÐ½Ð¾Ñ‚",icon:"ðŸ“"},{name:"explorer",label:"ÐŸÑ€Ð¾Ð²Ð¾Ð´Ð½Ð¸Ðº",icon:"ðŸ“"},{name:"calculator",label:"ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€",icon:"ðŸ§®"},{name:"settings",label:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",icon:"âš™ï¸"}]}},computed:{desktopStyle(){return{backgroundImage:`url(${this.getWallpaperUrl()})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},osStore(){return p()}},methods:{getWallpaperUrl(){return t(82)},activateDesktop(){this.osStore.activeWindowId=null},launchApp(i){const e=this.osStore.windows.filter(e=>e.appName===i&&!e.isMinimized);e.length>0?this.osStore.activateWindow(e[0].id):this.osStore.openWindow(i)}}},g=t(1241);const v=(0,g.A)(z,[["render",w]]);var M=v;const f={class:"task-bar"},x={class:"taskbar-apps"},k=["onClick"],S={class:"app-icon"},W={class:"app-title"},b={class:"system-tray"},y={class:"tray-time"};function X(i,e){return(0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("button",{class:"start-button",onClick:e[0]||(e[0]=(...e)=>i.toggleStartMenu&&i.toggleStartMenu(...e))},[...e[1]||(e[1]=[(0,o.Lk)("span",{class:"start-icon"},"ðŸŒ€",-1),(0,o.Lk)("span",{class:"start-text"},"ÐœÐµÐ½ÑŽ",-1)])]),(0,o.Lk)("div",x,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.osStore.windows,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,class:(0,r.C4)(["taskbar-app",{active:i.osStore.activeWindowId===e.id}]),onClick:t=>i.toggleWindow(e.id)},[(0,o.Lk)("span",S,(0,r.v_)(i.getAppIcon(e.appName)),1),(0,o.Lk)("span",W,(0,r.v_)(e.title),1)],10,k))),128))]),(0,o.Lk)("div",b,[(0,o.Lk)("div",y,(0,r.v_)(i.currentTime),1)])])}var I={name:"TaskBar",data(){return{currentTime:"",timer:null}},computed:{osStore(){return p()}},methods:{updateTime(){const i=new Date;this.currentTime=i.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},getAppIcon(i){const e={notepad:"ðŸ“",explorer:"ðŸ“",calculator:"ðŸ§®",settings:"âš™ï¸"};return e[i]||"ðŸ“„"},toggleWindow(i){const e=this.osStore.windows.find(e=>e.id===i);e&&(e.isMinimized?this.osStore.restoreWindow(i):this.osStore.activateWindow(i))},toggleStartMenu(){console.log("ÐœÐµÐ½ÑŽ ÐŸÑƒÑÐº")}},mounted(){this.updateTime(),this.timer=setInterval(this.updateTime,1e3)},beforeUnmount(){this.timer&&clearInterval(this.timer)}};const C=(0,g.A)(I,[["render",X]]);var L=C;const D={class:"window-title"},E={class:"window-controls"},R={class:"window-content"},_={class:"default-content"};function Y(i,e){return i.isMinimized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,r.C4)(["simple-window",{active:i.isActive,maximized:i.isMaximized}]),style:(0,r.Tr)(i.windowStyles),onMousedown:e[13]||(e[13]=(...e)=>i.activateWindow&&i.activateWindow(...e))},[(0,o.Lk)("div",{class:"window-header",onMousedown:e[3]||(e[3]=(...e)=>i.startDrag&&i.startDrag(...e)),onDblclick:e[4]||(e[4]=(...e)=>i.toggleMaximize&&i.toggleMaximize(...e))},[(0,o.Lk)("span",D,(0,r.v_)(i.title),1),(0,o.Lk)("div",E,[(0,o.Lk)("button",{class:"window-btn minimize",onClick:e[0]||(e[0]=(...e)=>i.minimize&&i.minimize(...e))},"_"),(0,o.Lk)("button",{class:"window-btn maximize",onClick:e[1]||(e[1]=(...e)=>i.toggleMaximize&&i.toggleMaximize(...e))},(0,r.v_)(i.isMaximized?"â":"â–¡"),1),(0,o.Lk)("button",{class:"window-btn close",onClick:e[2]||(e[2]=(...e)=>i.close&&i.close(...e))},"âœ•")])],32),(0,o.Lk)("div",R,[(0,o.RG)(i.$slots,"default",{},()=>[(0,o.Lk)("div",_,[(0,o.Lk)("p",null,"Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ "+(0,r.v_)(i.appName),1),(0,o.Lk)("p",null,"Ð­Ñ‚Ð¾ Ð¾ÐºÐ½Ð¾ "+(0,r.v_)(i.isMaximized?"Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¾":"Ð½Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¾"),1),(0,o.Lk)("p",null,"Ð Ð°Ð·Ð¼ÐµÑ€: "+(0,r.v_)(i.windowWidth)+" Ã— "+(0,r.v_)(i.windowHeight),1),(0,o.Lk)("p",null,"isMinimized:: "+(0,r.v_)(i.isMinimized),1),(0,o.Lk)("p",null,"isMaximized:: "+(0,r.v_)(i.isMaximized),1)])])]),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"resize-handle resize-top",onMousedown:e[5]||(e[5]=e=>i.startResize("n"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"resize-handle resize-right",onMousedown:e[6]||(e[6]=e=>i.startResize("e"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"resize-handle resize-bottom",onMousedown:e[7]||(e[7]=e=>i.startResize("s"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:3,class:"resize-handle resize-left",onMousedown:e[8]||(e[8]=e=>i.startResize("w"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:4,class:"resize-handle resize-top-right",onMousedown:e[9]||(e[9]=e=>i.startResize("ne"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:5,class:"resize-handle resize-bottom-right",onMousedown:e[10]||(e[10]=e=>i.startResize("se"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:6,class:"resize-handle resize-bottom-left",onMousedown:e[11]||(e[11]=e=>i.startResize("sw"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:7,class:"resize-handle resize-top-left",onMousedown:e[12]||(e[12]=e=>i.startResize("nw"))},null,32))],38))}var T={name:"SimpleWindow",props:{windowId:String,title:{type:String,default:"ÐžÐºÐ½Ð¾"},appName:{type:String,default:"app"},isMinimized:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isMaximized:{type:Boolean,default:!1},zIndex:{type:Number,default:100}},emits:["close","minimize","focus","toggleMaximize"],data(){return{posX:100,posY:100,windowWidth:400,windowHeight:300,isDragging:!1,isResizing:!1,dragOffset:{x:0,y:0},resizeDirection:"",resizeStart:{x:0,y:0,width:0,height:0,mouseX:0,mouseY:0}}},computed:{windowStyles(){const i={zIndex:this.zIndex};return this.isMaximized?{...i,left:"0",top:"0",width:"100vw",height:"100vh",borderRadius:"0"}:{...i,left:`${this.posX}px`,top:`${this.posY}px`,width:`${this.windowWidth}px`,height:`${this.windowHeight}px`}}},mounted(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},methods:{activateWindow(){this.$emit("focus",this.windowId)},startDrag(i){this.$emit("focus",this.windowId),this.isMaximized||(this.isDragging=!0,this.dragOffset={x:i.clientX-this.posX,y:i.clientY-this.posY},i.stopPropagation())},startResize(i){this.isMaximized||(this.$emit("focus",this.windowId),this.isResizing=!0,this.resizeDirection=i,this.resizeStart.x=this.posX,this.resizeStart.y=this.posY,this.resizeStart.width=this.windowWidth,this.resizeStart.height=this.windowHeight,this.resizeStart.mouseX=event.clientX,this.resizeStart.mouseY=event.clientY)},handleMouseMove(i){if(this.isDragging&&!this.isMaximized){let e=i.clientX-this.dragOffset.x,t=i.clientY-this.dragOffset.y;const s=window.innerWidth-this.windowWidth,n=window.innerHeight-this.windowHeight;this.posX=Math.max(0,Math.min(e,s)),this.posY=Math.max(0,Math.min(t,n))}else this.isResizing&&!this.isMaximized&&this.handleResize(i)},handleResize(i){const e=200,t=150,s=i.clientX-this.resizeStart.mouseX,n=i.clientY-this.resizeStart.mouseY;let o=this.resizeStart.x,a=this.resizeStart.y,d=this.resizeStart.width,r=this.resizeStart.height;this.resizeDirection.includes("e")&&(d=Math.max(e,this.resizeStart.width+s)),this.resizeDirection.includes("w")&&(d=Math.max(e,this.resizeStart.width-s),o=this.resizeStart.x+(this.resizeStart.width-d)),this.resizeDirection.includes("s")&&(r=Math.max(t,this.resizeStart.height+n)),this.resizeDirection.includes("n")&&(r=Math.max(t,this.resizeStart.height-n),a=this.resizeStart.y+(this.resizeStart.height-r)),this.posX=o,this.posY=a,this.windowWidth=d,this.windowHeight=r,this.keepWindowInBounds()},keepWindowInBounds(){const i=200,e=150,t=window.innerWidth,s=window.innerHeight;this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight),this.posX+this.windowWidth>t&&(this.windowWidth=t-this.posX),this.posY+this.windowHeight>s&&(this.windowHeight=s-this.posY),this.posX=Math.max(0,this.posX),this.posY=Math.max(0,this.posY),this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight)},handleMouseUp(){(this.isDragging||this.isResizing)&&this.keepWindowInBounds(),this.isDragging=!1,this.isResizing=!1},minimize(){this.$emit("minimize",this.windowId)},toggleMaximize(){this.$emit("toggleMaximize",this.windowId)},close(){this.$emit("close",this.windowId)}}};const A=(0,g.A)(T,[["render",Y]]);var O=A,H={name:"App",components:{DesktopArea:M,TaskBar:L,SimpleWindow:O},data(){return{osStore:null}},methods:{closeWindow(i){this.osStore&&this.osStore.closeWindow(i)},minimizeWindow(i){this.osStore&&this.osStore.minimizeWindow(i)},toggleMaximizeWindow(i){this.osStore&&this.osStore.toggleMaximizeWindow(i)},activateWindow(i){this.osStore&&this.osStore.activateWindow(i)}},created(){this.osStore=p()},mounted(){setTimeout(()=>{this.osStore&&this.osStore.openWindow("notepad")},500)}};const $=(0,g.A)(H,[["render",d],["__scopeId","data-v-d9ff5e90"]]);var B=$;const N=(0,s.Ef)(B),Q=(0,n.Ey)();N.use(Q),N.mount("#app")}},e={};function t(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={exports:{}};return i[s].call(o.exports,o,o.exports,t),o.exports}t.m=i,function(){var i=[];t.O=function(e,s,n,o){if(!s){var a=1/0;for(h=0;h<i.length;h++){s=i[h][0],n=i[h][1],o=i[h][2];for(var d=!0,r=0;r<s.length;r++)(!1&o||a>=o)&&Object.keys(t.O).every(function(i){return t.O[i](s[r])})?s.splice(r--,1):(d=!1,o<a&&(a=o));if(d){i.splice(h--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var h=i.length;h>0&&i[h-1][2]>o;h--)i[h]=i[h-1];i[h]=[s,n,o]}}(),function(){t.n=function(i){var e=i&&i.__esModule?function(){return i["default"]}:function(){return i};return t.d(e,{a:e}),e}}(),function(){t.d=function(i,e){for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)}}(),function(){t.p="/osi/"}(),function(){var i={524:0};t.O.j=function(e){return 0===i[e]};var e=function(e,s){var n,o,a=s[0],d=s[1],r=s[2],l=0;if(a.some(function(e){return 0!==i[e]})){for(n in d)t.o(d,n)&&(t.m[n]=d[n]);if(r)var h=r(t)}for(e&&e(s);l<a.length;l++)o=a[l],t.o(i,o)&&i[o]&&i[o][0](),i[o]=0;return t.O(h)},s=self["webpackChunkosi"]=self["webpackChunkosi"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(6523)});s=t.O(s)})();
//# sourceMappingURL=app.08ce014b.js.map