{"version":3,"file":"js/172.12bf46a0.js","mappings":"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","sources":["webpack://osi/./src/apps/system/OSICalendar/template.html","webpack://osi/./src/apps/system/OSICalendar/lang.js","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue?cb70"],"sourcesContent":["<div class=\"calendar-app\">\n    <div class=\"calendar-top-panel d-flex justify-content-center align-items-center\">\n        Текущее время: {{currentTime}} {{currentDateStr}}\n    </div>\n    <div class=\"calendar-area-work\">\n        <div class=\"calendar-area-table\">\n            <div class=\"calendar-area-table-head\">\n                <span>{{Get_monthStr(selectDate.getMonth())}} {{selectDate.getFullYear()}}</span>\n            </div>\n            <div class=\"calendar-area-table-tab\">\n                <table class=\"calendar-mtable\">\n                    <thead>\n                        <tr>\n                            <th><div class=\"calendar-mtable-wday\">{{LangData('mon')}}</div></th>\n                            <th><div class=\"calendar-mtable-wday\">{{LangData('tue')}}</div></th>\n                            <th><div class=\"calendar-mtable-wday\">{{LangData('wed')}}</div></th>\n                            <th><div class=\"calendar-mtable-wday\">{{LangData('thu')}}</div></th>\n                            <th><div class=\"calendar-mtable-wday\">{{LangData('fri')}}</div></th>\n                            <th><div class=\"calendar-mtable-wday\">{{LangData('sat')}}</div></th>\n                            <th><div class=\"calendar-mtable-wday\">{{LangData('sun')}}</div></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"week in calendarWeeks()\">\n                            <td v-for=\"day in week.days\">\n                                <div class=\"calendar-mtable-day\" :class=\"(day.SelectedDay ? 'selected-date-border' : ''), (!day.CurrentMonth ? 'opacity-6' : '')\">\n                                    <div class=\"calendar-mtable-day-header\" :class=\"day.SelectedDay ? 'selected-date-hbg' : ''\">\n                                        {{day.dateString}}\n                                    </div>\n                                    <span><i class=\"bi bi-calendar2-week-fill\"></i> : </span>\n                                    <span><i class=\"bi bi-exclamation-circle-fill\"></i> : </span>\n                                    <span v-if=\"day.CurrentDay\" style=\"height: 1px; margin: 3px 4px 0 0; color: rgba(75, 75, 240, 0.829); transform: rotate(-10deg); text-align: right;\"><i>Сегодня!</i></span>\n                                </div>                                \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div class=\"calendar-area-info\">\n            <div class=\"calendar-area-table-head\">Выбранная дата:</div>\n            <div class=\"calendar-area-info-sdate\">\n                <table class=\"calendar-sdate-table\">\n                    <tbody>\n                        <tr>\n                            <td style=\"width: 140px;\">\n                                <div class=\"calendar-sdate-table-list selected-date-border\">\n                                    <div class=\"header selected-date-hbg\">\n                                        <div class=\"d-flex justify-content-around align-items-center\"><i class=\"odiv\"></i><i class=\"odiv\"></i></div>\n                                        <span>{{selectDate.toLocaleDateString()}}</span>\n                                    </div>\n                                    {{Get_wdayStr(selectDate.getDay())}}\n                                    <br>\n                                    <div style=\"margin: 30px 5px 0 0; color: rgba(75, 75, 240, 0.829); transform: rotate(-10deg); text-align: right;\"><i>Сегодня!</i></div>\n                                </div>\n                            </td>\n                            <td>\n                                <div class=\"calendar-sdate-table-info\">\n                                    <div>\n                                        <i class=\"bi bi-calendar2-week-fill\"></i> События: {{selectDate_Events.length}}\n                                    </div>\n                                    <div>\n                                        <i class=\"bi bi-exclamation-circle-fill\"></i> Напоминания: {{selectDate_Reminders.length}}\n                                    </div>\n                                </div>                                \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            \n        </div>\n    </div>\n    <div class=\"calendar-bottom-panel d-flex justify-content-center align-items-center\"></div>\n</div>","export const LangPack = {\n    en: {\n        mycalendar: 'My calendar',\n        mon: 'Mon',\n        tue: 'Tue',\n        wed: 'Wed',\n        thu: 'Thu',\n        fri: 'Fri',\n        sat: 'Sat',\n        sun: 'Sun',\n        sunday: 'Sunday',\n        monday: 'Monday',\n        tuesday: 'Tuesday',\n        wednesday: 'Wednesday',\n        thursday: 'Thursday',\n        friday: 'Thursday',\n        saturday: 'Saturday',\n        january: 'January',\n        february: 'February',\n        march: 'March',\n        april: 'April',\n        may: 'May',\n        june: 'June',\n        july: 'July',\n        august: 'August',\n        september: 'September',\n        october: 'October',\n        november: 'November',\n        december: 'December',\n    },\n    ru: {\n        mycalendar: 'Мой календарь',\n        mon: 'Пн',\n        tue: 'Вт',\n        wed: 'Ср',\n        thu: 'Чт',\n        fri: 'Пт',\n        sat: 'Сб',\n        sun: 'Вс',\n        sunday: 'Воскресенье',\n        monday: 'Понедельник',\n        tuesday: 'Вторник',\n        wednesday: 'Среда',\n        thursday: 'Четверг',\n        friday: 'Пятница',\n        saturday: 'Суббота',\n        january: 'Январь',\n        february: 'Февраль',\n        march: 'Март',\n        april: 'Апрель',\n        may: 'Май',\n        june: 'Июнь',\n        july: 'Июль',\n        august: 'Август',\n        september: 'Сентябрь',\n        october: 'Октябрь',\n        november: 'Ноябрь',\n        december: 'Декабрь',\n    },\n};","<template src=\"./template.html\"></template>\n<style src=\"./styles.css\"></style>\n<script>\n    import { LangPack } from './lang';\n    import { mapStores } from 'pinia';\n    import { useAppsStore } from '@/stores/apps.store';\n    import { usersTable } from '@/idb/db';\n\n    export default {\n        name: 'OSICalendar',\n\n        props: {\n            windowId: { type: String, required: true },\n            USERID: {type: Number, default: 0},\n            selectedYear: { type: Number, default: null},\n            selectedMonth: { type: Number, default: null},\n            selectedDay: { type: Number, default: null},\n        },\n\n        data() {\n            return {\n                USER: null,\n                lang_data: {},\n\n                timer: null,\n                \n                currentDate: new Date(),\n                currentDateStr: null,\n                currentTime: null,\n            \n                selectDate: new Date(),\n                selectDate_Events: [],\n                selectDate_Reminders: [],                \n            }\n        },\n\n        computed: {\n            ...mapStores(useAppsStore),\n            \n            selectYear() {\n                const targetDate = this.selectDate;\n                return targetDate.getYear();\n            },\n\n            \n        },\n\n        methods: {\n            async reloadTime() {\n                this.updateTime();\n                this.timer = setInterval(this.updateTime, 1000);\n            },\n\n            updateTime() {\n                const now = new Date();\n\n                this.currentDate = now;\n                this.currentDateStr = now.toLocaleDateString();\n                this.currentTime = now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'});\n            },\n\n            async findUser() {\n                try {\n                    this.USER = await usersTable.getbyId(this.USERID);\n                } catch (error) {\n                    console.error('Ошибка поиска пользователя:', error);\n                    this.$toast.error('Не удалось загрузить данные пользователя');\n                }\n            },\n\n            // Сохраняем текущее состояние в store\n            saveState() {\n                if (!this.windowId || !this.appsStore || !this.isInitialized) return;\n                \n                const state = {\n                    appType: 'calendar',\n                    timestamp: Date.now()\n                };\n                \n                console.log('OSICalculator saving state:', state);\n                this.appsStore.saveWindowState(this.windowId, state);\n            },\n\n            // поиск по lang файлу\n            LangData(key) { return this.lang_data[key] || ''; },\n\n            Get_monthStr(inpVal) {\n                let monthsList = [\n                    this.LangData('january'),\n                    this.LangData('february'),\n                    this.LangData('march'),\n                    this.LangData('april'),\n                    this.LangData('may'),\n                    this.LangData('june'),\n                    this.LangData('july'),\n                    this.LangData('august'),\n                    this.LangData('september'),\n                    this.LangData('october'),\n                    this.LangData('november'),\n                    this.LangData('december'),\n                ];\n\n                return monthsList[inpVal];\n            },\n            \n            Get_wdayStr(inpVal) {\n                let wdays = [\n                    this.LangData('sunday'),\n                    this.LangData('monday'),\n                    this.LangData('tuesday'),\n                    this.LangData('wednesday'),\n                    this.LangData('thursday'),\n                    this.LangData('friday'),\n                    this.LangData('saturday'),\n                ];\n\n                return wdays[inpVal];\n            },\n\n            calendarWeeks() {\n                const weeks = [];\n                const firstDayOfMonth = new Date(this.selectDate.getFullYear(), this.selectDate.getMonth(), 1);\n\n                let sDate = this.selectDate;\n                sDate = new Date(sDate.getFullYear(), sDate.getMonth(), sDate.getDate());\n                \n                // const sDay = sDate.getDate();\n                // const sMonth = sDate.getMonth();\n                // const sYear = sDate.getFullYear();\n\n                const curMonth = this.currentDate.getMonth();\n                const curDay = this.currentDate.getDate();\n                const curYear = this.currentDate.getFullYear();\n                // const curDate = new Date(curYear, curMonth, curDay);\n                \n                // Находим первый день, который нужно отобразить (может быть из предыдущего месяца)\n                const firstDayOfCalendar = new Date(firstDayOfMonth);\n                // Начинаем с понедельника (0 - воскресенье, 1 - понедельник)\n                const dayOfWeek = firstDayOfMonth.getDay();\n                // Корректировка для начала недели с понедельника\n                const startOffset = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\n\n                firstDayOfCalendar.setDate(firstDayOfCalendar.getDate() - startOffset);\n\n                let cur_Date = new Date(firstDayOfCalendar);\n                let weekNumber = 0;\n\n                for (let week = 0; week < 6; week++) {\n                    const weekDays = [];\n\n                    for (let day = 0; day < 7; day++) {\n                        const d = new Date(cur_Date);\n                        const dayOfMonth = d.getDate();\n                        const isCurrentYear = d.getFullYear() === curYear;\n                        const isCurrentMonth = d.getMonth() === curMonth;\n                        // const isCurrentMonth = d.getMonth() === sMonth;\n                        const isCurrentDay = isCurrentMonth && dayOfMonth === curDay && d.getFullYear() === curYear;\n                        // const isCurrentDay = isCurrentMonth && dayOfMonth === sDay && d.getFullYear() === sYear;\n                        // const isSelectedDay = this.selectedDay !== null && isCurrentMonth && dayOfMonth === this.selectedDay && d.getFullYear() === this.display_year();\n                        // const isSelectedDay = d === curDate;\n                        const isSelectedDay = d.toLocaleDateString() === sDate.toLocaleDateString();\n\n                        weekDays.push({\n                            date: d,\n                            // dateString: d.toISOString().split('T')[0],\n                            dateString: d.toLocaleDateString(),\n                            dayOfMonth: dayOfMonth,\n                            CurrentYear: isCurrentYear,\n                            CurrentMonth: isCurrentMonth,\n                            CurrentDay: isCurrentDay,\n                            SelectedDay: isSelectedDay,\n                            month: d.getMonth(),\n                            year: d.getFullYear()\n                        });\n                        \n                        // Переходим к следующему дню\n                        cur_Date.setDate(cur_Date.getDate() + 1);\n                    }\n        \n                    // Добавляем неделю только если она содержит дни текущего месяца\n                    // или это первая/последняя неделя\n                    const hasCurrentMonthDays = weekDays.some(day => day.isCurrentMonth);\n                    const isFirstWeek = week === 0;\n                    // const isLastWeek = week === 5;\n\n                    if (hasCurrentMonthDays || isFirstWeek || (week < 5 && new Date(cur_Date).getMonth() !== this.currentDate.getMonth() + 2)) {\n                        weeks.push({\n                            weekNumber: weekNumber++,\n                            days: weekDays\n                        });\n                    }\n                }\n                \n                return weeks;\n\n            },\n        },\n\n        mounted() {\n            console.log('OSICalendar app mounted with windowId:', this.windowId);\n\n            const sDate = (this.selectedYear && this.selectedMonth && this.selectedDay) ? new Date(this.selectedYear, this.selectedMonth, this.selectedDay) : this.currentDate;\n            this.selectDate = sDate;\n\n            const userLang = navigator.language || navigator.userLanguage;\n            const userLangS = userLang.split('-')[0];\n            \n            this.UserLang = userLangS; \n            \n            const LangPackData = LangPack;\n\n            this.lang_data = (userLangS && LangPackData && LangPackData[userLangS]) ? LangPackData[userLangS] : LangPackData.en;\n\n            // Сохраняем начальное состояние после небольшой задержки\n            setTimeout(() => {\n                this.saveState();\n            }, 100);\n\n            this.reloadTime();\n        },\n  \n        beforeUnmount() {\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n        }\n    }\n</script>","import { render } from \"./template.html?vue&type=template&id=613c67c0&external\"\nimport script from \"./OSICalendar.vue?vue&type=script&lang=js\"\nexport * from \"./OSICalendar.vue?vue&type=script&lang=js\"\n\nimport \"./styles.css?vue&type=style&index=0&lang=css&external\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_ctx","currentTime","currentDateStr","_hoisted_3","_hoisted_4","_hoisted_5","Get_monthStr","selectDate","getMonth","getFullYear","_hoisted_6","_hoisted_7","_hoisted_8","LangData","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_Fragment","_renderList","calendarWeeks","week","days","day","_normalizeClass","SelectedDay","CurrentMonth","dateString","CurrentDay","_hoisted_15","_cache","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","toLocaleDateString","Get_wdayStr","getDay","_hoisted_22","selectDate_Events","length","selectDate_Reminders","LangPack","en","mycalendar","mon","tue","wed","thu","fri","sat","sun","sunday","monday","tuesday","wednesday","thursday","friday","saturday","january","february","march","april","may","june","july","august","september","october","november","december","ru","name","props","windowId","type","String","required","USERID","Number","default","selectedYear","selectedMonth","selectedDay","data","USER","lang_data","timer","currentDate","Date","computed","mapStores","useAppsStore","selectYear","targetDate","this","getYear","methods","reloadTime","updateTime","setInterval","now","toLocaleTimeString","hour","minute","findUser","usersTable","getbyId","error","console","$toast","saveState","appsStore","isInitialized","state","appType","timestamp","log","saveWindowState","key","inpVal","monthsList","wdays","weeks","firstDayOfMonth","sDate","getDate","curMonth","curDay","curYear","firstDayOfCalendar","dayOfWeek","startOffset","setDate","cur_Date","weekNumber","weekDays","d","dayOfMonth","isCurrentYear","isCurrentMonth","isCurrentDay","isSelectedDay","push","date","CurrentYear","month","year","hasCurrentMonthDays","some","isFirstWeek","mounted","userLang","navigator","language","userLanguage","userLangS","split","UserLang","LangPackData","setTimeout","beforeUnmount","clearInterval","__exports__","render"],"ignoreList":[],"sourceRoot":""}