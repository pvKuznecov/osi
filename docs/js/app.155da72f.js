(function(){"use strict";var e={82:function(e,i,t){e.exports=t.p+"img/nwall.166e5457.jpg"},8470:function(e,i,t){var n=t(5130),o=t(2261),s=(t(8111),t(6768));const a={class:"webos"};function r(e,i,t,n,o,r){const d=(0,s.g2)("SimpleWindow"),l=(0,s.g2)("DesktopArea"),u=(0,s.g2)("TaskBar");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.bF)(l,null,{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.osStore.windows,e=>((0,s.uX)(),(0,s.Wv)(d,{key:e.id,windowId:e.id,title:e.title,appName:e.appName,contentApp:e.contentApp,defWidth:e.defWidth,defHeight:e.defHeight,isMinimized:e.isMinimized,isActive:o.osStore.activeWindowId===e.id,isMaximized:e.isMaximized,zIndex:e.zIndex,onClose:r.closeWindow,onMinimize:r.minimizeWindow,onToggleMaximize:r.toggleMaximizeWindow,onFocus:r.activateWindow},null,8,["windowId","title","appName","contentApp","defWidth","defHeight","isMinimized","isActive","isMaximized","zIndex","onClose","onMinimize","onToggleMaximize","onFocus"]))),128))]),_:1}),(0,s.bF)(u)])}var d=t(4232);const l={class:"desktop-icons"},u=["onDblclick"],c={class:"icon"},h={class:"label"};function p(e,i){return(0,s.uX)(),(0,s.CE)("div",{class:"desktop-area",onClick:i[0]||(i[0]=(...i)=>e.activateDesktop&&e.activateDesktop(...i)),style:(0,d.Tr)(e.desktopStyle)},[(0,s.Lk)("div",l,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.apps,i=>((0,s.uX)(),(0,s.CE)("div",{key:i.name,class:"desktop-icon",onDblclick:t=>e.launchApp(i)},[(0,s.Lk)("div",c,(0,d.v_)(i.icon),1),(0,s.Lk)("span",h,(0,d.v_)(i.label),1)],40,u))),128))]),(0,s.RG)(e.$slots,"default")],4)}t(2489),t(4114),t(116),t(7588);var m=t(144);const w=(0,o.nY)("os",()=>{const e=(0,m.KR)([]),i=(0,m.KR)(null);let t=100;const n=n=>{const o=e.value.find(e=>e.id===n);o&&(i.value=n,e.value.forEach(e=>{e.id===n&&(e.zIndex=t++)}))},o=i=>{const o=i.name,s=i.label,a=i.contentapp,r={...i,id:Date.now().toString(),appName:o,contentApp:a,title:s,isMinimized:!!i.isMinimized&&i.isMinimized,isMaximized:!!i.isMaximized&&i.isMaximized,zIndex:t++};return e.value.push(r),n(r.id),r.id},s=i=>{const t=e.value.findIndex(e=>e.id===i);-1!==t&&e.value.splice(t,1)},a=i=>{const t=e.value.find(e=>e.id===i);t&&(t.isMinimized=!0)},r=i=>{const t=e.value.find(e=>e.id===i);t&&(t.isMinimized=!1,n(i))},d=i=>{const t=e.value.find(e=>e.id===i);t&&(t.isMaximized=!t.isMaximized,n(i))};return{windows:e,activeWindowId:i,openWindow:o,closeWindow:s,minimizeWindow:a,restoreWindow:r,toggleMaximizeWindow:d,activateWindow:n}});var f={name:"DesktopArea",data(){return{apps:[{name:"calculator",label:"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",icon:"üßÆ",contentapp:"OSICalculator",defWidth:400,defHeight:670},{name:"osihelper",label:"OSI –ø–æ–º–æ—â–Ω–∏–∫",icon:"‚ÑπÔ∏è",contentapp:"OSIHelper",isMaximized:!0},{name:"wiki",label:"Wikipedia",icon:"W",contentapp:"AppWiki",isMaximized:!0}]}},computed:{desktopStyle(){return{backgroundImage:`url(${this.getWallpaperUrl()})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},osStore(){return w()}},methods:{getWallpaperUrl(){return t(82)},activateDesktop(){this.osStore.activeWindowId=null},launchApp(e){const i=e.name,t=this.osStore.windows.filter(e=>e.appName===i&&!e.isMinimized);t.length>0?this.osStore.activateWindow(t[0].id):this.osStore.openWindow(e)}}},g=t(1241);const v=(0,g.A)(f,[["render",p]]);var z=v;const M={class:"task-bar"},k={class:"taskbar-apps"},x=["onClick"],S={class:"app-icon"},b={class:"app-title"},y={class:"system-tray"},W={class:"tray-time"};function C(e,i){return(0,s.uX)(),(0,s.CE)("div",M,[(0,s.Lk)("button",{class:"start-button",onClick:i[0]||(i[0]=(...i)=>e.toggleStartMenu&&e.toggleStartMenu(...i))},[...i[1]||(i[1]=[(0,s.Lk)("span",{class:"start-icon"},"üåÄ",-1),(0,s.Lk)("span",{class:"start-text"},"–ú–µ–Ω—é",-1)])]),(0,s.Lk)("div",k,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.osStore.windows,i=>((0,s.uX)(),(0,s.CE)("button",{key:i.id,class:(0,d.C4)(["taskbar-app",{active:e.osStore.activeWindowId===i.id}]),onClick:t=>e.toggleWindow(i.id)},[(0,s.Lk)("span",S,(0,d.v_)(e.getAppIcon(i.appName)),1),(0,s.Lk)("span",b,(0,d.v_)(i.title),1)],10,x))),128))]),(0,s.Lk)("div",y,[(0,s.Lk)("div",W,(0,d.v_)(e.currentTime),1)])])}var I={name:"TaskBar",data(){return{currentTime:"",timer:null}},computed:{osStore(){return w()}},methods:{updateTime(){const e=new Date;this.currentTime=e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},getAppIcon(e){const i={notepad:"üìù",explorer:"üìÅ",calculator:"üßÆ",settings:"‚öôÔ∏è",osihelper:"‚ÑπÔ∏è"};return i[e]||"üìÑ"},toggleWindow(e){const i=this.osStore.windows.find(i=>i.id===e);i&&(i.isMinimized?this.osStore.restoreWindow(e):this.osStore.activateWindow(e))},toggleStartMenu(){console.log("–ú–µ–Ω—é –ü—É—Å–∫")}},mounted(){this.updateTime(),this.timer=setInterval(this.updateTime,1e3)},beforeUnmount(){this.timer&&clearInterval(this.timer)}};const A=(0,g.A)(I,[["render",C]]);var E=A;const X={class:"window-title"},L={class:"window-controls"},D={class:"window-content"},_={key:1,class:"default-content"};function O(e,i){return e.isMinimized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,d.C4)(["simple-window",{active:e.isActive,maximized:e.isMaximized}]),style:(0,d.Tr)(e.windowStyles),onMousedown:i[13]||(i[13]=(...i)=>e.activateWindow&&e.activateWindow(...i))},[(0,s.Lk)("div",{class:"window-header",onMousedown:i[3]||(i[3]=(...i)=>e.startDrag&&e.startDrag(...i)),onDblclick:i[4]||(i[4]=(...i)=>e.toggleMaximize&&e.toggleMaximize(...i))},[(0,s.Lk)("span",X,(0,d.v_)(e.title),1),(0,s.Lk)("div",L,[(0,s.Lk)("button",{class:"window-btn minimize",onClick:i[0]||(i[0]=(...i)=>e.minimize&&e.minimize(...i))},"_"),(0,s.Lk)("button",{class:"window-btn maximize",onClick:i[1]||(i[1]=(...i)=>e.toggleMaximize&&e.toggleMaximize(...i))},(0,d.v_)(e.isMaximized?"‚ùê":"‚ñ°"),1),(0,s.Lk)("button",{class:"window-btn close",onClick:i[2]||(i[2]=(...i)=>e.close&&e.close(...i))},"‚úï")])],32),(0,s.Lk)("div",D,[(0,s.RG)(e.$slots,"default",{},()=>[e.dynamicComponent?((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.dynamicComponent),{key:0,"window-id":e.windowId},null,8,["window-id"])):((0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("p",null,"–≠—Ç–æ –æ–∫–Ω–æ "+(0,d.v_)(e.isMaximized?"—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ":"–Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ"),1),(0,s.Lk)("p",null,"–†–∞–∑–º–µ—Ä: "+(0,d.v_)(e.windowWidth)+" √ó "+(0,d.v_)(e.windowHeight),1),i[14]||(i[14]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("p",null,"appName:: "+(0,d.v_)(e.appName),1),(0,s.Lk)("p",null,"isMinimized:: "+(0,d.v_)(e.isMinimized),1),(0,s.Lk)("p",null,"isMaximized:: "+(0,d.v_)(e.isMaximized),1),(0,s.Lk)("p",null,"contentApp:: "+(0,d.v_)(e.contentApp),1)]))])]),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:0,class:"resize-handle resize-top",onMousedown:i[5]||(i[5]=i=>e.startResize("n"))},null,32)),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:1,class:"resize-handle resize-right",onMousedown:i[6]||(i[6]=i=>e.startResize("e"))},null,32)),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:2,class:"resize-handle resize-bottom",onMousedown:i[7]||(i[7]=i=>e.startResize("s"))},null,32)),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:3,class:"resize-handle resize-left",onMousedown:i[8]||(i[8]=i=>e.startResize("w"))},null,32)),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:4,class:"resize-handle resize-top-right",onMousedown:i[9]||(i[9]=i=>e.startResize("ne"))},null,32)),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:5,class:"resize-handle resize-bottom-right",onMousedown:i[10]||(i[10]=i=>e.startResize("se"))},null,32)),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:6,class:"resize-handle resize-bottom-left",onMousedown:i[11]||(i[11]=i=>e.startResize("sw"))},null,32)),e.isMaximized?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:7,class:"resize-handle resize-top-left",onMousedown:i[12]||(i[12]=i=>e.startResize("nw"))},null,32))],38))}var T={name:"SimpleWindow",props:{windowId:String,title:{type:String,default:"–û–∫–Ω–æ"},appName:{type:String,default:"app"},contentApp:{type:String,default:"--"},isMinimized:{type:Boolean,default:!1},isMaximized:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},zIndex:{type:Number,default:100},defWidth:{type:Number,default:400},defHeight:{type:Number,default:400}},emits:["close","minimize","focus","toggleMaximize"],data(){return{posX:100,posY:100,windowWidth:this.defWidth,windowHeight:this.defHeight,isDragging:!1,isResizing:!1,dragOffset:{x:0,y:0},resizeDirection:"",resizeStart:{x:0,y:0,width:0,height:0,mouseX:0,mouseY:0}}},computed:{dynamicComponent(){const e={OSIHelper:()=>t.e(680).then(t.bind(t,1680)),OSICalculator:()=>t.e(220).then(t.bind(t,5220)),AppWiki:()=>t.e(853).then(t.bind(t,1853))};return this.contentApp&&e[this.contentApp]?(0,s.$V)(e[this.contentApp]):null},windowStyles(){const e={zIndex:this.zIndex};return this.isMaximized?{...e,left:"0",top:"0",width:"100vw",height:"100vh",borderRadius:"0"}:{...e,left:`${this.posX}px`,top:`${this.posY}px`,width:`${this.windowWidth}px`,height:`${this.windowHeight}px`}}},mounted(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},methods:{activateWindow(){this.$emit("focus",this.windowId)},startDrag(e){this.$emit("focus",this.windowId),this.isMaximized||(this.isDragging=!0,this.dragOffset={x:e.clientX-this.posX,y:e.clientY-this.posY},e.stopPropagation())},startResize(e){this.isMaximized||(this.$emit("focus",this.windowId),this.isResizing=!0,this.resizeDirection=e,this.resizeStart.x=this.posX,this.resizeStart.y=this.posY,this.resizeStart.width=this.windowWidth,this.resizeStart.height=this.windowHeight,this.resizeStart.mouseX=event.clientX,this.resizeStart.mouseY=event.clientY)},handleMouseMove(e){if(this.isDragging&&!this.isMaximized){let i=e.clientX-this.dragOffset.x,t=e.clientY-this.dragOffset.y;const n=window.innerWidth-this.windowWidth,o=window.innerHeight-this.windowHeight;this.posX=Math.max(0,Math.min(i,n)),this.posY=Math.max(0,Math.min(t,o))}else this.isResizing&&!this.isMaximized&&this.handleResize(e)},handleResize(e){const i=200,t=150,n=e.clientX-this.resizeStart.mouseX,o=e.clientY-this.resizeStart.mouseY;let s=this.resizeStart.x,a=this.resizeStart.y,r=this.resizeStart.width,d=this.resizeStart.height;this.resizeDirection.includes("e")&&(r=Math.max(i,this.resizeStart.width+n)),this.resizeDirection.includes("w")&&(r=Math.max(i,this.resizeStart.width-n),s=this.resizeStart.x+(this.resizeStart.width-r)),this.resizeDirection.includes("s")&&(d=Math.max(t,this.resizeStart.height+o)),this.resizeDirection.includes("n")&&(d=Math.max(t,this.resizeStart.height-o),a=this.resizeStart.y+(this.resizeStart.height-d)),this.posX=s,this.posY=a,this.windowWidth=r,this.windowHeight=d,this.keepWindowInBounds()},keepWindowInBounds(){const e=200,i=150,t=window.innerWidth,n=window.innerHeight;this.windowWidth=Math.max(e,this.windowWidth),this.windowHeight=Math.max(i,this.windowHeight),this.posX+this.windowWidth>t&&(this.windowWidth=t-this.posX),this.posY+this.windowHeight>n&&(this.windowHeight=n-this.posY),this.posX=Math.max(0,this.posX),this.posY=Math.max(0,this.posY),this.windowWidth=Math.max(e,this.windowWidth),this.windowHeight=Math.max(i,this.windowHeight)},handleMouseUp(){(this.isDragging||this.isResizing)&&this.keepWindowInBounds(),this.isDragging=!1,this.isResizing=!1},minimize(){this.$emit("minimize",this.windowId)},toggleMaximize(){this.$emit("toggleMaximize",this.windowId)},close(){this.$emit("close",this.windowId)}}};const H=(0,g.A)(T,[["render",O]]);var R=H,N={name:"App",components:{DesktopArea:z,TaskBar:E,SimpleWindow:R},data(){return{osStore:null}},methods:{closeWindow(e){this.osStore&&this.osStore.closeWindow(e)},minimizeWindow(e){this.osStore&&this.osStore.minimizeWindow(e)},toggleMaximizeWindow(e){this.osStore&&this.osStore.toggleMaximizeWindow(e)},activateWindow(e){this.osStore&&this.osStore.activateWindow(e)}},created(){this.osStore=w()},mounted(){setTimeout(()=>{this.osStore&&this.osStore.openWindow({name:"notepad",label:"–ë–ª–æ–∫–Ω–æ—Ç",icon:"üìù",contentapp:"Notepad"})},500)}};const Y=(0,g.A)(N,[["render",r],["__scopeId","data-v-5706ad28"]]);var $=Y;const j=(0,n.Ef)($),B=(0,o.Ey)();j.use(B),j.mount("#app")}},i={};function t(n){var o=i[n];if(void 0!==o)return o.exports;var s=i[n]={exports:{}};return e[n].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(i,n,o,s){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],s=e[u][2];for(var r=!0,d=0;d<n.length;d++)(!1&s||a>=s)&&Object.keys(t.O).every(function(e){return t.O[e](n[d])})?n.splice(d--,1):(r=!1,s<a&&(a=s));if(r){e.splice(u--,1);var l=o();void 0!==l&&(i=l)}}return i}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,o,s]}}(),function(){t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,{a:i}),i}}(),function(){t.d=function(e,i){for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce(function(i,n){return t.f[n](e,i),i},[]))}}(),function(){t.u=function(e){return"js/"+e+"."+{220:"d8fdfc32",680:"e0002820",853:"18239e83"}[e]+".js"}}(),function(){t.miniCssF=function(e){return"css/"+e+"."+{220:"dd83c9c2",680:"0b9ce785",853:"5c0f9769"}[e]+".css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){var e={},i="osi:";t.l=function(n,o,s,a){if(e[n])e[n].push(o);else{var r,d;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==i+s){r=c;break}}r||(d=!0,r=document.createElement("script"),r.charset="utf-8",t.nc&&r.setAttribute("nonce",t.nc),r.setAttribute("data-webpack",i+s),r.src=n),e[n]=[o];var h=function(i,t){r.onerror=r.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach(function(e){return e(t)}),i)return i(t)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),d&&document.head.appendChild(r)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/osi/"}(),function(){if("undefined"!==typeof document){var e=function(e,i,n,o,s){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",t.nc&&(a.nonce=t.nc);var r=function(t){if(a.onerror=a.onload=null,"load"===t.type)o();else{var n=t&&t.type,r=t&&t.target&&t.target.href||i,d=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+r+")");d.name="ChunkLoadError",d.code="CSS_CHUNK_LOAD_FAILED",d.type=n,d.request=r,a.parentNode&&a.parentNode.removeChild(a),s(d)}};return a.onerror=a.onload=r,a.href=i,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},i=function(e,i){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var o=t[n],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===i))return o}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){o=a[n],s=o.getAttribute("data-href");if(s===e||s===i)return o}},n=function(n){return new Promise(function(o,s){var a=t.miniCssF(n),r=t.p+a;if(i(a,r))return o();e(n,r,null,o,s)})},o={524:0};t.f.miniCss=function(e,i){var t={220:1,680:1,853:1};o[e]?i.push(o[e]):0!==o[e]&&t[e]&&i.push(o[e]=n(e).then(function(){o[e]=0},function(i){throw delete o[e],i}))}}}(),function(){var e={524:0};t.f.j=function(i,n){var o=t.o(e,i)?e[i]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise(function(t,n){o=e[i]=[t,n]});n.push(o[2]=s);var a=t.p+t.u(i),r=new Error,d=function(n){if(t.o(e,i)&&(o=e[i],0!==o&&(e[i]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;r.message="Loading chunk "+i+" failed.\n("+s+": "+a+")",r.name="ChunkLoadError",r.type=s,r.request=a,o[1](r)}};t.l(a,d,"chunk-"+i,i)}},t.O.j=function(i){return 0===e[i]};var i=function(i,n){var o,s,a=n[0],r=n[1],d=n[2],l=0;if(a.some(function(i){return 0!==e[i]})){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(d)var u=d(t)}for(i&&i(n);l<a.length;l++)s=a[l],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(u)},n=self["webpackChunkosi"]=self["webpackChunkosi"]||[];n.forEach(i.bind(null,0)),n.push=i.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(8470)});n=t.O(n)})();
//# sourceMappingURL=app.155da72f.js.map