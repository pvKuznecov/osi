{"version":3,"file":"js/512.22ed2bb3.js","mappings":"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","sources":["webpack://osi/./src/apps/system/OSICalendar/template.html","webpack://osi/./src/apps/system/OSICalendar/lang.js","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue","webpack://osi/./src/apps/system/OSICalendar/OSICalendar.vue?cb70"],"sourcesContent":["<div class=\"calendar-app\">\n    <div class=\"calendar-top-panel d-flex justify-content-center align-items-center\">\n        Текущее время: {{currentTime}} {{currentDate}}\n    </div>\n    <div class=\"calendar-area-work\">\n        <div class=\"calendar-area-table\">\n            <div class=\"calendar-area-table-head\">\n                ***\n            </div>\n            <div>\n\n            </div>\n        </div>\n        <div class=\"calendar-area-info\"></div>\n    </div>\n    <div class=\"calendar-bottom-panel d-flex justify-content-center align-items-center\"></div>\n</div>","export const LangPack = {\n    en: {\n        mycalendar: 'My calendar',\n        mon: 'Mon',\n        tue: 'Tue',\n        wed: 'Wed',\n        thu: 'Thu',\n        fri: 'Fri',\n        sat: 'Sat',\n        sun: 'Sun',\n        sunday: 'Sunday',\n        monday: 'Monday',\n        tuesday: 'Tuesday',\n        wednesday: 'Wednesday',\n        thursday: 'Thursday',\n        friday: 'Thursday',\n        saturday: 'Saturday',\n        january: 'January',\n        february: 'February',\n        march: 'March',\n        april: 'April',\n        may: 'May',\n        june: 'June',\n        july: 'July',\n        august: 'August',\n        september: 'September',\n        october: 'October',\n        november: 'November',\n        december: 'December',\n    },\n    ru: {\n        mycalendar: 'Мой календарь',\n        mon: 'Пн',\n        tue: 'Вт',\n        wed: 'Ср',\n        thu: 'Чт',\n        fri: 'Пт',\n        sat: 'Сб',\n        sun: 'Вс',\n        sunday: 'Воскресенье',\n        monday: 'Понедельник',\n        tuesday: 'Вторник',\n        wednesday: 'Среда',\n        thursday: 'Четверг',\n        friday: 'Пятница',\n        saturday: 'Суббота',\n        january: 'Январь',\n        february: 'Февраль',\n        march: 'Март',\n        april: 'Апрель',\n        may: 'Май',\n        june: 'Июнь',\n        july: 'Июль',\n        august: 'Август',\n        september: 'Сентябрь',\n        october: 'Октябрь',\n        november: 'Ноябрь',\n        december: 'Декабрь',\n    },\n};","<template src=\"./template.html\"></template>\n<style src=\"./styles.css\"></style>\n<script>\n    import { LangPack } from './lang';\n    import { mapStores } from 'pinia';\n    import { useAppsStore } from '@/stores/apps.store';\n    import { usersTable } from '@/idb/db';\n\n    export default {\n        name: 'OSICalendar',\n\n        props: {\n            windowId: { type: String, required: true },\n            USERID: {type: Number, default: 0},\n            selectedYear: { type: Number, default: null},\n            selectedMonth: { type: Number, default: null},\n            selectedDay: { type: Number, default: null},\n        },\n\n        data() {\n            return {\n                USER: null,\n                lang_data: {},\n\n                timer: null,\n                \n                currentDate: null,\n                currentTime: null,\n                \n            }\n        },\n\n        computed: {\n            ...mapStores(useAppsStore),            \n        },\n\n        methods: {\n            async reloadTime() {\n                this.updateTime();\n                this.timer = setInterval(this.updateTime, 1000);\n            },\n\n            updateTime() {\n                const now = new Date();\n\n                this.currentDate = now.toLocaleDateString();\n                this.currentTime = now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'});\n            },\n\n            async findUser() {\n                try {\n                    this.USER = await usersTable.getbyId(this.USERID);\n                } catch (error) {\n                    console.error('Ошибка поиска пользователя:', error);\n                    this.$toast.error('Не удалось загрузить данные пользователя');\n                }\n            },\n\n            // Сохраняем текущее состояние в store\n            saveState() {\n                if (!this.windowId || !this.appsStore || !this.isInitialized) return;\n                \n                const state = {\n                    appType: 'calendar',\n                    timestamp: Date.now()\n                };\n                \n                console.log('OSICalculator saving state:', state);\n                this.appsStore.saveWindowState(this.windowId, state);\n            },\n        },\n\n        mounted() {\n            console.log('OSICalendar app mounted with windowId:', this.windowId);\n\n            const userLang = navigator.language || navigator.userLanguage;\n            const userLangS = userLang.split('-')[0];\n            \n            this.UserLang = userLangS; \n            \n            const LangPackData = LangPack;\n\n            this.lang_data = (userLangS && LangPackData && LangPackData[userLangS]) ? LangPackData[userLangS] : LangPackData.en;\n\n            // Сохраняем начальное состояние после небольшой задержки\n            setTimeout(() => {\n                this.saveState();\n            }, 100);\n\n            this.reloadTime();\n        },\n  \n        beforeUnmount() {\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n        }\n    }\n</script>","import { render } from \"./template.html?vue&type=template&id=2fc795e1&external\"\nimport script from \"./OSICalendar.vue?vue&type=script&lang=js\"\nexport * from \"./OSICalendar.vue?vue&type=script&lang=js\"\n\nimport \"./styles.css?vue&type=style&index=0&lang=css&external\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_ctx","currentTime","currentDate","LangPack","en","mycalendar","mon","tue","wed","thu","fri","sat","sun","sunday","monday","tuesday","wednesday","thursday","friday","saturday","january","february","march","april","may","june","july","august","september","october","november","december","ru","name","props","windowId","type","String","required","USERID","Number","default","selectedYear","selectedMonth","selectedDay","data","USER","lang_data","timer","computed","mapStores","useAppsStore","methods","reloadTime","this","updateTime","setInterval","now","Date","toLocaleDateString","toLocaleTimeString","hour","minute","findUser","usersTable","getbyId","error","console","$toast","saveState","appsStore","isInitialized","state","appType","timestamp","log","saveWindowState","mounted","userLang","navigator","language","userLanguage","userLangS","split","UserLang","LangPackData","setTimeout","beforeUnmount","clearInterval","__exports__","render"],"ignoreList":[],"sourceRoot":""}