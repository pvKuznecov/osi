{"version":3,"file":"js/219.55f14722.js","mappings":"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","sources":["webpack://osi/./node_modules/music-metadata/lib/id3v2/FrameParser.js","webpack://osi/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js"],"sourcesContent":["import initDebug from 'debug';\r\nimport * as Token from 'token-types';\r\nimport * as util from '../common/Util.js';\r\nimport { AttachedPictureType, SyncTextHeader, TextEncodingToken, TextHeader } from './ID3v2Token.js';\r\nimport { Genres } from '../id3v1/ID3v1Parser.js';\r\nimport { makeUnexpectedFileContentError } from '../ParseError.js';\r\nimport { decodeUintBE } from '../common/Util.js';\r\nconst debug = initDebug('music-metadata:id3v2:frame-parser');\r\nconst defaultEnc = 'latin1'; // latin1 == iso-8859-1;\r\nexport function parseGenre(origVal) {\r\n    // match everything inside parentheses\r\n    const genres = [];\r\n    let code;\r\n    let word = '';\r\n    for (const c of origVal) {\r\n        if (typeof code === 'string') {\r\n            if (c === '(' && code === '') {\r\n                word += '(';\r\n                code = undefined;\r\n            }\r\n            else if (c === ')') {\r\n                if (word !== '') {\r\n                    genres.push(word);\r\n                    word = '';\r\n                }\r\n                const genre = parseGenreCode(code);\r\n                if (genre) {\r\n                    genres.push(genre);\r\n                }\r\n                code = undefined;\r\n            }\r\n            else\r\n                code += c;\r\n        }\r\n        else if (c === '(') {\r\n            code = '';\r\n        }\r\n        else {\r\n            word += c;\r\n        }\r\n    }\r\n    if (word) {\r\n        if (genres.length === 0 && word.match(/^\\d*$/)) {\r\n            word = parseGenreCode(word);\r\n        }\r\n        if (word) {\r\n            genres.push(word);\r\n        }\r\n    }\r\n    return genres;\r\n}\r\nfunction parseGenreCode(code) {\r\n    if (code === 'RX')\r\n        return 'Remix';\r\n    if (code === 'CR')\r\n        return 'Cover';\r\n    if (code.match(/^\\d*$/)) {\r\n        return Genres[Number.parseInt(code, 10)];\r\n    }\r\n}\r\nexport class FrameParser {\r\n    /**\r\n     * Create id3v2 frame parser\r\n     * @param major - Major version, e.g. (4) for  id3v2.4\r\n     * @param warningCollector - Used to collect decode issue\r\n     */\r\n    constructor(major, warningCollector) {\r\n        this.major = major;\r\n        this.warningCollector = warningCollector;\r\n    }\r\n    readData(uint8Array, type, includeCovers) {\r\n        if (uint8Array.length === 0) {\r\n            this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${type}`);\r\n            return;\r\n        }\r\n        const { encoding, bom } = TextEncodingToken.get(uint8Array, 0);\r\n        const length = uint8Array.length;\r\n        let offset = 0;\r\n        let output = []; // ToDo\r\n        const nullTerminatorLength = FrameParser.getNullTerminatorLength(encoding);\r\n        let fzero;\r\n        debug(`Parsing tag type=${type}, encoding=${encoding}, bom=${bom}`);\r\n        switch (type !== 'TXXX' && type[0] === 'T' ? 'T*' : type) {\r\n            case 'T*': // 4.2.1. Text information frames - details\r\n            case 'GRP1': // iTunes-specific ID3v2 grouping field\r\n            case 'IPLS': // v2.3: Involved people list\r\n            case 'MVIN':\r\n            case 'MVNM':\r\n            case 'PCS':\r\n            case 'PCST': {\r\n                let text;\r\n                try {\r\n                    text = util.decodeString(uint8Array.subarray(1), encoding).replace(/\\x00+$/, '');\r\n                }\r\n                catch (error) {\r\n                    if (error instanceof Error) {\r\n                        this.warningCollector.addWarning(`id3v2.${this.major} type=${type} header has invalid string value: ${error.message}`);\r\n                        break;\r\n                    }\r\n                    throw error;\r\n                }\r\n                switch (type) {\r\n                    case 'TMCL': // Musician credits list\r\n                    case 'TIPL': // Involved people list\r\n                    case 'IPLS': // Involved people list\r\n                        output = FrameParser.functionList(this.splitValue(type, text));\r\n                        break;\r\n                    case 'TRK':\r\n                    case 'TRCK':\r\n                    case 'TPOS':\r\n                        output = text;\r\n                        break;\r\n                    case 'TCOM':\r\n                    case 'TEXT':\r\n                    case 'TOLY':\r\n                    case 'TOPE':\r\n                    case 'TPE1':\r\n                    case 'TSRC':\r\n                        // id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\r\n                        output = this.splitValue(type, text);\r\n                        break;\r\n                    case 'TCO':\r\n                    case 'TCON':\r\n                        output = this.splitValue(type, text).map(v => parseGenre(v)).reduce((acc, val) => acc.concat(val), []);\r\n                        break;\r\n                    case 'PCS':\r\n                    case 'PCST':\r\n                        // TODO: Why `default` not results `1` but `''`?\r\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\r\n                        output = (Array.isArray(output) && output[0] === '') ? 1 : 0;\r\n                        break;\r\n                    default:\r\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\r\n                }\r\n                break;\r\n            }\r\n            case 'TXXX': {\r\n                const idAndData = FrameParser.readIdentifierAndData(uint8Array, offset + 1, length, encoding);\r\n                const textTag = {\r\n                    description: idAndData.id,\r\n                    text: this.splitValue(type, util.decodeString(idAndData.data, encoding).replace(/\\x00+$/, ''))\r\n                };\r\n                output = textTag;\r\n                break;\r\n            }\r\n            case 'PIC':\r\n            case 'APIC':\r\n                if (includeCovers) {\r\n                    const pic = {};\r\n                    offset += 1;\r\n                    switch (this.major) {\r\n                        case 2:\r\n                            pic.format = util.decodeString(uint8Array.subarray(offset, offset + 3), 'latin1'); // 'latin1'; // latin1 == iso-8859-1;\r\n                            offset += 3;\r\n                            break;\r\n                        case 3:\r\n                        case 4:\r\n                            fzero = util.findZero(uint8Array, offset, length, defaultEnc);\r\n                            pic.format = util.decodeString(uint8Array.subarray(offset, fzero), defaultEnc);\r\n                            offset = fzero + 1;\r\n                            break;\r\n                        default:\r\n                            throw makeUnexpectedMajorVersionError(this.major);\r\n                    }\r\n                    pic.format = FrameParser.fixPictureMimeType(pic.format);\r\n                    pic.type = AttachedPictureType[uint8Array[offset]];\r\n                    offset += 1;\r\n                    fzero = util.findZero(uint8Array, offset, length, encoding);\r\n                    pic.description = util.decodeString(uint8Array.subarray(offset, fzero), encoding);\r\n                    offset = fzero + nullTerminatorLength;\r\n                    pic.data = uint8Array.subarray(offset, length);\r\n                    output = pic;\r\n                }\r\n                break;\r\n            case 'CNT':\r\n            case 'PCNT':\r\n                output = decodeUintBE(uint8Array);\r\n                break;\r\n            case 'SYLT': {\r\n                const syltHeader = SyncTextHeader.get(uint8Array, 0);\r\n                offset += SyncTextHeader.len;\r\n                const result = {\r\n                    descriptor: '',\r\n                    language: syltHeader.language,\r\n                    contentType: syltHeader.contentType,\r\n                    timeStampFormat: syltHeader.timeStampFormat,\r\n                    syncText: []\r\n                };\r\n                let readSyllables = false;\r\n                while (offset < length) {\r\n                    const nullStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), syltHeader.encoding);\r\n                    offset += nullStr.len;\r\n                    if (readSyllables) {\r\n                        const timestamp = Token.UINT32_BE.get(uint8Array, offset);\r\n                        offset += Token.UINT32_BE.len;\r\n                        result.syncText.push({\r\n                            text: nullStr.text,\r\n                            timestamp\r\n                        });\r\n                    }\r\n                    else {\r\n                        result.descriptor = nullStr.text;\r\n                        readSyllables = true;\r\n                    }\r\n                }\r\n                output = result;\r\n                break;\r\n            }\r\n            case 'ULT':\r\n            case 'USLT':\r\n            case 'COM':\r\n            case 'COMM': {\r\n                const textHeader = TextHeader.get(uint8Array, offset);\r\n                offset += TextHeader.len;\r\n                const descriptorStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), textHeader.encoding);\r\n                offset += descriptorStr.len;\r\n                const textStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), textHeader.encoding);\r\n                const comment = {\r\n                    language: textHeader.language,\r\n                    descriptor: descriptorStr.text,\r\n                    text: textStr.text\r\n                };\r\n                output = comment;\r\n                break;\r\n            }\r\n            case 'UFID': {\r\n                const ufid = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\r\n                output = { owner_identifier: ufid.id, identifier: ufid.data };\r\n                break;\r\n            }\r\n            case 'PRIV': { // private frame\r\n                const priv = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\r\n                output = { owner_identifier: priv.id, data: priv.data };\r\n                break;\r\n            }\r\n            case 'POPM': { // Popularimeter\r\n                fzero = util.findZero(uint8Array, offset, length, defaultEnc);\r\n                const email = util.decodeString(uint8Array.subarray(offset, fzero), defaultEnc);\r\n                offset = fzero + 1;\r\n                const valueLen = length - offset - 1;\r\n                output = {\r\n                    email,\r\n                    rating: Token.UINT8.get(uint8Array, offset),\r\n                    counter: valueLen > 0 ? util.decodeUintBE(uint8Array.subarray(offset + 1)) : undefined\r\n                };\r\n                break;\r\n            }\r\n            case 'GEOB': { // General encapsulated object\r\n                fzero = util.findZero(uint8Array, offset + 1, length, encoding);\r\n                const mimeType = util.decodeString(uint8Array.subarray(offset + 1, fzero), defaultEnc);\r\n                offset = fzero + 1;\r\n                fzero = util.findZero(uint8Array, offset, length, encoding);\r\n                const filename = util.decodeString(uint8Array.subarray(offset, fzero), defaultEnc);\r\n                offset = fzero + 1;\r\n                fzero = util.findZero(uint8Array, offset, length, encoding);\r\n                const description = util.decodeString(uint8Array.subarray(offset, fzero), defaultEnc);\r\n                offset = fzero + 1;\r\n                const geob = {\r\n                    type: mimeType,\r\n                    filename,\r\n                    description,\r\n                    data: uint8Array.subarray(offset, length)\r\n                };\r\n                output = geob;\r\n                break;\r\n            }\r\n            // W-Frames:\r\n            case 'WCOM':\r\n            case 'WCOP':\r\n            case 'WOAF':\r\n            case 'WOAR':\r\n            case 'WOAS':\r\n            case 'WORS':\r\n            case 'WPAY':\r\n            case 'WPUB':\r\n                // Decode URL\r\n                fzero = util.findZero(uint8Array, offset + 1, length, encoding);\r\n                output = util.decodeString(uint8Array.subarray(offset, fzero), defaultEnc);\r\n                break;\r\n            case 'WXXX': {\r\n                // Decode URL\r\n                fzero = util.findZero(uint8Array, offset + 1, length, encoding);\r\n                const description = util.decodeString(uint8Array.subarray(offset + 1, fzero), encoding);\r\n                offset = fzero + (encoding === 'utf-16le' ? 2 : 1);\r\n                output = { description, url: util.decodeString(uint8Array.subarray(offset, length), defaultEnc) };\r\n                break;\r\n            }\r\n            case 'WFD':\r\n            case 'WFED':\r\n                output = util.decodeString(uint8Array.subarray(offset + 1, util.findZero(uint8Array, offset + 1, length, encoding)), encoding);\r\n                break;\r\n            case 'MCDI': {\r\n                // Music CD identifier\r\n                output = uint8Array.subarray(0, length);\r\n                break;\r\n            }\r\n            default:\r\n                debug(`Warning: unsupported id3v2-tag-type: ${type}`);\r\n                break;\r\n        }\r\n        return output;\r\n    }\r\n    static readNullTerminatedString(uint8Array, encoding) {\r\n        let offset = encoding.bom ? 2 : 0;\r\n        const zeroIndex = util.findZero(uint8Array, offset, uint8Array.length, encoding.encoding);\r\n        const txt = uint8Array.subarray(offset, zeroIndex);\r\n        if (encoding.encoding === 'utf-16le') {\r\n            offset = zeroIndex + 2;\r\n        }\r\n        else {\r\n            offset = zeroIndex + 1;\r\n        }\r\n        return {\r\n            text: util.decodeString(txt, encoding.encoding),\r\n            len: offset\r\n        };\r\n    }\r\n    static fixPictureMimeType(pictureType) {\r\n        pictureType = pictureType.toLocaleLowerCase();\r\n        switch (pictureType) {\r\n            case 'jpg':\r\n                return 'image/jpeg';\r\n            case 'png':\r\n                return 'image/png';\r\n        }\r\n        return pictureType;\r\n    }\r\n    /**\r\n     * Converts TMCL (Musician credits list) or TIPL (Involved people list)\r\n     * @param entries\r\n     */\r\n    static functionList(entries) {\r\n        const res = {};\r\n        for (let i = 0; i + 1 < entries.length; i += 2) {\r\n            const names = entries[i + 1].split(',');\r\n            res[entries[i]] = res[entries[i]] ? res[entries[i]].concat(names) : names;\r\n        }\r\n        return res;\r\n    }\r\n    /**\r\n     * id3v2.4 defines that multiple T* values are separated by 0x00\r\n     * id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\r\n     * @param tag - Tag name\r\n     * @param text - Concatenated tag value\r\n     * @returns Split tag value\r\n     */\r\n    splitValue(tag, text) {\r\n        let values;\r\n        if (this.major < 4) {\r\n            values = text.split(/\\x00/g);\r\n            if (values.length > 1) {\r\n                this.warningCollector.addWarning(`ID3v2.${this.major} ${tag} uses non standard null-separator.`);\r\n            }\r\n            else {\r\n                values = text.split(/\\//g);\r\n            }\r\n        }\r\n        else {\r\n            values = text.split(/\\x00/g);\r\n        }\r\n        return FrameParser.trimArray(values);\r\n    }\r\n    static trimArray(values) {\r\n        return values.map(value => value.replace(/\\x00+$/, '').trim());\r\n    }\r\n    static readIdentifierAndData(uint8Array, offset, length, encoding) {\r\n        const fzero = util.findZero(uint8Array, offset, length, encoding);\r\n        const id = util.decodeString(uint8Array.subarray(offset, fzero), encoding);\r\n        offset = fzero + FrameParser.getNullTerminatorLength(encoding);\r\n        return { id, data: uint8Array.subarray(offset, length) };\r\n    }\r\n    static getNullTerminatorLength(enc) {\r\n        return enc === 'utf-16le' ? 2 : 1;\r\n    }\r\n}\r\nexport class Id3v2ContentError extends makeUnexpectedFileContentError('id3v2') {\r\n}\r\nfunction makeUnexpectedMajorVersionError(majorVer) {\r\n    throw new Id3v2ContentError(`Unexpected majorVer: ${majorVer}`);\r\n}\r\n","import * as Token from 'token-types';\r\nimport * as util from '../common/Util.js';\r\nimport { FrameParser, Id3v2ContentError } from './FrameParser.js';\r\nimport { ExtendedHeader, ID3v2Header, UINT32SYNCSAFE } from './ID3v2Token.js';\r\nimport { textDecode } from '@borewit/text-codec';\r\nexport class ID3v2Parser {\r\n    constructor() {\r\n        this.tokenizer = undefined;\r\n        this.id3Header = undefined;\r\n        this.metadata = undefined;\r\n        this.headerType = undefined;\r\n        this.options = undefined;\r\n    }\r\n    static removeUnsyncBytes(buffer) {\r\n        let readI = 0;\r\n        let writeI = 0;\r\n        while (readI < buffer.length - 1) {\r\n            if (readI !== writeI) {\r\n                buffer[writeI] = buffer[readI];\r\n            }\r\n            readI += (buffer[readI] === 0xFF && buffer[readI + 1] === 0) ? 2 : 1;\r\n            writeI++;\r\n        }\r\n        if (readI < buffer.length) {\r\n            buffer[writeI++] = buffer[readI];\r\n        }\r\n        return buffer.subarray(0, writeI);\r\n    }\r\n    static getFrameHeaderLength(majorVer) {\r\n        switch (majorVer) {\r\n            case 2:\r\n                return 6;\r\n            case 3:\r\n            case 4:\r\n                return 10;\r\n            default:\r\n                throw makeUnexpectedMajorVersionError(majorVer);\r\n        }\r\n    }\r\n    static readFrameFlags(b) {\r\n        return {\r\n            status: {\r\n                tag_alter_preservation: util.getBit(b, 0, 6),\r\n                file_alter_preservation: util.getBit(b, 0, 5),\r\n                read_only: util.getBit(b, 0, 4)\r\n            },\r\n            format: {\r\n                grouping_identity: util.getBit(b, 1, 7),\r\n                compression: util.getBit(b, 1, 3),\r\n                encryption: util.getBit(b, 1, 2),\r\n                unsynchronisation: util.getBit(b, 1, 1),\r\n                data_length_indicator: util.getBit(b, 1, 0)\r\n            }\r\n        };\r\n    }\r\n    static readFrameData(uint8Array, frameHeader, majorVer, includeCovers, warningCollector) {\r\n        const frameParser = new FrameParser(majorVer, warningCollector);\r\n        switch (majorVer) {\r\n            case 2:\r\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\r\n            case 3:\r\n            case 4:\r\n                if (frameHeader.flags?.format.unsynchronisation) {\r\n                    uint8Array = ID3v2Parser.removeUnsyncBytes(uint8Array);\r\n                }\r\n                if (frameHeader.flags?.format.data_length_indicator) {\r\n                    uint8Array = uint8Array.subarray(4, uint8Array.length);\r\n                }\r\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\r\n            default:\r\n                throw makeUnexpectedMajorVersionError(majorVer);\r\n        }\r\n    }\r\n    /**\r\n     * Create a combined tag key, of tag & description\r\n     * @param tag e.g.: COM\r\n     * @param description e.g. iTunPGAP\r\n     * @returns string e.g. COM:iTunPGAP\r\n     */\r\n    static makeDescriptionTagName(tag, description) {\r\n        return tag + (description ? `:${description}` : '');\r\n    }\r\n    async parse(metadata, tokenizer, options) {\r\n        this.tokenizer = tokenizer;\r\n        this.metadata = metadata;\r\n        this.options = options;\r\n        const id3Header = await this.tokenizer.readToken(ID3v2Header);\r\n        if (id3Header.fileIdentifier !== 'ID3') {\r\n            throw new Id3v2ContentError('expected ID3-header file-identifier \\'ID3\\' was not found');\r\n        }\r\n        this.id3Header = id3Header;\r\n        this.headerType = (`ID3v2.${id3Header.version.major}`);\r\n        return id3Header.flags.isExtendedHeader ? this.parseExtendedHeader() : this.parseId3Data(id3Header.size);\r\n    }\r\n    async parseExtendedHeader() {\r\n        const extendedHeader = await this.tokenizer.readToken(ExtendedHeader);\r\n        const dataRemaining = extendedHeader.size - ExtendedHeader.len;\r\n        return dataRemaining > 0 ? this.parseExtendedHeaderData(dataRemaining, extendedHeader.size) : this.parseId3Data(this.id3Header.size - extendedHeader.size);\r\n    }\r\n    async parseExtendedHeaderData(dataRemaining, extendedHeaderSize) {\r\n        await this.tokenizer.ignore(dataRemaining);\r\n        return this.parseId3Data(this.id3Header.size - extendedHeaderSize);\r\n    }\r\n    async parseId3Data(dataLen) {\r\n        const uint8Array = await this.tokenizer.readToken(new Token.Uint8ArrayType(dataLen));\r\n        for (const tag of this.parseMetadata(uint8Array)) {\r\n            switch (tag.id) {\r\n                case 'TXXX':\r\n                    if (tag.value) {\r\n                        await this.handleTag(tag, tag.value.text, () => tag.value.description);\r\n                    }\r\n                    break;\r\n                default:\r\n                    await (Array.isArray(tag.value) ? Promise.all(tag.value.map(value => this.addTag(tag.id, value))) : this.addTag(tag.id, tag.value));\r\n            }\r\n        }\r\n    }\r\n    async handleTag(tag, values, descriptor, resolveValue = value => value) {\r\n        await Promise.all(values.map(value => this.addTag(ID3v2Parser.makeDescriptionTagName(tag.id, descriptor(value)), resolveValue(value))));\r\n    }\r\n    async addTag(id, value) {\r\n        await this.metadata.addTag(this.headerType, id, value);\r\n    }\r\n    parseMetadata(data) {\r\n        let offset = 0;\r\n        const tags = [];\r\n        while (true) {\r\n            if (offset === data.length)\r\n                break;\r\n            const frameHeaderLength = ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major);\r\n            if (offset + frameHeaderLength > data.length) {\r\n                this.metadata.addWarning('Illegal ID3v2 tag length');\r\n                break;\r\n            }\r\n            const frameHeaderBytes = data.subarray(offset, offset + frameHeaderLength);\r\n            offset += frameHeaderLength;\r\n            const frameHeader = this.readFrameHeader(frameHeaderBytes, this.id3Header.version.major);\r\n            const frameDataBytes = data.subarray(offset, offset + frameHeader.length);\r\n            offset += frameHeader.length;\r\n            const values = ID3v2Parser.readFrameData(frameDataBytes, frameHeader, this.id3Header.version.major, !this.options.skipCovers, this.metadata);\r\n            if (values) {\r\n                tags.push({ id: frameHeader.id, value: values });\r\n            }\r\n        }\r\n        return tags;\r\n    }\r\n    readFrameHeader(uint8Array, majorVer) {\r\n        let header;\r\n        switch (majorVer) {\r\n            case 2:\r\n                header = {\r\n                    id: textDecode(uint8Array.subarray(0, 3), 'ascii'),\r\n                    length: Token.UINT24_BE.get(uint8Array, 3)\r\n                };\r\n                if (!header.id.match(/[A-Z0-9]{3}/g)) {\r\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\r\n                }\r\n                break;\r\n            case 3:\r\n            case 4:\r\n                header = {\r\n                    id: textDecode(uint8Array.subarray(0, 4), 'ascii'),\r\n                    length: (majorVer === 4 ? UINT32SYNCSAFE : Token.UINT32_BE).get(uint8Array, 4),\r\n                    flags: ID3v2Parser.readFrameFlags(uint8Array.subarray(8, 10))\r\n                };\r\n                if (!header.id.match(/[A-Z0-9]{4}/g)) {\r\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\r\n                }\r\n                break;\r\n            default:\r\n                throw makeUnexpectedMajorVersionError(majorVer);\r\n        }\r\n        return header;\r\n    }\r\n}\r\nfunction makeUnexpectedMajorVersionError(majorVer) {\r\n    throw new Id3v2ContentError(`Unexpected majorVer: ${majorVer}`);\r\n}\r\n"],"names":["debug","initDebug","defaultEnc","parseGenre","origVal","genres","code","word","c","undefined","push","genre","parseGenreCode","length","match","Genres","Number","parseInt","FrameParser","constructor","major","warningCollector","this","readData","uint8Array","type","includeCovers","addWarning","encoding","bom","TextEncodingToken","get","offset","output","nullTerminatorLength","getNullTerminatorLength","fzero","text","util","subarray","replace","error","Error","message","functionList","splitValue","map","v","reduce","acc","val","concat","Array","isArray","idAndData","readIdentifierAndData","textTag","description","id","data","pic","format","makeUnexpectedMajorVersionError","fixPictureMimeType","AttachedPictureType","decodeUintBE","syltHeader","SyncTextHeader","len","result","descriptor","language","contentType","timeStampFormat","syncText","readSyllables","nullStr","readNullTerminatedString","timestamp","Token","textHeader","TextHeader","descriptorStr","textStr","comment","ufid","owner_identifier","identifier","priv","email","valueLen","rating","counter","mimeType","filename","geob","url","zeroIndex","txt","pictureType","toLocaleLowerCase","entries","res","i","names","split","tag","values","trimArray","value","trim","enc","Id3v2ContentError","makeUnexpectedFileContentError","majorVer","ID3v2Parser","tokenizer","id3Header","metadata","headerType","options","removeUnsyncBytes","buffer","readI","writeI","getFrameHeaderLength","readFrameFlags","b","status","tag_alter_preservation","file_alter_preservation","read_only","grouping_identity","compression","encryption","unsynchronisation","data_length_indicator","readFrameData","frameHeader","frameParser","flags","makeDescriptionTagName","parse","readToken","ID3v2Header","fileIdentifier","version","isExtendedHeader","parseExtendedHeader","parseId3Data","size","extendedHeader","ExtendedHeader","dataRemaining","parseExtendedHeaderData","extendedHeaderSize","ignore","dataLen","parseMetadata","handleTag","Promise","all","addTag","resolveValue","tags","frameHeaderLength","frameHeaderBytes","readFrameHeader","frameDataBytes","skipCovers","header","textDecode","UINT32SYNCSAFE"],"ignoreList":[],"sourceRoot":""}