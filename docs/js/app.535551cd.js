(function(){"use strict";var i={82:function(i,e,t){i.exports=t.p+"img/nwall.166e5457.jpg"},3469:function(i,e,t){var n=t(5130),s=t(2261),o=(t(8111),t(6768));const a={class:"webos"};function r(i,e,t,n,s,r){const d=(0,o.g2)("SimpleWindow"),l=(0,o.g2)("DesktopArea"),c=(0,o.g2)("TaskBar");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(l,null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.osStore.windows,i=>((0,o.uX)(),(0,o.Wv)(d,{key:i.id,windowId:i.id,title:i.title,appName:i.appName,contentApp:i.contentApp,isMinimized:i.isMinimized,isActive:s.osStore.activeWindowId===i.id,isMaximized:i.isMaximized,zIndex:i.zIndex,onClose:r.closeWindow,onMinimize:r.minimizeWindow,onToggleMaximize:r.toggleMaximizeWindow,onFocus:r.activateWindow},null,8,["windowId","title","appName","contentApp","isMinimized","isActive","isMaximized","zIndex","onClose","onMinimize","onToggleMaximize","onFocus"]))),128))]),_:1}),(0,o.bF)(c)])}var d=t(4232);const l={class:"desktop-icons"},c=["onDblclick"],h={class:"icon"},u={class:"label"};function p(i,e){return(0,o.uX)(),(0,o.CE)("div",{class:"desktop-area",onClick:e[0]||(e[0]=(...e)=>i.activateDesktop&&i.activateDesktop(...e)),style:(0,d.Tr)(i.desktopStyle)},[(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.apps,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.name,class:"desktop-icon",onDblclick:t=>i.launchApp(e)},[(0,o.Lk)("div",h,(0,d.v_)(e.icon),1),(0,o.Lk)("span",u,(0,d.v_)(e.label),1)],40,c))),128))]),(0,o.RG)(i.$slots,"default")],4)}t(2489),t(4114),t(116),t(7588);var m=t(144);const w=(0,s.nY)("os",()=>{const i=(0,m.KR)([]),e=(0,m.KR)(null);let t=100;const n=n=>{const s=i.value.find(i=>i.id===n);s&&(e.value=n,i.value.forEach(i=>{i.id===n&&(i.zIndex=t++)}))},s=e=>{const s=e.name,o=e.label,a=e.contentapp,r={...e,id:Date.now().toString(),appName:s,contentApp:a,title:o,zIndex:t++};return i.value.push(r),n(r.id),r.id},o=e=>{const t=i.value.findIndex(i=>i.id===e);-1!==t&&i.value.splice(t,1)},a=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!0)},r=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMinimized=!1,n(e))},d=e=>{const t=i.value.find(i=>i.id===e);t&&(t.isMaximized=!t.isMaximized,n(e))};return{windows:i,activeWindowId:e,openWindow:s,closeWindow:o,minimizeWindow:a,restoreWindow:r,toggleMaximizeWindow:d,activateWindow:n}});var z={name:"DesktopArea",data(){return{apps:[{name:"notepad",label:"–ë–ª–æ–∫–Ω–æ—Ç",icon:"üìù",contentapp:"Notepad"},{name:"explorer",label:"–ü—Ä–æ–≤–æ–¥–Ω–∏–∫",icon:"üìÅ",contentapp:"Explorer"},{name:"calculator",label:"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",icon:"üßÆ",contentapp:"Calculator"},{name:"settings",label:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏",icon:"‚öôÔ∏è",contentapp:"Settings"},{name:"osihelper",label:"OSI –ø–æ–º–æ—â–Ω–∏–∫",icon:"‚ÑπÔ∏è",contentapp:"OSIHelper",isMaximized:!0}]}},computed:{desktopStyle(){return{backgroundImage:`url(${this.getWallpaperUrl()})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},osStore(){return w()}},methods:{getWallpaperUrl(){return t(82)},activateDesktop(){this.osStore.activeWindowId=null},launchApp(i){const e=i.name,t=this.osStore.windows.filter(i=>i.appName===e&&!i.isMinimized);t.length>0?this.osStore.activateWindow(t[0].id):this.osStore.openWindow(i)}}},g=t(1241);const v=(0,g.A)(z,[["render",p]]);var f=v;const M={class:"task-bar"},k={class:"taskbar-apps"},x=["onClick"],S={class:"app-icon"},W={class:"app-title"},b={class:"system-tray"},y={class:"tray-time"};function I(i,e){return(0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("button",{class:"start-button",onClick:e[0]||(e[0]=(...e)=>i.toggleStartMenu&&i.toggleStartMenu(...e))},[...e[1]||(e[1]=[(0,o.Lk)("span",{class:"start-icon"},"üåÄ",-1),(0,o.Lk)("span",{class:"start-text"},"–ú–µ–Ω—é",-1)])]),(0,o.Lk)("div",k,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.osStore.windows,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,class:(0,d.C4)(["taskbar-app",{active:i.osStore.activeWindowId===e.id}]),onClick:t=>i.toggleWindow(e.id)},[(0,o.Lk)("span",S,(0,d.v_)(i.getAppIcon(e.appName)),1),(0,o.Lk)("span",W,(0,d.v_)(e.title),1)],10,x))),128))]),(0,o.Lk)("div",b,[(0,o.Lk)("div",y,(0,d.v_)(i.currentTime),1)])])}var X={name:"TaskBar",data(){return{currentTime:"",timer:null}},computed:{osStore(){return w()}},methods:{updateTime(){const i=new Date;this.currentTime=i.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},getAppIcon(i){const e={notepad:"üìù",explorer:"üìÅ",calculator:"üßÆ",settings:"‚öôÔ∏è",osihelper:"‚ÑπÔ∏è"};return e[i]||"üìÑ"},toggleWindow(i){const e=this.osStore.windows.find(e=>e.id===i);e&&(e.isMinimized?this.osStore.restoreWindow(i):this.osStore.activateWindow(i))},toggleStartMenu(){console.log("–ú–µ–Ω—é –ü—É—Å–∫")}},mounted(){this.updateTime(),this.timer=setInterval(this.updateTime,1e3)},beforeUnmount(){this.timer&&clearInterval(this.timer)}};const L=(0,g.A)(X,[["render",I]]);var C=L;const E={class:"window-title"},A={class:"window-controls"},D={class:"window-content"},O={key:0,class:"default-content"},R={key:1,class:"default-content"};function H(i,e){const t=(0,o.g2)("OSIHelper");return i.isMinimized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,d.C4)(["simple-window",{active:i.isActive,maximized:i.isMaximized}]),style:(0,d.Tr)(i.windowStyles),onMousedown:e[13]||(e[13]=(...e)=>i.activateWindow&&i.activateWindow(...e))},[(0,o.Lk)("div",{class:"window-header",onMousedown:e[3]||(e[3]=(...e)=>i.startDrag&&i.startDrag(...e)),onDblclick:e[4]||(e[4]=(...e)=>i.toggleMaximize&&i.toggleMaximize(...e))},[(0,o.Lk)("span",E,(0,d.v_)(i.title),1),(0,o.Lk)("div",A,[(0,o.Lk)("button",{class:"window-btn minimize",onClick:e[0]||(e[0]=(...e)=>i.minimize&&i.minimize(...e))},"_"),(0,o.Lk)("button",{class:"window-btn maximize",onClick:e[1]||(e[1]=(...e)=>i.toggleMaximize&&i.toggleMaximize(...e))},(0,d.v_)(i.isMaximized?"‚ùê":"‚ñ°"),1),(0,o.Lk)("button",{class:"window-btn close",onClick:e[2]||(e[2]=(...e)=>i.close&&i.close(...e))},"‚úï")])],32),(0,o.Lk)("div",D,[(0,o.RG)(i.$slots,"default",{},()=>[i.contentApp&&"OSIHelper"==i.contentApp?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.bF)(t)])):((0,o.uX)(),(0,o.CE)("div",R,[(0,o.Lk)("p",null,"–≠—Ç–æ –æ–∫–Ω–æ "+(0,d.v_)(i.isMaximized?"—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ":"–Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ"),1),(0,o.Lk)("p",null,"–†–∞–∑–º–µ—Ä: "+(0,d.v_)(i.windowWidth)+" √ó "+(0,d.v_)(i.windowHeight),1),e[14]||(e[14]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("p",null,"appName:: "+(0,d.v_)(i.appName),1),(0,o.Lk)("p",null,"isMinimized:: "+(0,d.v_)(i.isMinimized),1),(0,o.Lk)("p",null,"isMaximized:: "+(0,d.v_)(i.isMaximized),1),(0,o.Lk)("p",null,"contentApp:: "+(0,d.v_)(i.contentApp),1)]))])]),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"resize-handle resize-top",onMousedown:e[5]||(e[5]=e=>i.startResize("n"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"resize-handle resize-right",onMousedown:e[6]||(e[6]=e=>i.startResize("e"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"resize-handle resize-bottom",onMousedown:e[7]||(e[7]=e=>i.startResize("s"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:3,class:"resize-handle resize-left",onMousedown:e[8]||(e[8]=e=>i.startResize("w"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:4,class:"resize-handle resize-top-right",onMousedown:e[9]||(e[9]=e=>i.startResize("ne"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:5,class:"resize-handle resize-bottom-right",onMousedown:e[10]||(e[10]=e=>i.startResize("se"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:6,class:"resize-handle resize-bottom-left",onMousedown:e[11]||(e[11]=e=>i.startResize("sw"))},null,32)),i.isMaximized?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:7,class:"resize-handle resize-top-left",onMousedown:e[12]||(e[12]=e=>i.startResize("nw"))},null,32))],38))}const _={class:"app_osihelper"};function Y(i,e){return(0,o.uX)(),(0,o.CE)("div",_,[...e[0]||(e[0]=[(0,o.Lk)("div",{class:"pageheader"}," –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ OSI ",-1),(0,o.Lk)("div",{class:"pagecontent"},[(0,o.Lk)("dl",null,[(0,o.Lk)("dt",null,"OSI (operating system imitation):"),(0,o.Lk)("dd",null,'–¥–æ—Å–ª–æ–≤–Ω–æ: "–∏–º–∏—Ç–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã"')])],-1)])])}var T={name:"OSIHelper"};const $=(0,g.A)(T,[["render",Y]]);var N=$,B={name:"SimpleWindow",components:{OSIHelper:N},props:{windowId:String,title:{type:String,default:"–û–∫–Ω–æ"},appName:{type:String,default:"app"},contentApp:{type:String,default:"--"},isMinimized:{type:Boolean,default:!1},isMaximized:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},zIndex:{type:Number,default:100}},emits:["close","minimize","focus","toggleMaximize"],data(){return{posX:100,posY:100,windowWidth:400,windowHeight:300,isDragging:!1,isResizing:!1,dragOffset:{x:0,y:0},resizeDirection:"",resizeStart:{x:0,y:0,width:0,height:0,mouseX:0,mouseY:0}}},computed:{contentVal(){const i=this.contentApp;return!(!i||"OSIHelper"!=i)&&"<OSIHelper/>"},windowStyles(){const i={zIndex:this.zIndex};return this.isMaximized?{...i,left:"0",top:"0",width:"100vw",height:"100vh",borderRadius:"0"}:{...i,left:`${this.posX}px`,top:`${this.posY}px`,width:`${this.windowWidth}px`,height:`${this.windowHeight}px`}}},mounted(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},beforeUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},methods:{activateWindow(){this.$emit("focus",this.windowId)},startDrag(i){this.$emit("focus",this.windowId),this.isMaximized||(this.isDragging=!0,this.dragOffset={x:i.clientX-this.posX,y:i.clientY-this.posY},i.stopPropagation())},startResize(i){this.isMaximized||(this.$emit("focus",this.windowId),this.isResizing=!0,this.resizeDirection=i,this.resizeStart.x=this.posX,this.resizeStart.y=this.posY,this.resizeStart.width=this.windowWidth,this.resizeStart.height=this.windowHeight,this.resizeStart.mouseX=event.clientX,this.resizeStart.mouseY=event.clientY)},handleMouseMove(i){if(this.isDragging&&!this.isMaximized){let e=i.clientX-this.dragOffset.x,t=i.clientY-this.dragOffset.y;const n=window.innerWidth-this.windowWidth,s=window.innerHeight-this.windowHeight;this.posX=Math.max(0,Math.min(e,n)),this.posY=Math.max(0,Math.min(t,s))}else this.isResizing&&!this.isMaximized&&this.handleResize(i)},handleResize(i){const e=200,t=150,n=i.clientX-this.resizeStart.mouseX,s=i.clientY-this.resizeStart.mouseY;let o=this.resizeStart.x,a=this.resizeStart.y,r=this.resizeStart.width,d=this.resizeStart.height;this.resizeDirection.includes("e")&&(r=Math.max(e,this.resizeStart.width+n)),this.resizeDirection.includes("w")&&(r=Math.max(e,this.resizeStart.width-n),o=this.resizeStart.x+(this.resizeStart.width-r)),this.resizeDirection.includes("s")&&(d=Math.max(t,this.resizeStart.height+s)),this.resizeDirection.includes("n")&&(d=Math.max(t,this.resizeStart.height-s),a=this.resizeStart.y+(this.resizeStart.height-d)),this.posX=o,this.posY=a,this.windowWidth=r,this.windowHeight=d,this.keepWindowInBounds()},keepWindowInBounds(){const i=200,e=150,t=window.innerWidth,n=window.innerHeight;this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight),this.posX+this.windowWidth>t&&(this.windowWidth=t-this.posX),this.posY+this.windowHeight>n&&(this.windowHeight=n-this.posY),this.posX=Math.max(0,this.posX),this.posY=Math.max(0,this.posY),this.windowWidth=Math.max(i,this.windowWidth),this.windowHeight=Math.max(e,this.windowHeight)},handleMouseUp(){(this.isDragging||this.isResizing)&&this.keepWindowInBounds(),this.isDragging=!1,this.isResizing=!1},minimize(){this.$emit("minimize",this.windowId)},toggleMaximize(){this.$emit("toggleMaximize",this.windowId)},close(){this.$emit("close",this.windowId)}}};const F=(0,g.A)(B,[["render",H]]);var Q=F,U={name:"App",components:{DesktopArea:f,TaskBar:C,SimpleWindow:Q},data(){return{osStore:null}},methods:{closeWindow(i){this.osStore&&this.osStore.closeWindow(i)},minimizeWindow(i){this.osStore&&this.osStore.minimizeWindow(i)},toggleMaximizeWindow(i){this.osStore&&this.osStore.toggleMaximizeWindow(i)},activateWindow(i){this.osStore&&this.osStore.activateWindow(i)}},created(){this.osStore=w()},mounted(){setTimeout(()=>{this.osStore&&this.osStore.openWindow({name:"notepad",label:"–ë–ª–æ–∫–Ω–æ—Ç",icon:"üìù",contentapp:"Notepad"})},500)}};const j=(0,g.A)(U,[["render",r],["__scopeId","data-v-d5fc2940"]]);var K=j;const P=(0,n.Ef)(K),G=(0,s.Ey)();P.use(G),P.mount("#app")}},e={};function t(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return i[n].call(o.exports,o,o.exports,t),o.exports}t.m=i,function(){var i=[];t.O=function(e,n,s,o){if(!n){var a=1/0;for(c=0;c<i.length;c++){n=i[c][0],s=i[c][1],o=i[c][2];for(var r=!0,d=0;d<n.length;d++)(!1&o||a>=o)&&Object.keys(t.O).every(function(i){return t.O[i](n[d])})?n.splice(d--,1):(r=!1,o<a&&(a=o));if(r){i.splice(c--,1);var l=s();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=i.length;c>0&&i[c-1][2]>o;c--)i[c]=i[c-1];i[c]=[n,s,o]}}(),function(){t.n=function(i){var e=i&&i.__esModule?function(){return i["default"]}:function(){return i};return t.d(e,{a:e}),e}}(),function(){t.d=function(i,e){for(var n in e)t.o(e,n)&&!t.o(i,n)&&Object.defineProperty(i,n,{enumerable:!0,get:e[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)}}(),function(){t.p="/osi/"}(),function(){var i={524:0};t.O.j=function(e){return 0===i[e]};var e=function(e,n){var s,o,a=n[0],r=n[1],d=n[2],l=0;if(a.some(function(e){return 0!==i[e]})){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(d)var c=d(t)}for(e&&e(n);l<a.length;l++)o=a[l],t.o(i,o)&&i[o]&&i[o][0](),i[o]=0;return t.O(c)},n=self["webpackChunkosi"]=self["webpackChunkosi"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(3469)});n=t.O(n)})();
//# sourceMappingURL=app.535551cd.js.map