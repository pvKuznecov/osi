{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { useAppsStore } from '@/stores/apps.store';\nimport { mapStores } from 'pinia';\nexport default {\n  name: 'AppWiki',\n  props: {\n    windowId: {\n      type: String,\n      required: true\n    },\n    showControls: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    const defLink = 'https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0';\n\n    // В data() мы НЕ можем использовать this.appsStore\n    // Возвращаем только базовые данные\n    return {\n      currentUrl: defLink,\n      iframeSrc: defLink,\n      loading: true,\n      error: false,\n      history: [defLink],\n      currentHistoryIndex: 0\n    };\n  },\n  computed: {\n    // Подключаем store через mapStores\n    ...mapStores(useAppsStore),\n    canGoBack() {\n      return this.currentHistoryIndex > 0;\n    },\n    canGoForward() {\n      return this.currentHistoryIndex < this.history.length - 1;\n    }\n  },\n  watch: {\n    currentUrl(newUrl) {\n      console.log(\"URL changed to:\", newUrl);\n      this.saveState();\n    },\n    currentHistoryIndex() {\n      this.saveState();\n    },\n    history: {\n      handler() {\n        this.saveState();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    // Инициализация из store (вызывается в mounted)\n    initFromStore() {\n      if (!this.windowId) return;\n      const savedState = this.appsStore.getWindowState(this.windowId);\n      console.log('Loaded state from store:', savedState);\n      if (savedState) {\n        this.currentUrl = savedState.currentUrl || this.currentUrl;\n        this.iframeSrc = savedState.currentUrl || this.iframeSrc;\n        this.history = savedState.history || this.history;\n        this.currentHistoryIndex = savedState.currentHistoryIndex || this.currentHistoryIndex;\n      }\n    },\n    // Сохраняем текущее состояние в store\n    saveState() {\n      if (!this.windowId || !this.appsStore) return;\n      const state = {\n        appType: 'wiki',\n        currentUrl: this.currentUrl,\n        history: [...this.history],\n        currentHistoryIndex: this.currentHistoryIndex,\n        timestamp: Date.now()\n      };\n      this.appsStore.saveWindowState(this.windowId, state);\n    },\n    // Навигация по URL\n    navigate() {\n      let url = this.currentUrl.trim();\n\n      // Добавляем протокол если нужно\n      if (!url.startsWith('http://') && !url.startsWith('https://')) {\n        url = 'https://' + url;\n      }\n      try {\n        // Валидация URL\n        new URL(url);\n        this.iframeSrc = url;\n        this.loading = true;\n        this.error = false;\n\n        // Добавляем в историю\n        if (url !== this.history[this.currentHistoryIndex]) {\n          // Отрезаем будущее если мы не на конце истории\n          this.history = this.history.slice(0, this.currentHistoryIndex + 1);\n          this.history.push(url);\n          this.currentHistoryIndex = this.history.length - 1;\n        }\n      } catch (e) {\n        console.error('Invalid URL:', url);\n        this.error = true;\n        this.loading = false;\n      }\n    },\n    // Назад по истории\n    goBack() {\n      if (this.canGoBack) {\n        this.currentHistoryIndex--;\n        this.currentUrl = this.history[this.currentHistoryIndex];\n        this.iframeSrc = this.currentUrl;\n        this.loading = true;\n      }\n    },\n    // Вперёд по истории\n    goForward() {\n      if (this.canGoForward) {\n        this.currentHistoryIndex++;\n        this.currentUrl = this.history[this.currentHistoryIndex];\n        this.iframeSrc = this.currentUrl;\n        this.loading = true;\n      }\n    },\n    // Обновление страницы\n    reload() {\n      this.loading = true;\n      this.error = false;\n\n      // Форсируем перезагрузку iframe\n      const tempSrc = this.iframeSrc;\n      this.iframeSrc = '';\n\n      // Небольшая задержка для гарантии перезагрузки\n      setTimeout(() => {\n        this.iframeSrc = tempSrc;\n      }, 50);\n    },\n    // Загрузка завершена\n    onIframeLoad() {\n      console.log('Wiki iframe loaded successfully');\n      this.loading = false;\n      this.error = false;\n      this.safeGetTitle();\n    },\n    // Ошибка загрузки\n    onIframeError() {\n      console.error('Wiki iframe failed to load');\n      this.loading = false;\n      this.error = true;\n    },\n    // Безопасное получение заголовка\n    safeGetTitle() {\n      try {\n        const iframe = this.$refs.iframeRef;\n        if (iframe && iframe.contentDocument) {\n          const title = iframe.contentDocument.title;\n          if (title) {\n            console.log('Wiki page title:', title);\n            // Можно обновить заголовок окна, если нужно\n            this.$emit('title-change', title);\n          }\n        }\n      } catch (e) {\n        console.log('Cannot access iframe content due to CORS');\n      }\n    },\n    // Открыть в новой вкладке\n    openInNewTab() {\n      window.open(this.currentUrl, '_blank', 'noopener,noreferrer');\n    }\n  },\n  mounted() {\n    console.log('AppWiki mounted with windowId:', this.windowId);\n\n    // Инициализируем данные из store после монтирования\n    this.initFromStore();\n\n    // Сохраняем начальное состояние\n    this.saveState();\n  },\n  beforeUnmount() {\n    console.log('AppWiki unmounting, windowId:', this.windowId);\n    // Решите, нужно ли удалять состояние при закрытии окна\n    // this.appsStore.deleteWindowState(this.windowId);\n  }\n};","map":{"version":3,"names":["useAppsStore","mapStores","name","props","windowId","type","String","required","showControls","Boolean","default","data","defLink","currentUrl","iframeSrc","loading","error","history","currentHistoryIndex","computed","canGoBack","canGoForward","length","watch","newUrl","console","log","saveState","handler","deep","methods","initFromStore","savedState","appsStore","getWindowState","state","appType","timestamp","Date","now","saveWindowState","navigate","url","trim","startsWith","URL","slice","push","e","goBack","goForward","reload","tempSrc","setTimeout","onIframeLoad","safeGetTitle","onIframeError","iframe","$refs","iframeRef","contentDocument","title","$emit","openInNewTab","window","open","mounted","beforeUnmount"],"sources":["/home/kup/my_projects/vue/osi/src/apps/learn/AppWiki/AppWiki.vue"],"sourcesContent":["<template>\n    <div class=\"browser-app\">    \n        <!-- Панель управления браузером -->\n        <div class=\"browser-controls\" v-if=\"showControls\">\n            <div class=\"url-bar\">\n                <button @click=\"goBack\" :disabled=\"!canGoBack\" title=\"Назад\">←</button>\n                <button @click=\"goForward\" :disabled=\"!canGoForward\" title=\"Вперёд\">→</button>\n                <button @click=\"reload\" title=\"Обновить\">↻</button>\n                \n                <input \n                    v-model=\"currentUrl\" \n                    @keyup.enter=\"navigate\" \n                    class=\"url-input\" \n                    placeholder=\"Введите URL...\"\n                />\n                \n                <button @click=\"navigate\" class=\"go-btn\">Перейти</button>\n                <button @click=\"openInNewTab\" class=\"external-btn\" title=\"Открыть в новой вкладке\">↗</button>\n            </div>\n        </div>\n        \n        <div class=\"iframe-wrapper\">\n            <iframe \n                ref=\"iframeRef\" \n                :src=\"iframeSrc\" \n                @load=\"onIframeLoad\" \n                @error=\"onIframeError\" \n                sandbox=\"allow-scripts allow-same-origin allow-forms allow-popups\" \n                referrerpolicy=\"no-referrer\" \n            ></iframe>\n        </div>    \n        \n        <div v-if=\"loading\" class=\"loading-indicator\">\n            <div class=\"spinner\"></div>\n            <span>Загрузка...</span>\n        </div>\n        \n        <div v-if=\"error\" class=\"error-message\">\n            <p>⚠️ Не удалось загрузить страницу</p>\n            <button @click=\"reload\">Повторить</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { useAppsStore } from '@/stores/apps.store';\nimport { mapStores } from 'pinia';\n\nexport default {\n    name: 'AppWiki',\n\n    props: {\n        windowId: {\n            type: String,\n            required: true\n        },\n        showControls: {\n            type: Boolean,\n            default: true\n        }\n    },\n    \n    data() {\n        const defLink = 'https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0';\n\n        // В data() мы НЕ можем использовать this.appsStore\n        // Возвращаем только базовые данные\n        return {\n            currentUrl: defLink,\n            iframeSrc: defLink,\n            loading: true,\n            error: false,\n            history: [defLink],\n            currentHistoryIndex: 0\n        };\n    },\n    \n    computed: {\n        // Подключаем store через mapStores\n        ...mapStores(useAppsStore),\n        \n        canGoBack() {\n            return this.currentHistoryIndex > 0;\n        },\n        \n        canGoForward() {\n            return this.currentHistoryIndex < this.history.length - 1;\n        }\n    },\n\n    watch: {\n        currentUrl(newUrl) {\n            console.log(\"URL changed to:\", newUrl);\n            this.saveState();\n        },\n        currentHistoryIndex() {\n            this.saveState();\n        },\n        history: {\n            handler() {\n                this.saveState();\n            },\n            deep: true\n        }\n    },\n\n    methods: {\n        // Инициализация из store (вызывается в mounted)\n        initFromStore() {\n            if (!this.windowId) return;\n            \n            const savedState = this.appsStore.getWindowState(this.windowId);\n            console.log('Loaded state from store:', savedState);\n            \n            if (savedState) {\n                this.currentUrl = savedState.currentUrl || this.currentUrl;\n                this.iframeSrc = savedState.currentUrl || this.iframeSrc;\n                this.history = savedState.history || this.history;\n                this.currentHistoryIndex = savedState.currentHistoryIndex || this.currentHistoryIndex;\n            }\n        },\n\n        // Сохраняем текущее состояние в store\n        saveState() {\n            if (!this.windowId || !this.appsStore) return;\n            \n            const state = {\n                appType: 'wiki',\n                currentUrl: this.currentUrl,\n                history: [...this.history],\n                currentHistoryIndex: this.currentHistoryIndex,\n                timestamp: Date.now()\n            };\n            \n            this.appsStore.saveWindowState(this.windowId, state);\n        },\n\n        // Навигация по URL\n        navigate() {\n            let url = this.currentUrl.trim();\n            \n            // Добавляем протокол если нужно\n            if (!url.startsWith('http://') && !url.startsWith('https://')) {\n                url = 'https://' + url;\n            }\n            \n            try {\n                // Валидация URL\n                new URL(url);\n                this.iframeSrc = url;\n                this.loading = true;\n                this.error = false;\n                \n                // Добавляем в историю\n                if (url !== this.history[this.currentHistoryIndex]) {\n                    // Отрезаем будущее если мы не на конце истории\n                    this.history = this.history.slice(0, this.currentHistoryIndex + 1);\n                    this.history.push(url);\n                    this.currentHistoryIndex = this.history.length - 1;\n                }\n                \n            } catch (e) {\n                console.error('Invalid URL:', url);\n                this.error = true;\n                this.loading = false;\n            }\n        },\n        \n        // Назад по истории\n        goBack() {\n            if (this.canGoBack) {\n                this.currentHistoryIndex--;\n                this.currentUrl = this.history[this.currentHistoryIndex];\n                this.iframeSrc = this.currentUrl;\n                this.loading = true;\n            }\n        },\n        \n        // Вперёд по истории\n        goForward() {\n            if (this.canGoForward) {\n                this.currentHistoryIndex++;\n                this.currentUrl = this.history[this.currentHistoryIndex];\n                this.iframeSrc = this.currentUrl;\n                this.loading = true;\n            }\n        },\n\n        // Обновление страницы\n        reload() {\n            this.loading = true;\n            this.error = false;\n            \n            // Форсируем перезагрузку iframe\n            const tempSrc = this.iframeSrc;\n            this.iframeSrc = '';\n            \n            // Небольшая задержка для гарантии перезагрузки\n            setTimeout(() => {\n                this.iframeSrc = tempSrc;\n            }, 50);\n        },\n\n        // Загрузка завершена\n        onIframeLoad() {\n            console.log('Wiki iframe loaded successfully');\n            this.loading = false;\n            this.error = false;\n            this.safeGetTitle();\n        },\n\n        // Ошибка загрузки\n        onIframeError() {\n            console.error('Wiki iframe failed to load');\n            this.loading = false;\n            this.error = true;\n        },\n\n        // Безопасное получение заголовка\n        safeGetTitle() {\n            try {\n                const iframe = this.$refs.iframeRef;\n                if (iframe && iframe.contentDocument) {\n                    const title = iframe.contentDocument.title;\n                    if (title) {\n                        console.log('Wiki page title:', title);\n                        // Можно обновить заголовок окна, если нужно\n                        this.$emit('title-change', title);\n                    }\n                }\n            } catch (e) {\n                console.log('Cannot access iframe content due to CORS');\n            }\n        },\n        \n        // Открыть в новой вкладке\n        openInNewTab() {\n            window.open(this.currentUrl, '_blank', 'noopener,noreferrer');\n        }\n    },\n\n    mounted() {\n        console.log('AppWiki mounted with windowId:', this.windowId);\n        \n        // Инициализируем данные из store после монтирования\n        this.initFromStore();\n        \n        // Сохраняем начальное состояние\n        this.saveState();\n    },\n\n    beforeUnmount() {\n        console.log('AppWiki unmounting, windowId:', this.windowId);\n        // Решите, нужно ли удалять состояние при закрытии окна\n        // this.appsStore.deleteWindowState(this.windowId);\n    }\n};\n</script>\n\n<style scoped>\n/* Стили остаются без изменений */\n.browser-app {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    background: white;\n    position: relative;\n}\n\n.browser-controls {\n    background: #f8f9fa;\n    border-bottom: 1px solid #dee2e6;\n    padding: 10px;\n    flex-shrink: 0;\n}\n\n.url-bar {\n    display: flex;\n    gap: 8px;\n    align-items: center;\n}\n\n.url-bar button {\n    padding: 6px 12px;\n    border: 1px solid #ced4da;\n    background: white;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 14px;\n    min-width: 36px;\n    transition: all 0.2s;\n}\n\n.url-bar button:hover:not(:disabled) {\n    background: #e9ecef;\n}\n\n.url-bar button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n.url-input {\n    flex: 1;\n    padding: 8px 12px;\n    border: 1px solid #ced4da;\n    border-radius: 4px;\n    font-size: 14px;\n}\n\n.go-btn {\n    background: #007bff;\n    color: white;\n    border-color: #007bff;\n}\n\n.go-btn:hover {\n    background: #0056b3;\n}\n\n.external-btn {\n    background: #28a745;\n    color: white;\n    border-color: #28a745;\n}\n\n.external-btn:hover {\n    background: #1e7e34;\n}\n\n.iframe-wrapper {\n    flex: 1;\n    position: relative;\n    overflow: hidden;\n}\n\n.iframe-wrapper iframe {\n    width: 100%;\n    height: 100%;\n    border: none;\n    display: block;\n}\n\n.loading-indicator {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    border-radius: 8px;\n    box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n    z-index: 10;\n}\n\n.spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid #007bff;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n.error-message {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    text-align: center;\n    background: #f8d7da;\n    border: 1px solid #f5c6cb;\n    padding: 20px;\n    border-radius: 8px;\n    color: #721c24;\n    z-index: 10;\n}\n\n.error-message button {\n    margin-top: 10px;\n    padding: 8px 16px;\n    background: #dc3545;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}