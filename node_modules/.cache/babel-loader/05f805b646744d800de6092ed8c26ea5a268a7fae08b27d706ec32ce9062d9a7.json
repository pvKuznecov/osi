{"ast":null,"code":"import { WebStreamByobReader } from './WebStreamByobReader.js';\nimport { WebStreamDefaultReader } from './WebStreamDefaultReader.js';\nexport function makeWebStreamReader(stream) {\n  try {\n    const reader = stream.getReader({\n      mode: \"byob\"\n    });\n    if (reader instanceof ReadableStreamDefaultReader) {\n      // Fallback to default reader in case `mode: byob` is ignored\n      return new WebStreamDefaultReader(reader);\n    }\n    return new WebStreamByobReader(reader);\n  } catch (error) {\n    if (error instanceof TypeError) {\n      // Fallback to default reader in case `mode: byob` rejected by a `TypeError`\n      return new WebStreamDefaultReader(stream.getReader());\n    }\n    throw error;\n  }\n}","map":{"version":3,"names":["WebStreamByobReader","WebStreamDefaultReader","makeWebStreamReader","stream","reader","getReader","mode","ReadableStreamDefaultReader","error","TypeError"],"sources":["C:/projects/My projects/Vue/osi/node_modules/strtok3/lib/stream/WebStreamReaderFactory.js"],"sourcesContent":["import { WebStreamByobReader } from './WebStreamByobReader.js';\r\nimport { WebStreamDefaultReader } from './WebStreamDefaultReader.js';\r\nexport function makeWebStreamReader(stream) {\r\n    try {\r\n        const reader = stream.getReader({ mode: \"byob\" });\r\n        if (reader instanceof ReadableStreamDefaultReader) {\r\n            // Fallback to default reader in case `mode: byob` is ignored\r\n            return new WebStreamDefaultReader(reader);\r\n        }\r\n        return new WebStreamByobReader(reader);\r\n    }\r\n    catch (error) {\r\n        if (error instanceof TypeError) {\r\n            // Fallback to default reader in case `mode: byob` rejected by a `TypeError`\r\n            return new WebStreamDefaultReader(stream.getReader());\r\n        }\r\n        throw error;\r\n    }\r\n}\r\n"],"mappings":"AAAA,SAASA,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,sBAAsB,QAAQ,6BAA6B;AACpE,OAAO,SAASC,mBAAmBA,CAACC,MAAM,EAAE;EACxC,IAAI;IACA,MAAMC,MAAM,GAAGD,MAAM,CAACE,SAAS,CAAC;MAAEC,IAAI,EAAE;IAAO,CAAC,CAAC;IACjD,IAAIF,MAAM,YAAYG,2BAA2B,EAAE;MAC/C;MACA,OAAO,IAAIN,sBAAsB,CAACG,MAAM,CAAC;IAC7C;IACA,OAAO,IAAIJ,mBAAmB,CAACI,MAAM,CAAC;EAC1C,CAAC,CACD,OAAOI,KAAK,EAAE;IACV,IAAIA,KAAK,YAAYC,SAAS,EAAE;MAC5B;MACA,OAAO,IAAIR,sBAAsB,CAACE,MAAM,CAACE,SAAS,CAAC,CAAC,CAAC;IACzD;IACA,MAAMG,KAAK;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}