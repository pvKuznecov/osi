{"ast":null,"code":"import AutorizationArea from './components/os/AutorizationArea/AutorizationArea.vue';\nimport DesktopArea from './components/os/DesktopArea/DesktopArea.vue';\nimport TaskBar from './components/os/TaskBar/TaskBar.vue';\nimport SimpleWindow from './components/os/SimpleWindow/SimpleWindow.vue';\nimport { useOsStore } from './stores/os.store';\nimport { useAppsStore } from './stores/apps.store';\nimport { usersTable } from './idb/db';\nexport default {\n  name: 'App',\n  components: {\n    AutorizationArea,\n    DesktopArea,\n    TaskBar,\n    SimpleWindow\n  },\n  data() {\n    return {\n      isAutorized: false,\n      osStore: null,\n      appsStore: null,\n      USERID: null,\n      USER: {}\n      // useAppsStore: null\n    };\n  },\n  created() {\n    this.osStore = useOsStore();\n    this.appsStore = useAppsStore();\n    // this.useAppsStore = useAppsStore();\n  },\n  methods: {\n    closeWindow(windowId) {\n      console.log(\"closeWindow IT!\");\n      if (this.osStore) {\n        this.osStore.closeWindow(windowId);\n      }\n      if (this.appsStore) {\n        this.appsStore.deleteWindowState(windowId);\n      }\n    },\n    minimizeWindow(windowId) {\n      if (this.osStore) {\n        this.osStore.minimizeWindow(windowId);\n      }\n    },\n    toggleMaximizeWindow(windowId) {\n      if (this.osStore) {\n        this.osStore.toggleMaximizeWindow(windowId);\n      }\n    },\n    async activateWindow(windowId) {\n      if (this.osStore) {\n        console.log('|||aaaaaaaa');\n        let resSCU = await usersTable.addSConfig_newWindow(this.USERID, {\n          name: this.appName,\n          label: this.title,\n          icon: this.icon,\n          defWidth: this.windowWidth,\n          defHeight: this.windowHeight,\n          isMaximized: this.isMaximized,\n          isMinimized: this.isMinimized,\n          resizable: this.resizable,\n          canMinimize: this.canMinimize\n        });\n        console.log('resSCU', resSCU);\n        this.osStore.activateWindow(windowId);\n      }\n    },\n    selectUser(userId) {\n      console.log('userId', userId);\n      this.USERID = userId;\n      this.isAutorized = true;\n    }\n  }\n\n  // mounted() {\n  // }\n};","map":{"version":3,"names":["AutorizationArea","DesktopArea","TaskBar","SimpleWindow","useOsStore","useAppsStore","usersTable","name","components","data","isAutorized","osStore","appsStore","USERID","USER","created","methods","closeWindow","windowId","console","log","deleteWindowState","minimizeWindow","toggleMaximizeWindow","activateWindow","resSCU","addSConfig_newWindow","appName","label","title","icon","defWidth","windowWidth","defHeight","windowHeight","isMaximized","isMinimized","resizable","canMinimize","selectUser","userId"],"sources":["/home/kup/my_projects/vue/osi/src/App.vue"],"sourcesContent":["<template>\n    <AutorizationArea v-if=\"!isAutorized\" @selectUser=\"selectUser\" />\n    <div v-if=\"isAutorized\" class=\"webos\">\n        <DesktopArea :USERID=\"USERID\">\n            <SimpleWindow v-for=\"window in osStore.windows\"\n                :key=\"window.id\"\n                :windowId=\"window.id\"\n                :title=\"window.title\"\n                :appName=\"window.appName\"\n        \n                :contentApp=\"window.contentApp\"\n                :icon=\"window.icon\"\n                :iconclass=\"window.iconclass\"\n                :defWidth=\"window.defWidth\"\n                :defHeight=\"window.defHeight\"\n                :isMinimized=\"window.isMinimized\"\n                :isActive=\"osStore.activeWindowId === window.id\"\n                :isMaximized=\"window.isMaximized\"\n                :zIndex=\"window.zIndex\"\n                :resizable=\"window.resizable\"\n                :canMinimize=\"window.canMinimize\"\n\n                :USERID=\"USERID\"\n                \n                @close=\"closeWindow\"\n                @minimize=\"minimizeWindow\"\n                @toggleMaximize=\"toggleMaximizeWindow\"\n                @focus=\"activateWindow\"                \n            />\n        </DesktopArea>\n        <TaskBar :USERID=\"USERID\" />\n    </div>\n</template>\n<!-- <style scoped>\n    .webos { display: flex; flex-direction: column; height: 100vh; overflow: hidden; }\n</style> -->\n<style src=\"./styles/global.css\"></style>\n<script>\n    import AutorizationArea from './components/os/AutorizationArea/AutorizationArea.vue';\n    import DesktopArea from './components/os/DesktopArea/DesktopArea.vue';\n    import TaskBar from './components/os/TaskBar/TaskBar.vue';\n    import SimpleWindow from './components/os/SimpleWindow/SimpleWindow.vue';\n    import { useOsStore } from './stores/os.store';\n    import { useAppsStore } from './stores/apps.store';\n    import { usersTable } from './idb/db';\n\n    export default {\n        name: 'App',\n  \n        components: {\n            AutorizationArea,\n            DesktopArea,\n            TaskBar,\n            SimpleWindow\n        },\n  \n        data() {\n            return {\n                isAutorized: false,\n                osStore: null,\n                appsStore: null,\n                USERID: null,\n                USER: {},\n                // useAppsStore: null\n            }\n        },\n\n        created() {\n            this.osStore = useOsStore();\n            this.appsStore = useAppsStore();\n            // this.useAppsStore = useAppsStore();\n        },\n  \n        methods: {\n            closeWindow(windowId) {\n                console.log(\"closeWindow IT!\");\n                if (this.osStore) {\n                    this.osStore.closeWindow(windowId);\n                }\n\n                if (this.appsStore) {\n                    this.appsStore.deleteWindowState(windowId);\n                }\n            },\n    \n            minimizeWindow(windowId) {\n                if (this.osStore) {\n                    this.osStore.minimizeWindow(windowId);\n                }\n            },\n    \n            toggleMaximizeWindow(windowId) {\n                if (this.osStore) {\n                    this.osStore.toggleMaximizeWindow(windowId);\n                }\n            },\n    \n            async activateWindow(windowId) {\n                if (this.osStore) {\n                    console.log('|||aaaaaaaa');\n                    let resSCU = await usersTable.addSConfig_newWindow(\n                        this.USERID,\n                        {\n                            name: this.appName,\n                            label: this.title,\n                            icon: this.icon,\n                            defWidth: this.windowWidth,\n                            defHeight: this.windowHeight,\n                            isMaximized: this.isMaximized,\n                            isMinimized: this.isMinimized,\n                            resizable: this.resizable,\n                            canMinimize: this.canMinimize,\n                        }\n                    );\n                    console.log('resSCU', resSCU);\n\n                    this.osStore.activateWindow(windowId);\n                }\n            },\n\n            selectUser(userId) {\n                console.log('userId', userId);\n                this.USERID = userId;\n                this.isAutorized = true;\n            }\n        },\n  \n        // mounted() {\n        // }\n    }\n</script>"],"mappings":"AAsCI,OAAOA,gBAAe,MAAO,uDAAuD;AACpF,OAAOC,WAAU,MAAO,6CAA6C;AACrE,OAAOC,OAAM,MAAO,qCAAqC;AACzD,OAAOC,YAAW,MAAO,+CAA+C;AACxE,SAASC,UAAS,QAAS,mBAAmB;AAC9C,SAASC,YAAW,QAAS,qBAAqB;AAClD,SAASC,UAAS,QAAS,UAAU;AAErC,eAAe;EACXC,IAAI,EAAE,KAAK;EAEXC,UAAU,EAAE;IACRR,gBAAgB;IAChBC,WAAW;IACXC,OAAO;IACPC;EACJ,CAAC;EAEDM,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,WAAW,EAAE,KAAK;MAClBC,OAAO,EAAE,IAAI;MACbC,SAAS,EAAE,IAAI;MACfC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,CAAC;MACP;IACJ;EACJ,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACJ,OAAM,GAAIP,UAAU,CAAC,CAAC;IAC3B,IAAI,CAACQ,SAAQ,GAAIP,YAAY,CAAC,CAAC;IAC/B;EACJ,CAAC;EAEDW,OAAO,EAAE;IACLC,WAAWA,CAACC,QAAQ,EAAE;MAClBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;MAC9B,IAAI,IAAI,CAACT,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACM,WAAW,CAACC,QAAQ,CAAC;MACtC;MAEA,IAAI,IAAI,CAACN,SAAS,EAAE;QAChB,IAAI,CAACA,SAAS,CAACS,iBAAiB,CAACH,QAAQ,CAAC;MAC9C;IACJ,CAAC;IAEDI,cAAcA,CAACJ,QAAQ,EAAE;MACrB,IAAI,IAAI,CAACP,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACW,cAAc,CAACJ,QAAQ,CAAC;MACzC;IACJ,CAAC;IAEDK,oBAAoBA,CAACL,QAAQ,EAAE;MAC3B,IAAI,IAAI,CAACP,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACY,oBAAoB,CAACL,QAAQ,CAAC;MAC/C;IACJ,CAAC;IAED,MAAMM,cAAcA,CAACN,QAAQ,EAAE;MAC3B,IAAI,IAAI,CAACP,OAAO,EAAE;QACdQ,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;QAC1B,IAAIK,MAAK,GAAI,MAAMnB,UAAU,CAACoB,oBAAoB,CAC9C,IAAI,CAACb,MAAM,EACX;UACIN,IAAI,EAAE,IAAI,CAACoB,OAAO;UAClBC,KAAK,EAAE,IAAI,CAACC,KAAK;UACjBC,IAAI,EAAE,IAAI,CAACA,IAAI;UACfC,QAAQ,EAAE,IAAI,CAACC,WAAW;UAC1BC,SAAS,EAAE,IAAI,CAACC,YAAY;UAC5BC,WAAW,EAAE,IAAI,CAACA,WAAW;UAC7BC,WAAW,EAAE,IAAI,CAACA,WAAW;UAC7BC,SAAS,EAAE,IAAI,CAACA,SAAS;UACzBC,WAAW,EAAE,IAAI,CAACA;QACtB,CACJ,CAAC;QACDnB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEK,MAAM,CAAC;QAE7B,IAAI,CAACd,OAAO,CAACa,cAAc,CAACN,QAAQ,CAAC;MACzC;IACJ,CAAC;IAEDqB,UAAUA,CAACC,MAAM,EAAE;MACfrB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEoB,MAAM,CAAC;MAC7B,IAAI,CAAC3B,MAAK,GAAI2B,MAAM;MACpB,IAAI,CAAC9B,WAAU,GAAI,IAAI;IAC3B;EACJ;;EAEA;EACA;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}