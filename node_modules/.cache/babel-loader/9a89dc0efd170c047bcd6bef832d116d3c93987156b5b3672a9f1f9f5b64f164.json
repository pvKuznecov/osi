{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useAppsStore } from '@/stores/apps.store'; //store хранилище pinia для состояний app приложений \nimport { mapStores } from 'pinia';\nexport default {\n  name: 'CalculatorApp',\n  props: {\n    windowId: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      expression: '',\n      result: '0',\n      history: [],\n      lastResult: null\n    };\n  },\n  computed: {\n    ...mapStores(useAppsStore),\n    // Подключаем store через mapStores\n\n    reversedHistory() {\n      return [...this.history].reverse().slice(0, 5); // Последние 5 операций\n    }\n  },\n  watch: {\n    // отслеживаем изменение истории и записываем ее состояние в store pinia\n    history: {\n      handler() {\n        this.saveState();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    // Инициализация из store (вызывается в mounted)\n    initFromStore() {\n      if (!this.windowId) return;\n      const savedState = this.appsStore.getWindowState(this.windowId);\n      if (savedState) {\n        this.expression = savedState.expression || '';\n        this.result = savedState.result || '0';\n        this.history = savedState.history || this.history;\n        this.lastResult = savedState.lastResult || null;\n      }\n    },\n    // Сохраняем текущее состояние в store pinia\n    saveState() {\n      if (!this.windowId || !this.appsStore) return;\n      const state = {\n        appType: 'calculator',\n        expression: this.expression,\n        result: this.result,\n        lastResult: this.lastResult,\n        history: [...this.history],\n        timestamp: Date.now()\n      };\n      this.appsStore.saveWindowState(this.windowId, state);\n    },\n    // Добавление цифры\n    appendNumber(number) {\n      // Если есть результат и пользователь начинает новое выражение\n      if (this.lastResult !== null && !this.expression.includes('+') && !this.expression.includes('-') && !this.expression.includes('×') && !this.expression.includes('÷')) {\n        this.expression = '';\n        this.lastResult = null;\n      }\n      this.expression += number;\n      this.calculate();\n    },\n    // Добавление операции\n    appendOperation(operation) {\n      if (!this.expression) {\n        // Если выражение пустое, используем последний результат\n        if (this.lastResult !== null) {\n          this.expression = this.lastResult + operation;\n        } else {\n          return;\n        }\n      } else {\n        // Проверяем, не является ли последний символ операцией\n        const lastChar = this.expression.slice(-1);\n        if (['+', '-', '×', '÷'].includes(lastChar)) {\n          // Заменяем последнюю операцию\n          this.expression = this.expression.slice(0, -1) + operation;\n        } else {\n          this.expression += operation;\n        }\n      }\n      this.lastResult = null;\n    },\n    // Добавление десятичной точки\n    appendDecimal() {\n      if (!this.expression || ['+', '-', '×', '÷'].includes(this.expression.slice(-1))) {\n        this.expression += '0.';\n      } else if (!this.expression.split(/[+\\-×÷]/).pop().includes('.')) {\n        this.expression += '.';\n      }\n    },\n    // Вычисление результата\n    calculate() {\n      if (!this.expression) {\n        this.result = '0';\n        return;\n      }\n      try {\n        // Заменяем символы для вычисления\n        let expr = this.expression.replace(/×/g, '*').replace(/÷/g, '/');\n\n        // Вычисляем выражение\n        let calcResult = eval(expr);\n\n        // Ограничиваем количество знаков после запятой\n        if (calcResult % 1 !== 0) {\n          calcResult = parseFloat(calcResult.toFixed(10));\n        }\n        this.result = calcResult;\n      } catch (error) {\n        this.result = 'Ошибка';\n      }\n    },\n    // Выполнить вычисление и добавить в историю\n    calculateAndAddHistory() {\n      if (!this.expression) return;\n      const oldExpression = this.expression;\n      this.calculate();\n      if (this.result !== 'Ошибка') {\n        this.addToHistory(oldExpression, this.result);\n        this.lastResult = this.result;\n        this.expression = '';\n      }\n    },\n    // Добавить в историю\n    addToHistory(expression, result) {\n      this.history.push({\n        expression: expression || this.expression,\n        result: result || this.result,\n        timestamp: new Date().toLocaleTimeString()\n      });\n    },\n    // Очистить все\n    clearAll() {\n      this.expression = '';\n      this.result = '0';\n      this.lastResult = null;\n    },\n    // Очистить последнюю запись\n    clearEntry() {\n      this.expression = '';\n      this.calculate();\n    },\n    // Удалить последний символ\n    backspace() {\n      if (this.expression) {\n        this.expression = this.expression.slice(0, -1);\n        this.calculate();\n      }\n    },\n    // Очистить историю\n    clearHistory() {\n      this.history = [];\n    },\n    // Использовать результат из истории\n    useHistoryItem(item) {\n      this.expression = item.expression;\n      this.result = item.result;\n      this.lastResult = item.result;\n    },\n    // Обработка нажатия клавиш\n    handleKeyPress(event) {\n      const key = event.key;\n\n      // Цифры 0-9\n      if (/[0-9]/.test(key)) {\n        this.appendNumber(key);\n        event.preventDefault();\n      }\n      // Операции\n      else if (key === '+') {\n        this.appendOperation('+');\n        event.preventDefault();\n      } else if (key === '-') {\n        this.appendOperation('-');\n        event.preventDefault();\n      } else if (key === '*') {\n        this.appendOperation('×');\n        event.preventDefault();\n      } else if (key === '/') {\n        this.appendOperation('÷');\n        event.preventDefault();\n      }\n      // Десятичная точка\n      else if (key === '.' || key === ',') {\n        this.appendDecimal();\n        event.preventDefault();\n      }\n      // Enter или = для вычисления\n      else if (key === 'Enter' || key === '=') {\n        this.calculateAndAddHistory();\n        event.preventDefault();\n      }\n      // Escape для очистки\n      else if (key === 'Escape') {\n        this.clearAll();\n        event.preventDefault();\n      }\n      // Backspace для удаления\n      else if (key === 'Backspace') {\n        this.backspace();\n        event.preventDefault();\n      }\n    }\n  },\n  mounted() {\n    console.log('AppWiki mounted with windowId:', this.windowId);\n\n    // Добавляем поддержку клавиатуры\n    window.addEventListener('keydown', this.handleKeyPress);\n\n    // Инициализируем данные из store после монтирования\n    this.initFromStore();\n\n    // // Сохраняем начальное состояние\n    // this.saveState();\n  },\n  beforeUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n\n    // this.appsStore.deleteWindowState(this.windowId);\n  }\n};","map":{"version":3,"names":["useAppsStore","mapStores","name","props","windowId","type","String","required","data","expression","result","history","lastResult","computed","reversedHistory","reverse","slice","watch","handler","saveState","deep","methods","initFromStore","savedState","appsStore","getWindowState","state","appType","timestamp","Date","now","saveWindowState","appendNumber","number","includes","calculate","appendOperation","operation","lastChar","appendDecimal","split","pop","expr","replace","calcResult","eval","parseFloat","toFixed","error","calculateAndAddHistory","oldExpression","addToHistory","push","toLocaleTimeString","clearAll","clearEntry","backspace","clearHistory","useHistoryItem","item","handleKeyPress","event","key","test","preventDefault","mounted","console","log","window","addEventListener","beforeUnmount","removeEventListener"],"sources":["/home/kup/my_projects/vue/osi/src/apps/system/OSICalculator/OSICalculator.vue"],"sourcesContent":["<template src=\"./template.html\"></template>\n<style src=\"./style.css\"></style>\n<script>\n    import { useAppsStore } from '@/stores/apps.store'; //store хранилище pinia для состояний app приложений \n    import { mapStores } from 'pinia';\n\n    export default {\n        name: 'CalculatorApp',\n\n        props: {\n            windowId: {\n                type: String,\n                required: true\n            },\n        },\n  \n        data() {\n            return {\n                expression: '',\n                result: '0',\n                history: [],\n                lastResult: null\n            }\n        },\n  \n        computed: {\n            ...mapStores(useAppsStore), // Подключаем store через mapStores\n\n            reversedHistory() {\n                return [...this.history].reverse().slice(0, 5); // Последние 5 операций\n            }\n        },\n  \n        watch: {\n            // отслеживаем изменение истории и записываем ее состояние в store pinia\n            history: {\n                handler() { this.saveState(); },\n                deep: true\n            }\n        },\n\n        methods: {\n            // Инициализация из store (вызывается в mounted)\n            initFromStore() {\n                if (!this.windowId) return;\n            \n                const savedState = this.appsStore.getWindowState(this.windowId);\n            \n                if (savedState) {\n                    this.expression = savedState.expression || '';\n                    this.result = savedState.result || '0';\n                    this.history = savedState.history || this.history;\n                    this.lastResult = savedState.lastResult || null;\n                }\n            },\n\n            // Сохраняем текущее состояние в store pinia\n            saveState() {\n                if (!this.windowId || !this.appsStore) return;\n                \n                const state = {\n                    appType: 'calculator',\n                    \n                    expression: this.expression,\n                    result: this.result,\n                    lastResult: this.lastResult,\n\n                    history: [...this.history],\n                    timestamp: Date.now(),\n                };\n                \n                this.appsStore.saveWindowState(this.windowId, state);\n            },\n\n            // Добавление цифры\n            appendNumber(number) {\n                // Если есть результат и пользователь начинает новое выражение\n                if (this.lastResult !== null && !this.expression.includes('+') && \n                    !this.expression.includes('-') && !this.expression.includes('×') && \n                    !this.expression.includes('÷'))\n                {\n                    this.expression = '';\n                    this.lastResult = null;\n                }\n      \n                this.expression += number;\n                this.calculate();\n            },\n    \n            // Добавление операции\n            appendOperation(operation) {\n                if (!this.expression) {\n                    // Если выражение пустое, используем последний результат\n                    if (this.lastResult !== null) {\n                        this.expression = this.lastResult + operation;\n                    } else {\n                        return;\n                    }\n                } else {\n                    // Проверяем, не является ли последний символ операцией\n                    const lastChar = this.expression.slice(-1);\n                    if (['+', '-', '×', '÷'].includes(lastChar)) {\n                        // Заменяем последнюю операцию\n                        this.expression = this.expression.slice(0, -1) + operation;\n                    } else {\n                        this.expression += operation;\n                    }\n                }\n      \n                this.lastResult = null;\n            },\n    \n            // Добавление десятичной точки\n            appendDecimal() {\n                if (!this.expression || ['+', '-', '×', '÷'].includes(this.expression.slice(-1))) {\n                    this.expression += '0.';\n                } else if (!this.expression.split(/[+\\-×÷]/).pop().includes('.')) {\n                    this.expression += '.';\n                }\n            },\n    \n            // Вычисление результата\n            calculate() {\n                if (!this.expression) {\n                    this.result = '0';\n                    return;\n                }\n      \n                try {\n                    // Заменяем символы для вычисления\n                    let expr = this.expression.replace(/×/g, '*').replace(/÷/g, '/');\n        \n                    // Вычисляем выражение\n                    let calcResult = eval(expr);\n        \n                    // Ограничиваем количество знаков после запятой\n                    if (calcResult % 1 !== 0) {\n                        calcResult = parseFloat(calcResult.toFixed(10));\n                    }\n        \n                    this.result = calcResult;\n                } catch (error) {\n                    this.result = 'Ошибка';\n                }\n            },\n    \n    // Выполнить вычисление и добавить в историю\n    calculateAndAddHistory() {\n      if (!this.expression) return;\n      \n      const oldExpression = this.expression;\n      this.calculate();\n      \n      if (this.result !== 'Ошибка') {\n        this.addToHistory(oldExpression, this.result);\n        this.lastResult = this.result;\n        this.expression = '';\n      }\n    },\n    \n    // Добавить в историю\n    addToHistory(expression, result) {\n      this.history.push({\n        expression: expression || this.expression,\n        result: result || this.result,\n        timestamp: new Date().toLocaleTimeString()\n      });\n    },\n    \n    // Очистить все\n    clearAll() {\n      this.expression = '';\n      this.result = '0';\n      this.lastResult = null;\n    },\n    \n    // Очистить последнюю запись\n    clearEntry() {\n      this.expression = '';\n      this.calculate();\n    },\n    \n    // Удалить последний символ\n    backspace() {\n      if (this.expression) {\n        this.expression = this.expression.slice(0, -1);\n        this.calculate();\n      }\n    },\n    \n    // Очистить историю\n    clearHistory() {\n      this.history = [];\n    },\n    \n    // Использовать результат из истории\n    useHistoryItem(item) {\n      this.expression = item.expression;\n      this.result = item.result;\n      this.lastResult = item.result;\n    },\n    \n    // Обработка нажатия клавиш\n    handleKeyPress(event) {\n      const key = event.key;\n      \n      // Цифры 0-9\n      if (/[0-9]/.test(key)) {\n        this.appendNumber(key);\n        event.preventDefault();\n      }\n      // Операции\n      else if (key === '+') {\n        this.appendOperation('+');\n        event.preventDefault();\n      }\n      else if (key === '-') {\n        this.appendOperation('-');\n        event.preventDefault();\n      }\n      else if (key === '*') {\n        this.appendOperation('×');\n        event.preventDefault();\n      }\n      else if (key === '/') {\n        this.appendOperation('÷');\n        event.preventDefault();\n      }\n      // Десятичная точка\n      else if (key === '.' || key === ',') {\n        this.appendDecimal();\n        event.preventDefault();\n      }\n      // Enter или = для вычисления\n      else if (key === 'Enter' || key === '=') {\n        this.calculateAndAddHistory();\n        event.preventDefault();\n      }\n      // Escape для очистки\n      else if (key === 'Escape') {\n        this.clearAll();\n        event.preventDefault();\n      }\n      // Backspace для удаления\n      else if (key === 'Backspace') {\n        this.backspace();\n        event.preventDefault();\n      }\n    }\n  },\n  \n  mounted() {\n        console.log('AppWiki mounted with windowId:', this.windowId);\n    \n        // Добавляем поддержку клавиатуры\n        window.addEventListener('keydown', this.handleKeyPress);\n\n        // Инициализируем данные из store после монтирования\n        this.initFromStore();\n        \n        // // Сохраняем начальное состояние\n        // this.saveState();\n    },\n  \n  beforeUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n\n    // this.appsStore.deleteWindowState(this.windowId);\n  }\n}\n</script>\n\n"],"mappings":";AAGI,SAASA,YAAW,QAAS,qBAAqB,EAAE;AACpD,SAASC,SAAQ,QAAS,OAAO;AAEjC,eAAe;EACXC,IAAI,EAAE,eAAe;EAErBC,KAAK,EAAE;IACHC,QAAQ,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACd;EACJ,CAAC;EAEDC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,UAAU,EAAE,EAAE;MACdC,MAAM,EAAE,GAAG;MACXC,OAAO,EAAE,EAAE;MACXC,UAAU,EAAE;IAChB;EACJ,CAAC;EAEDC,QAAQ,EAAE;IACN,GAAGZ,SAAS,CAACD,YAAY,CAAC;IAAE;;IAE5Bc,eAAeA,CAAA,EAAG;MACd,OAAO,CAAC,GAAG,IAAI,CAACH,OAAO,CAAC,CAACI,OAAO,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IACpD;EACJ,CAAC;EAEDC,KAAK,EAAE;IACH;IACAN,OAAO,EAAE;MACLO,OAAOA,CAAA,EAAG;QAAE,IAAI,CAACC,SAAS,CAAC,CAAC;MAAE,CAAC;MAC/BC,IAAI,EAAE;IACV;EACJ,CAAC;EAEDC,OAAO,EAAE;IACL;IACAC,aAAaA,CAAA,EAAG;MACZ,IAAI,CAAC,IAAI,CAAClB,QAAQ,EAAE;MAEpB,MAAMmB,UAAS,GAAI,IAAI,CAACC,SAAS,CAACC,cAAc,CAAC,IAAI,CAACrB,QAAQ,CAAC;MAE/D,IAAImB,UAAU,EAAE;QACZ,IAAI,CAACd,UAAS,GAAIc,UAAU,CAACd,UAAS,IAAK,EAAE;QAC7C,IAAI,CAACC,MAAK,GAAIa,UAAU,CAACb,MAAK,IAAK,GAAG;QACtC,IAAI,CAACC,OAAM,GAAIY,UAAU,CAACZ,OAAM,IAAK,IAAI,CAACA,OAAO;QACjD,IAAI,CAACC,UAAS,GAAIW,UAAU,CAACX,UAAS,IAAK,IAAI;MACnD;IACJ,CAAC;IAED;IACAO,SAASA,CAAA,EAAG;MACR,IAAI,CAAC,IAAI,CAACf,QAAO,IAAK,CAAC,IAAI,CAACoB,SAAS,EAAE;MAEvC,MAAME,KAAI,GAAI;QACVC,OAAO,EAAE,YAAY;QAErBlB,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BC,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBE,UAAU,EAAE,IAAI,CAACA,UAAU;QAE3BD,OAAO,EAAE,CAAC,GAAG,IAAI,CAACA,OAAO,CAAC;QAC1BiB,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC;MACxB,CAAC;MAED,IAAI,CAACN,SAAS,CAACO,eAAe,CAAC,IAAI,CAAC3B,QAAQ,EAAEsB,KAAK,CAAC;IACxD,CAAC;IAED;IACAM,YAAYA,CAACC,MAAM,EAAE;MACjB;MACA,IAAI,IAAI,CAACrB,UAAS,KAAM,IAAG,IAAK,CAAC,IAAI,CAACH,UAAU,CAACyB,QAAQ,CAAC,GAAG,KACzD,CAAC,IAAI,CAACzB,UAAU,CAACyB,QAAQ,CAAC,GAAG,KAAK,CAAC,IAAI,CAACzB,UAAU,CAACyB,QAAQ,CAAC,GAAG,KAC/D,CAAC,IAAI,CAACzB,UAAU,CAACyB,QAAQ,CAAC,GAAG,CAAC,EAClC;QACI,IAAI,CAACzB,UAAS,GAAI,EAAE;QACpB,IAAI,CAACG,UAAS,GAAI,IAAI;MAC1B;MAEA,IAAI,CAACH,UAAS,IAAKwB,MAAM;MACzB,IAAI,CAACE,SAAS,CAAC,CAAC;IACpB,CAAC;IAED;IACAC,eAAeA,CAACC,SAAS,EAAE;MACvB,IAAI,CAAC,IAAI,CAAC5B,UAAU,EAAE;QAClB;QACA,IAAI,IAAI,CAACG,UAAS,KAAM,IAAI,EAAE;UAC1B,IAAI,CAACH,UAAS,GAAI,IAAI,CAACG,UAAS,GAAIyB,SAAS;QACjD,OAAO;UACH;QACJ;MACJ,OAAO;QACH;QACA,MAAMC,QAAO,GAAI,IAAI,CAAC7B,UAAU,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACkB,QAAQ,CAACI,QAAQ,CAAC,EAAE;UACzC;UACA,IAAI,CAAC7B,UAAS,GAAI,IAAI,CAACA,UAAU,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,IAAIqB,SAAS;QAC9D,OAAO;UACH,IAAI,CAAC5B,UAAS,IAAK4B,SAAS;QAChC;MACJ;MAEA,IAAI,CAACzB,UAAS,GAAI,IAAI;IAC1B,CAAC;IAED;IACA2B,aAAaA,CAAA,EAAG;MACZ,IAAI,CAAC,IAAI,CAAC9B,UAAS,IAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACyB,QAAQ,CAAC,IAAI,CAACzB,UAAU,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAC9E,IAAI,CAACP,UAAS,IAAK,IAAI;MAC3B,OAAO,IAAI,CAAC,IAAI,CAACA,UAAU,CAAC+B,KAAK,CAAC,SAAS,CAAC,CAACC,GAAG,CAAC,CAAC,CAACP,QAAQ,CAAC,GAAG,CAAC,EAAE;QAC9D,IAAI,CAACzB,UAAS,IAAK,GAAG;MAC1B;IACJ,CAAC;IAED;IACA0B,SAASA,CAAA,EAAG;MACR,IAAI,CAAC,IAAI,CAAC1B,UAAU,EAAE;QAClB,IAAI,CAACC,MAAK,GAAI,GAAG;QACjB;MACJ;MAEA,IAAI;QACA;QACA,IAAIgC,IAAG,GAAI,IAAI,CAACjC,UAAU,CAACkC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;;QAEhE;QACA,IAAIC,UAAS,GAAIC,IAAI,CAACH,IAAI,CAAC;;QAE3B;QACA,IAAIE,UAAS,GAAI,MAAM,CAAC,EAAE;UACtBA,UAAS,GAAIE,UAAU,CAACF,UAAU,CAACG,OAAO,CAAC,EAAE,CAAC,CAAC;QACnD;QAEA,IAAI,CAACrC,MAAK,GAAIkC,UAAU;MAC5B,EAAE,OAAOI,KAAK,EAAE;QACZ,IAAI,CAACtC,MAAK,GAAI,QAAQ;MAC1B;IACJ,CAAC;IAET;IACAuC,sBAAsBA,CAAA,EAAG;MACvB,IAAI,CAAC,IAAI,CAACxC,UAAU,EAAE;MAEtB,MAAMyC,aAAY,GAAI,IAAI,CAACzC,UAAU;MACrC,IAAI,CAAC0B,SAAS,CAAC,CAAC;MAEhB,IAAI,IAAI,CAACzB,MAAK,KAAM,QAAQ,EAAE;QAC5B,IAAI,CAACyC,YAAY,CAACD,aAAa,EAAE,IAAI,CAACxC,MAAM,CAAC;QAC7C,IAAI,CAACE,UAAS,GAAI,IAAI,CAACF,MAAM;QAC7B,IAAI,CAACD,UAAS,GAAI,EAAE;MACtB;IACF,CAAC;IAED;IACA0C,YAAYA,CAAC1C,UAAU,EAAEC,MAAM,EAAE;MAC/B,IAAI,CAACC,OAAO,CAACyC,IAAI,CAAC;QAChB3C,UAAU,EAAEA,UAAS,IAAK,IAAI,CAACA,UAAU;QACzCC,MAAM,EAAEA,MAAK,IAAK,IAAI,CAACA,MAAM;QAC7BkB,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACwB,kBAAkB,CAAC;MAC3C,CAAC,CAAC;IACJ,CAAC;IAED;IACAC,QAAQA,CAAA,EAAG;MACT,IAAI,CAAC7C,UAAS,GAAI,EAAE;MACpB,IAAI,CAACC,MAAK,GAAI,GAAG;MACjB,IAAI,CAACE,UAAS,GAAI,IAAI;IACxB,CAAC;IAED;IACA2C,UAAUA,CAAA,EAAG;MACX,IAAI,CAAC9C,UAAS,GAAI,EAAE;MACpB,IAAI,CAAC0B,SAAS,CAAC,CAAC;IAClB,CAAC;IAED;IACAqB,SAASA,CAAA,EAAG;MACV,IAAI,IAAI,CAAC/C,UAAU,EAAE;QACnB,IAAI,CAACA,UAAS,GAAI,IAAI,CAACA,UAAU,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9C,IAAI,CAACmB,SAAS,CAAC,CAAC;MAClB;IACF,CAAC;IAED;IACAsB,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC9C,OAAM,GAAI,EAAE;IACnB,CAAC;IAED;IACA+C,cAAcA,CAACC,IAAI,EAAE;MACnB,IAAI,CAAClD,UAAS,GAAIkD,IAAI,CAAClD,UAAU;MACjC,IAAI,CAACC,MAAK,GAAIiD,IAAI,CAACjD,MAAM;MACzB,IAAI,CAACE,UAAS,GAAI+C,IAAI,CAACjD,MAAM;IAC/B,CAAC;IAED;IACAkD,cAAcA,CAACC,KAAK,EAAE;MACpB,MAAMC,GAAE,GAAID,KAAK,CAACC,GAAG;;MAErB;MACA,IAAI,OAAO,CAACC,IAAI,CAACD,GAAG,CAAC,EAAE;QACrB,IAAI,CAAC9B,YAAY,CAAC8B,GAAG,CAAC;QACtBD,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB;MACA;MAAA,KACK,IAAIF,GAAE,KAAM,GAAG,EAAE;QACpB,IAAI,CAAC1B,eAAe,CAAC,GAAG,CAAC;QACzByB,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB,OACK,IAAIF,GAAE,KAAM,GAAG,EAAE;QACpB,IAAI,CAAC1B,eAAe,CAAC,GAAG,CAAC;QACzByB,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB,OACK,IAAIF,GAAE,KAAM,GAAG,EAAE;QACpB,IAAI,CAAC1B,eAAe,CAAC,GAAG,CAAC;QACzByB,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB,OACK,IAAIF,GAAE,KAAM,GAAG,EAAE;QACpB,IAAI,CAAC1B,eAAe,CAAC,GAAG,CAAC;QACzByB,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB;MACA;MAAA,KACK,IAAIF,GAAE,KAAM,GAAE,IAAKA,GAAE,KAAM,GAAG,EAAE;QACnC,IAAI,CAACvB,aAAa,CAAC,CAAC;QACpBsB,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB;MACA;MAAA,KACK,IAAIF,GAAE,KAAM,OAAM,IAAKA,GAAE,KAAM,GAAG,EAAE;QACvC,IAAI,CAACb,sBAAsB,CAAC,CAAC;QAC7BY,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB;MACA;MAAA,KACK,IAAIF,GAAE,KAAM,QAAQ,EAAE;QACzB,IAAI,CAACR,QAAQ,CAAC,CAAC;QACfO,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB;MACA;MAAA,KACK,IAAIF,GAAE,KAAM,WAAW,EAAE;QAC5B,IAAI,CAACN,SAAS,CAAC,CAAC;QAChBK,KAAK,CAACG,cAAc,CAAC,CAAC;MACxB;IACF;EACF,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACJC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAE,IAAI,CAAC/D,QAAQ,CAAC;;IAE5D;IACAgE,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACT,cAAc,CAAC;;IAEvD;IACA,IAAI,CAACtC,aAAa,CAAC,CAAC;;IAEpB;IACA;EACJ,CAAC;EAEHgD,aAAaA,CAAA,EAAG;IACdF,MAAM,CAACG,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACX,cAAc,CAAC;;IAE1D;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}