{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { useOsStore } from '@/stores/os.store';\nimport { appsConfig } from '@/config/applications';\nexport default {\n  name: \"TaskBar\",\n  data() {\n    return {\n      currentTime: '',\n      timer: null,\n      showMenu: false\n    };\n  },\n  computed: {\n    osStore() {\n      return useOsStore();\n    },\n    appsList() {\n      const SMApps = appsConfig.getStartMenuApps();\n      console.log(\"SMApps\", SMApps);\n      return SMApps.sort((n1, n2) => n1.label.toLowerCase() >= n2.label.toLowerCase() ? 1 : -1);\n    }\n  },\n  methods: {\n    updateTime() {\n      const now = new Date();\n      this.currentTime = now.toLocaleTimeString('ru-RU', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    toggleWindow(windowId) {\n      const window = this.osStore.windows.find(w => w.id === windowId);\n      if (window) {\n        console.log('window', window);\n        if (window.isMinimized) {\n          this.osStore.restoreWindow(windowId);\n        } else {\n          this.osStore.activateWindow(windowId);\n        }\n      }\n    },\n    toggleStartMenu() {\n      this.showMenu = !this.showMenu;\n    }\n  },\n  mounted() {\n    this.updateTime();\n    this.timer = setInterval(this.updateTime, 1000);\n  },\n  beforeUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n};","map":{"version":3,"names":["useOsStore","appsConfig","name","data","currentTime","timer","showMenu","computed","osStore","appsList","SMApps","getStartMenuApps","console","log","sort","n1","n2","label","toLowerCase","methods","updateTime","now","Date","toLocaleTimeString","hour","minute","toggleWindow","windowId","window","windows","find","w","id","isMinimized","restoreWindow","activateWindow","toggleStartMenu","mounted","setInterval","beforeUnmount","clearInterval"],"sources":["/home/kup/my_projects/vue/osi/src/components/os/TaskBar/TaskBar.vue"],"sourcesContent":["<template src=\"./template.html\"></template>\n<style src=\"./style.css\"></style>\n<script>\n    import { useOsStore } from '@/stores/os.store';\n    import { appsConfig } from '@/config/applications';\n\n    export default {\n        name: \"TaskBar\",\n  \n        data() {\n            return {\n                currentTime: '',\n                timer: null,\n                showMenu: false,\n            };\n        },\n  \n        computed: {\n            osStore() {\n                return useOsStore();\n            },\n\n            appsList() {\n                const SMApps = appsConfig.getStartMenuApps();\n                console.log(\"SMApps\", SMApps);\n                return SMApps.sort((n1, n2) => (n1.label.toLowerCase() >= n2.label.toLowerCase()) ? 1 : -1);\n            }\n        },\n  \n        methods: {\n            updateTime() {\n                const now = new Date();\n                this.currentTime = now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'});\n            },\n    \n            toggleWindow(windowId) {\n                const window = this.osStore.windows.find(w => w.id === windowId);\n                \n                if (window) {\n                    console.log('window', window);\n                    if (window.isMinimized) {\n                        this.osStore.restoreWindow(windowId);\n                    } else {\n                        this.osStore.activateWindow(windowId);\n                    }\n                }\n            },\n    \n            toggleStartMenu() {\n                this.showMenu = !this.showMenu;\n            }\n        },\n  \n        mounted() {\n            this.updateTime();\n            this.timer = setInterval(this.updateTime, 1000);\n        },\n  \n        beforeUnmount() {\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n        }\n    }\n</script>"],"mappings":";;AAGI,SAASA,UAAS,QAAS,mBAAmB;AAC9C,SAASC,UAAS,QAAS,uBAAuB;AAElD,eAAe;EACXC,IAAI,EAAE,SAAS;EAEfC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE,IAAI;MACXC,QAAQ,EAAE;IACd,CAAC;EACL,CAAC;EAEDC,QAAQ,EAAE;IACNC,OAAOA,CAAA,EAAG;MACN,OAAOR,UAAU,CAAC,CAAC;IACvB,CAAC;IAEDS,QAAQA,CAAA,EAAG;MACP,MAAMC,MAAK,GAAIT,UAAU,CAACU,gBAAgB,CAAC,CAAC;MAC5CC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEH,MAAM,CAAC;MAC7B,OAAOA,MAAM,CAACI,IAAI,CAAC,CAACC,EAAE,EAAEC,EAAE,KAAMD,EAAE,CAACE,KAAK,CAACC,WAAW,CAAC,KAAKF,EAAE,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,GAAI,IAAI,CAAC,CAAC,CAAC;IAC/F;EACJ,CAAC;EAEDC,OAAO,EAAE;IACLC,UAAUA,CAAA,EAAG;MACT,MAAMC,GAAE,GAAI,IAAIC,IAAI,CAAC,CAAC;MACtB,IAAI,CAAClB,WAAU,GAAIiB,GAAG,CAACE,kBAAkB,CAAC,OAAO,EAAE;QAACC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAS,CAAC,CAAC;IAC5F,CAAC;IAEDC,YAAYA,CAACC,QAAQ,EAAE;MACnB,MAAMC,MAAK,GAAI,IAAI,CAACpB,OAAO,CAACqB,OAAO,CAACC,IAAI,CAACC,CAAA,IAAKA,CAAC,CAACC,EAAC,KAAML,QAAQ,CAAC;MAEhE,IAAIC,MAAM,EAAE;QACRhB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEe,MAAM,CAAC;QAC7B,IAAIA,MAAM,CAACK,WAAW,EAAE;UACpB,IAAI,CAACzB,OAAO,CAAC0B,aAAa,CAACP,QAAQ,CAAC;QACxC,OAAO;UACH,IAAI,CAACnB,OAAO,CAAC2B,cAAc,CAACR,QAAQ,CAAC;QACzC;MACJ;IACJ,CAAC;IAEDS,eAAeA,CAAA,EAAG;MACd,IAAI,CAAC9B,QAAO,GAAI,CAAC,IAAI,CAACA,QAAQ;IAClC;EACJ,CAAC;EAED+B,OAAOA,CAAA,EAAG;IACN,IAAI,CAACjB,UAAU,CAAC,CAAC;IACjB,IAAI,CAACf,KAAI,GAAIiC,WAAW,CAAC,IAAI,CAAClB,UAAU,EAAE,IAAI,CAAC;EACnD,CAAC;EAEDmB,aAAaA,CAAA,EAAG;IACZ,IAAI,IAAI,CAAClC,KAAK,EAAE;MACZmC,aAAa,CAAC,IAAI,CAACnC,KAAK,CAAC;IAC7B;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}