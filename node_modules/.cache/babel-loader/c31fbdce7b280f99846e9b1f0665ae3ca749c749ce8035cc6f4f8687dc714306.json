{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"window-header\"\n};\nconst _hoisted_2 = {\n  class: \"window-title\"\n};\nconst _hoisted_3 = {\n  class: \"window-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"simple-window\",\n    style: _normalizeStyle($setup.windowStyle),\n    onMousedown: $setup.focusWindow\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"span\", _hoisted_2, _toDisplayString($props.title), 1 /* TEXT */), _createElementVNode(\"div\", {\n    class: \"window-controls\"\n  }, [_createElementVNode(\"button\", {\n    class: \"window-btn minimize\",\n    onClick: $setup.minimize\n  }, \"_\"), _createElementVNode(\"button\", {\n    class: \"window-btn maximize\",\n    onClick: $setup.maximize\n  }, \"□\"), _createElementVNode(\"button\", {\n    class: \"window-btn close\",\n    onClick: $setup.close\n  }, \"✕\")])]), _createElementVNode(\"div\", _hoisted_3, [_renderSlot(_ctx.$slots, \"default\", {}, () => [_createElementVNode(\"p\", null, \"Содержимое приложения \" + _toDisplayString($props.appName), 1 /* TEXT */), _cache[0] || (_cache[0] = _createElementVNode(\"p\", null, \"Это простое окно, которое можно перемещать\", -1 /* CACHED */))], true)])], 36 /* STYLE, NEED_HYDRATION */);\n}","map":{"version":3,"names":["class","_createElementBlock","style","_normalizeStyle","$setup","windowStyle","onMousedown","focusWindow","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","$props","title","onClick","minimize","maximize","close","_hoisted_3","_renderSlot","_ctx","$slots","appName"],"sources":["/home/kup/my_projects/vue/osi/src/components/os/SimpleWindow.vue"],"sourcesContent":["<template>\n  <div \n    class=\"simple-window\"\n    :style=\"windowStyle\"\n    @mousedown=\"focusWindow\"\n  >\n    <div class=\"window-header\">\n      <span class=\"window-title\">{{ title }}</span>\n      <div class=\"window-controls\">\n        <button class=\"window-btn minimize\" @click=\"minimize\">_</button>\n        <button class=\"window-btn maximize\" @click=\"maximize\">□</button>\n        <button class=\"window-btn close\" @click=\"close\">✕</button>\n      </div>\n    </div>\n    <div class=\"window-content\">\n      <slot>\n        <p>Содержимое приложения {{ appName }}</p>\n        <p>Это простое окно, которое можно перемещать</p>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue'\n\nconst props = defineProps({\n  windowId: String,\n  title: {\n    type: String,\n    default: 'Окно'\n  },\n  appName: {\n    type: String,\n    default: 'app'\n  }\n})\n\nconst emit = defineEmits(['close', 'minimize', 'focus'])\n\n// Позиция окна\nconst posX = ref(100)\nconst posY = ref(100)\nconst isDragging = ref(false)\nconst dragOffset = ref({ x: 0, y: 0 })\n\n// Стиль окна\nconst windowStyle = computed(() => ({\n  left: `${posX.value}px`,\n  top: `${posY.value}px`\n}))\n\n// Фокус на окно\nconst focusWindow = (e) => {\n  emit('focus', props.windowId)\n  \n  // Начинаем перетаскивание, если кликнули на заголовок\n  if (e.target.closest('.window-header')) {\n    startDrag(e)\n  }\n}\n\n// Начало перетаскивания\nconst startDrag = (e) => {\n  isDragging.value = true\n  dragOffset.value = {\n    x: e.clientX - posX.value,\n    y: e.clientY - posY.value\n  }\n  \n  document.addEventListener('mousemove', onDrag)\n  document.addEventListener('mouseup', stopDrag)\n}\n\n// Перетаскивание\nconst onDrag = (e) => {\n  if (!isDragging.value) return\n  \n  posX.value = e.clientX - dragOffset.value.x\n  posY.value = e.clientY - dragOffset.value.y\n  \n  // Ограничиваем перемещение в пределах экрана\n  const maxX = window.innerWidth - 300\n  const maxY = window.innerHeight - 200\n  \n  posX.value = Math.max(0, Math.min(posX.value, maxX))\n  posY.value = Math.max(0, Math.min(posY.value, maxY))\n}\n\n// Остановка перетаскивания\nconst stopDrag = () => {\n  isDragging.value = false\n  document.removeEventListener('mousemove', onDrag)\n  document.removeEventListener('mouseup', stopDrag)\n}\n\n// Действия с окном\nconst minimize = () => {\n  emit('minimize', props.windowId)\n}\n\nconst maximize = () => {\n  console.log('Максимизировать окно', props.windowId)\n}\n\nconst close = () => {\n  emit('close', props.windowId)\n}\n</script>\n\n<style scoped>\n.simple-window {\n  position: absolute;\n  width: 400px;\n  height: 300px;\n  background: white;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  display: flex;\n  flex-direction: column;\n  z-index: 100;\n}\n\n.window-header {\n  background: linear-gradient(to bottom, #f0f0f0, #e0e0e0);\n  padding: 8px 12px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #ccc;\n  cursor: move;\n  user-select: none;\n}\n\n.window-title {\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.window-controls {\n  display: flex;\n  gap: 4px;\n}\n\n.window-btn {\n  width: 24px;\n  height: 24px;\n  border: 1px solid #aaa;\n  background: #f9f9f9;\n  border-radius: 3px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  transition: all 0.2s;\n}\n\n.window-btn:hover {\n  background: #e9e9e9;\n}\n\n.window-btn.close:hover {\n  background: #e81123;\n  color: white;\n  border-color: #e81123;\n}\n\n.window-content {\n  flex: 1;\n  padding: 16px;\n  overflow: auto;\n  background: white;\n}\n</style>"],"mappings":";;EAMSA,KAAK,EAAC;AAAe;;EAClBA,KAAK,EAAC;AAAc;;EAOvBA,KAAK,EAAC;AAAgB;;uBAb7BC,mBAAA,CAmBM;IAlBJD,KAAK,EAAC,eAAe;IACpBE,KAAK,EAAAC,eAAA,CAAEC,MAAA,CAAAC,WAAW;IAClBC,WAAS,EAAEF,MAAA,CAAAG;MAEZC,mBAAA,CAOM,OAPNC,UAOM,GANJD,mBAAA,CAA6C,QAA7CE,UAA6C,EAAAC,gBAAA,CAAfC,MAAA,CAAAC,KAAK,kBACnCL,mBAAA,CAIM;IAJDR,KAAK,EAAC;EAAiB,IAC1BQ,mBAAA,CAAgE;IAAxDR,KAAK,EAAC,qBAAqB;IAAEc,OAAK,EAAEV,MAAA,CAAAW;KAAU,GAAC,GACvDP,mBAAA,CAAgE;IAAxDR,KAAK,EAAC,qBAAqB;IAAEc,OAAK,EAAEV,MAAA,CAAAY;KAAU,GAAC,GACvDR,mBAAA,CAA0D;IAAlDR,KAAK,EAAC,kBAAkB;IAAEc,OAAK,EAAEV,MAAA,CAAAa;KAAO,GAAC,E,KAGrDT,mBAAA,CAKM,OALNU,UAKM,GAJJC,WAAA,CAGOC,IAAA,CAAAC,MAAA,iBAHP,MAGO,CAFLb,mBAAA,CAA0C,WAAvC,wBAAsB,GAAAG,gBAAA,CAAGC,MAAA,CAAAU,OAAO,kB,0BACnCd,mBAAA,CAAiD,WAA9C,4CAA0C,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}