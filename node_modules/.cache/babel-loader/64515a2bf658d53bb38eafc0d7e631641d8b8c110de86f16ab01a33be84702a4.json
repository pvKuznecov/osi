{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { usersTable } from '@/idb/db';\nimport { IDBWindows, activeWindowId } from '@/idb/db'; // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ activeWindowId –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω\nimport { JSH } from '@/core/helpers';\nimport { useOsStore } from '@/stores/os.store';\nimport { appsConfig } from '@/config/applications';\nexport default {\n  name: \"TaskBar\",\n  props: {\n    USERID: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      currentTime: '',\n      currentDate: '',\n      timer: null,\n      showMenu: false,\n      USERApps: [],\n      USER: null,\n      GLangData: {}\n    };\n  },\n  async mounted() {\n    console.log('TaskBar mounted with USERID:', this.USERID);\n    await this.reloadBar();\n  },\n  created() {\n    this.usersTable = usersTable;\n  },\n  computed: {\n    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –æ–∫–Ω–∞ –∏–∑ IDBWindows\n    windowsList() {\n      return IDBWindows?.value || [];\n    },\n    // –ê–∫—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ - —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ undefined\n    currentActiveWindowId() {\n      return activeWindowId?.value || null;\n    },\n    appManager_data() {\n      let resObj = {};\n      for (let i = 0; i < this.appsList.length; i++) {\n        if (this.appsList[i].id == 'osiappmanager') {\n          resObj = this.appsList[i];\n          break;\n        }\n      }\n      return resObj;\n    },\n    osStore() {\n      return useOsStore();\n    },\n    appsList() {\n      const SMApps = appsConfig.getStartMenuApps();\n      return SMApps.sort((n1, n2) => n1.label.toLowerCase() >= n2.label.toLowerCase() ? 1 : -1);\n    },\n    sortByType_appsList() {\n      const resultObj = {};\n      const apps = this.USERApps.filter(val => val && val.showInStartMenu);\n      apps.forEach(element => {\n        const category = element.category;\n        if (!resultObj[category]) {\n          resultObj[category] = [];\n        }\n        resultObj[category].push(element);\n      });\n\n      // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–∞–∂–¥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      Object.keys(resultObj).forEach(key => {\n        resultObj[key].sort((a, b) => (a.label || '').localeCompare(b.label || ''));\n      });\n      return resultObj;\n    }\n  },\n  methods: {\n    async reloadBar() {\n      const GlobalLangPack = JSH.lang;\n      const userLang = navigator.language || navigator.userLanguage;\n      const userLangS = userLang.split('-')[0];\n      this.UserLang = userLangS;\n      this.GLangData = userLangS && GlobalLangPack && GlobalLangPack[userLangS] ? GlobalLangPack[userLangS] : GlobalLangPack.en;\n      await this.findUser();\n      const defAppsList = appsConfig.getAllApps();\n      const findUserApps = await usersTable.getApps(this.USERID);\n      this.apps = defAppsList;\n      this.USERApps = findUserApps && Array.isArray(findUserApps) ? findUserApps : defAppsList;\n      this.updateTime();\n      if (this.timer) clearInterval(this.timer);\n      this.timer = setInterval(this.updateTime, 1000);\n    },\n    async findUser() {\n      try {\n        this.USER = await usersTable.getbyId(this.USERID);\n      } catch (error) {\n        console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\n      }\n    },\n    getAvatarUrl(avatarName) {\n      return `url(${require('@/assets/avatars/' + avatarName)})`;\n    },\n    avatarStyle(avatarName) {\n      return {\n        backgroundImage: this.getAvatarUrl(avatarName),\n        backgroundSize: 'cover',\n        backgroundPosition: 'center'\n      };\n    },\n    updateTime() {\n      const now = new Date();\n      this.currentDate = now.toLocaleDateString();\n      this.currentTime = now.toLocaleTimeString('ru-RU', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    // –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–∞ –ø–æ –æ–∫–Ω—É –≤ —Ç–∞—Å–∫–±–∞—Ä–µ\n    async toggleWindow(windowId) {\n      if (!this.USERID || !usersTable) {\n        console.error('USERID or usersTable missing');\n        return;\n      }\n      try {\n        // –ü–æ–ª—É—á–∞–µ–º –æ–∫–Ω–æ –∏–∑ IDBWindows\n        const window = this.windowsList.find(w => w.id === windowId);\n        if (!window) {\n          console.error('Window not found:', windowId);\n          return;\n        }\n        if (window.isMinimized) {\n          // –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ restore –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, –∏–Ω–∞—á–µ activate\n          if (usersTable.windows.restore) {\n            await usersTable.windows.restore(this.USERID, window.id);\n          } else {\n            // activate —Ç–æ–∂–µ —Å–Ω–∏–º–∞–µ—Ç —Å–≤–µ—Ä–Ω—É—Ç–æ—Å—Ç—å –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç zIndex\n            await usersTable.windows.activate(this.USERID, window.id);\n          }\n        } else {\n          // –ï—Å–ª–∏ –æ–∫–Ω–æ –Ω–µ —Å–≤–µ—Ä–Ω—É—Ç–æ - –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ (–ø–æ–¥–Ω–∏–º–∞–µ–º zIndex)\n          await usersTable.windows.activate(this.USERID, window.id);\n        }\n\n        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –æ–∫–æ–Ω\n        await usersTable.windows.reupdate(this.USERID);\n      } catch (error) {\n        console.error('Error toggling window:', error);\n      }\n    },\n    toggleStartMenu() {\n      this.showMenu = !this.showMenu;\n    },\n    async launchApp(appData) {\n      if (!this.USERID || !usersTable) {\n        console.error('USERID or usersTable missing');\n        return;\n      }\n      try {\n        // –ò—â–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –æ–∫–Ω–æ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n        const existingWindow = await usersTable.windows.getWindow_byConfig(this.USERID, appData);\n        if (existingWindow) {\n          // –ï—Å–ª–∏ –æ–∫–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç\n          if (existingWindow.isMinimized) {\n            // –ï—Å–ª–∏ —Å–≤–µ—Ä–Ω—É—Ç–æ - —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º\n            console.log('Restoring minimized window');\n            if (usersTable.windows.restore) {\n              await usersTable.windows.restore(this.USERID, existingWindow.id);\n            } else {\n              await usersTable.windows.activate(this.USERID, existingWindow.id);\n            }\n          } else {\n            // –ï—Å–ª–∏ –Ω–µ —Å–≤–µ—Ä–Ω—É—Ç–æ - –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º\n            console.log('Activating existing window');\n            await usersTable.windows.activate(this.USERID, existingWindow.id);\n          }\n        } else {\n          // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ –æ–∫–Ω–æ\n          console.log('Creating new window');\n          await usersTable.windows.create(this.USERID, {\n            ...appData,\n            defWidth: appData.defWidth || 800,\n            defHeight: appData.defHeight || 600\n          });\n        }\n\n        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –æ–∫–æ–Ω\n        await usersTable.windows.reupdate(this.USERID);\n      } catch (error) {\n        console.error('Error launching app:', error);\n      }\n    },\n    launchApp_byMenu(appData) {\n      this.launchApp(appData);\n      this.toggleStartMenu();\n    },\n    // –ü–æ–ª—É—á–∏—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è –æ–∫–Ω–∞\n    getWindowIcon(window) {\n      return window?.icon || window?.iconclass || 'üìÑ';\n    },\n    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∞–∫—Ç–∏–≤–Ω–æ –ª–∏ –æ–∫–Ω–æ - –° –ü–†–û–í–ï–†–ö–û–ô –ù–ê UNDEFINED\n    isWindowActive(windowId) {\n      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ activeWindowId –∏ –µ–≥–æ value —Å—É—â–µ—Å—Ç–≤—É—é—Ç\n      if (!activeWindowId || !activeWindowId.value) {\n        return false;\n      }\n      return activeWindowId.value === windowId;\n    },\n    // –ü–æ–ª—É—á–∏—Ç—å –∫–ª–∞—Å—Å –¥–ª—è –æ–∫–Ω–∞ –≤ —Ç–∞—Å–∫–±–∞—Ä–µ - –° –ü–†–û–í–ï–†–ö–û–ô –ù–ê UNDEFINED\n    getWindowClass(window) {\n      if (!window) return {};\n      return {\n        'active': this.isWindowActive(window.id),\n        'minimized': window.isMinimized === true\n      };\n    }\n  },\n  beforeUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n};","map":{"version":3,"names":["usersTable","IDBWindows","activeWindowId","JSH","useOsStore","appsConfig","name","props","USERID","type","Number","default","data","currentTime","currentDate","timer","showMenu","USERApps","USER","GLangData","mounted","console","log","reloadBar","created","computed","windowsList","value","currentActiveWindowId","appManager_data","resObj","i","appsList","length","id","osStore","SMApps","getStartMenuApps","sort","n1","n2","label","toLowerCase","sortByType_appsList","resultObj","apps","filter","val","showInStartMenu","forEach","element","category","push","Object","keys","key","a","b","localeCompare","methods","GlobalLangPack","lang","userLang","navigator","language","userLanguage","userLangS","split","UserLang","en","findUser","defAppsList","getAllApps","findUserApps","getApps","Array","isArray","updateTime","clearInterval","setInterval","getbyId","error","getAvatarUrl","avatarName","require","avatarStyle","backgroundImage","backgroundSize","backgroundPosition","now","Date","toLocaleDateString","toLocaleTimeString","hour","minute","toggleWindow","windowId","window","find","w","isMinimized","windows","restore","activate","reupdate","toggleStartMenu","launchApp","appData","existingWindow","getWindow_byConfig","create","defWidth","defHeight","launchApp_byMenu","getWindowIcon","icon","iconclass","isWindowActive","getWindowClass","beforeUnmount"],"sources":["/home/kup/my_projects/vue/osi/src/components/os/TaskBar/TaskBar.vue"],"sourcesContent":["<template src=\"./template.html\"></template>\n<style src=\"./style.css\"></style>\n<script>\n    import { usersTable } from '@/idb/db';\n    import { IDBWindows, activeWindowId } from '@/idb/db'; // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ activeWindowId –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω\n    import { JSH } from '@/core/helpers';\n    import { useOsStore } from '@/stores/os.store';\n    import { appsConfig } from '@/config/applications';\n\n    export default {\n        name: \"TaskBar\",\n\n        props: {\n            USERID: {type: Number, default: 0}\n        },\n  \n        data() {\n            return {\n                currentTime: '',\n                currentDate: '',\n                timer: null,\n                showMenu: false,\n                USERApps: [],\n                USER: null,\n                GLangData: {},\n            };\n        },\n\n        async mounted() {\n            console.log('TaskBar mounted with USERID:', this.USERID);\n            await this.reloadBar();\n        },\n\n        created() { this.usersTable = usersTable; },\n  \n        computed: {\n            // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –æ–∫–Ω–∞ –∏–∑ IDBWindows\n            windowsList() {\n                return IDBWindows?.value || [];\n            },\n\n            // –ê–∫—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ - —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ undefined\n            currentActiveWindowId() {\n                return activeWindowId?.value || null;\n            },\n\n            appManager_data() {\n                let resObj = {};\n\n                for (let i = 0; i < this.appsList.length; i++) {\n                    if (this.appsList[i].id == 'osiappmanager') {\n                        resObj = this.appsList[i];\n                        break;\n                    }\n                }\n\n                return resObj;\n            },\n            \n            osStore() { \n                return useOsStore(); \n            },\n\n            appsList() {\n                const SMApps = appsConfig.getStartMenuApps();\n                return SMApps.sort((n1, n2) => (n1.label.toLowerCase() >= n2.label.toLowerCase()) ? 1 : -1);\n            },\n\n            sortByType_appsList() {\n                const resultObj = {};\n                const apps = this.USERApps.filter(val => val && val.showInStartMenu);\n                \n                apps.forEach(element => {\n                    const category = element.category;\n                    \n                    if (!resultObj[category]) { \n                        resultObj[category] = []; \n                    }\n                    resultObj[category].push(element);\n                });\n\n                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫–∞–∂–¥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n                Object.keys(resultObj).forEach(key => {\n                    resultObj[key].sort((a, b) => (a.label || '').localeCompare(b.label || ''));\n                });\n\n                return resultObj;\n            },\n        },\n  \n        methods: {\n            async reloadBar() {                \n                const GlobalLangPack = JSH.lang;\n                const userLang = navigator.language || navigator.userLanguage;\n                const userLangS = userLang.split('-')[0];\n                this.UserLang = userLangS; \n                \n                this.GLangData = (userLangS && GlobalLangPack && GlobalLangPack[userLangS]) \n                    ? GlobalLangPack[userLangS] \n                    : GlobalLangPack.en;\n\n                await this.findUser();\n\n                const defAppsList = appsConfig.getAllApps();\n                const findUserApps = await usersTable.getApps(this.USERID);                \n\n                this.apps = defAppsList;\n                this.USERApps = (findUserApps && Array.isArray(findUserApps)) ? findUserApps : defAppsList;\n\n                this.updateTime();\n                if (this.timer) clearInterval(this.timer);\n                this.timer = setInterval(this.updateTime, 1000);\n            },\n\n            async findUser() {\n                try {                    \n                    this.USER = await usersTable.getbyId(this.USERID);\n                } catch (error) {\n                    console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);\n                }\n            },\n\n            getAvatarUrl(avatarName) {\n                return `url(${require('@/assets/avatars/' + avatarName)})`;\n            },\n\n            avatarStyle(avatarName) {\n                return {\n                    backgroundImage: this.getAvatarUrl(avatarName),\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                };\n            },\n\n            updateTime() {\n                const now = new Date();\n\n                this.currentDate = now.toLocaleDateString();\n                this.currentTime = now.toLocaleTimeString('ru-RU', {\n                    hour: '2-digit', \n                    minute: '2-digit'\n                });\n            },\n    \n            // –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–∞ –ø–æ –æ–∫–Ω—É –≤ —Ç–∞—Å–∫–±–∞—Ä–µ\n            async toggleWindow(windowId) {                \n                if (!this.USERID || !usersTable) {\n                    console.error('USERID or usersTable missing');\n                    return;\n                }\n\n                try {\n                    // –ü–æ–ª—É—á–∞–µ–º –æ–∫–Ω–æ –∏–∑ IDBWindows\n                    const window = this.windowsList.find(w => w.id === windowId);\n                    \n                    if (!window) {\n                        console.error('Window not found:', windowId);\n                        return;\n                    }\n\n                    if (window.isMinimized) {                        \n                        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ restore –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, –∏–Ω–∞—á–µ activate\n                        if (usersTable.windows.restore) {\n                            await usersTable.windows.restore(this.USERID, window.id);\n                        } else {\n                            // activate —Ç–æ–∂–µ —Å–Ω–∏–º–∞–µ—Ç —Å–≤–µ—Ä–Ω—É—Ç–æ—Å—Ç—å –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç zIndex\n                            await usersTable.windows.activate(this.USERID, window.id);\n                        }\n                    } else {\n                        // –ï—Å–ª–∏ –æ–∫–Ω–æ –Ω–µ —Å–≤–µ—Ä–Ω—É—Ç–æ - –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ (–ø–æ–¥–Ω–∏–º–∞–µ–º zIndex)\n                        await usersTable.windows.activate(this.USERID, window.id);\n                    }\n                    \n                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –æ–∫–æ–Ω\n                    await usersTable.windows.reupdate(this.USERID);\n                } catch (error) {\n                    console.error('Error toggling window:', error);\n                }\n            },\n\n            toggleStartMenu() { \n                this.showMenu = !this.showMenu; \n            },\n\n            async launchApp(appData) {\n                \n                if (!this.USERID || !usersTable) {\n                    console.error('USERID or usersTable missing');\n                    return;\n                }\n\n                try {\n                    // –ò—â–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –æ–∫–Ω–æ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n                    const existingWindow = await usersTable.windows.getWindow_byConfig(this.USERID, appData);\n                    \n                    if (existingWindow) {\n                        // –ï—Å–ª–∏ –æ–∫–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç\n                        if (existingWindow.isMinimized) {\n                            // –ï—Å–ª–∏ —Å–≤–µ—Ä–Ω—É—Ç–æ - —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º\n                            console.log('Restoring minimized window');\n                            if (usersTable.windows.restore) {\n                                await usersTable.windows.restore(this.USERID, existingWindow.id);\n                            } else {\n                                await usersTable.windows.activate(this.USERID, existingWindow.id);\n                            }\n                        } else {\n                            // –ï—Å–ª–∏ –Ω–µ —Å–≤–µ—Ä–Ω—É—Ç–æ - –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º\n                            console.log('Activating existing window');\n                            await usersTable.windows.activate(this.USERID, existingWindow.id);\n                        }\n                    } else {\n                        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ –æ–∫–Ω–æ\n                        console.log('Creating new window');\n                        await usersTable.windows.create(this.USERID, {\n                            ...appData,\n                            defWidth: appData.defWidth || 800,\n                            defHeight: appData.defHeight || 600\n                        });\n                    }\n                    \n                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –æ–∫–æ–Ω\n                    await usersTable.windows.reupdate(this.USERID);\n                    \n                } catch (error) {\n                    console.error('Error launching app:', error);\n                }\n            },\n\n            launchApp_byMenu(appData) {\n                this.launchApp(appData);\n                this.toggleStartMenu();\n            },\n\n            // –ü–æ–ª—É—á–∏—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è –æ–∫–Ω–∞\n            getWindowIcon(window) {\n                return window?.icon || window?.iconclass || 'üìÑ';\n            },\n\n            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∞–∫—Ç–∏–≤–Ω–æ –ª–∏ –æ–∫–Ω–æ - –° –ü–†–û–í–ï–†–ö–û–ô –ù–ê UNDEFINED\n            isWindowActive(windowId) {\n                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ activeWindowId –∏ –µ–≥–æ value —Å—É—â–µ—Å—Ç–≤—É—é—Ç\n                if (!activeWindowId || !activeWindowId.value) {\n                    return false;\n                }\n                return activeWindowId.value === windowId;\n            },\n\n            // –ü–æ–ª—É—á–∏—Ç—å –∫–ª–∞—Å—Å –¥–ª—è –æ–∫–Ω–∞ –≤ —Ç–∞—Å–∫–±–∞—Ä–µ - –° –ü–†–û–í–ï–†–ö–û–ô –ù–ê UNDEFINED\n            getWindowClass(window) {\n                if (!window) return {};\n                \n                return {\n                    'active': this.isWindowActive(window.id),\n                    'minimized': window.isMinimized === true\n                };\n            }\n        },\n  \n        beforeUnmount() {\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n        }\n    }\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}