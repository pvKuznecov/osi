{"ast":null,"code":"import * as Token from 'token-types';\nimport { makeUnexpectedFileContentError } from '../ParseError.js';\nexport class WaveContentError extends makeUnexpectedFileContentError('Wave') {}\n/**\n * Ref: https://msdn.microsoft.com/en-us/library/windows/desktop/dd317599(v=vs.85).aspx\n */\nexport const WaveFormat = {\n  PCM: 0x0001,\n  // MPEG-4 and AAC Audio Types\n  ADPCM: 0x0002,\n  IEEE_FLOAT: 0x0003,\n  MPEG_ADTS_AAC: 0x1600,\n  MPEG_LOAS: 0x1602,\n  RAW_AAC1: 0x00FF,\n  // Dolby Audio Types\n  DOLBY_AC3_SPDIF: 0x0092,\n  DVM: 0x2000,\n  RAW_SPORT: 0x0240,\n  ESST_AC3: 0x0241,\n  DRM: 0x0009,\n  DTS2: 0x2001,\n  MPEG: 0x0050\n};\nexport const WaveFormatNameMap = {\n  [WaveFormat.PCM]: 'PCM',\n  [WaveFormat.ADPCM]: 'ADPCM',\n  [WaveFormat.IEEE_FLOAT]: 'IEEE_FLOAT',\n  [WaveFormat.MPEG_ADTS_AAC]: 'MPEG_ADTS_AAC',\n  [WaveFormat.MPEG_LOAS]: 'MPEG_LOAS',\n  [WaveFormat.RAW_AAC1]: 'RAW_AAC1',\n  [WaveFormat.DOLBY_AC3_SPDIF]: 'DOLBY_AC3_SPDIF',\n  [WaveFormat.DVM]: 'DVM',\n  [WaveFormat.RAW_SPORT]: 'RAW_SPORT',\n  [WaveFormat.ESST_AC3]: 'ESST_AC3',\n  [WaveFormat.DRM]: 'DRM',\n  [WaveFormat.DTS2]: 'DTS2',\n  [WaveFormat.MPEG]: 'MPEG'\n};\n/**\n * format chunk; chunk-id is \"fmt \"\n * http://soundfile.sapp.org/doc/WaveFormat/\n */\nexport class Format {\n  constructor(header) {\n    if (header.chunkSize < 16) throw new WaveContentError('Invalid chunk size');\n    this.len = header.chunkSize;\n  }\n  get(buf, off) {\n    return {\n      wFormatTag: Token.UINT16_LE.get(buf, off),\n      nChannels: Token.UINT16_LE.get(buf, off + 2),\n      nSamplesPerSec: Token.UINT32_LE.get(buf, off + 4),\n      nAvgBytesPerSec: Token.UINT32_LE.get(buf, off + 8),\n      nBlockAlign: Token.UINT16_LE.get(buf, off + 12),\n      wBitsPerSample: Token.UINT16_LE.get(buf, off + 14)\n    };\n  }\n}\n/**\n * Fact chunk; chunk-id is \"fact\"\n * http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/WAVE/WAVE.html\n * http://www.recordingblogs.com/wiki/fact-chunk-of-a-wave-file\n */\nexport class FactChunk {\n  constructor(header) {\n    if (header.chunkSize < 4) {\n      throw new WaveContentError('Invalid fact chunk size.');\n    }\n    this.len = header.chunkSize;\n  }\n  get(buf, off) {\n    return {\n      dwSampleLength: Token.UINT32_LE.get(buf, off)\n    };\n  }\n}","map":{"version":3,"names":["Token","makeUnexpectedFileContentError","WaveContentError","WaveFormat","PCM","ADPCM","IEEE_FLOAT","MPEG_ADTS_AAC","MPEG_LOAS","RAW_AAC1","DOLBY_AC3_SPDIF","DVM","RAW_SPORT","ESST_AC3","DRM","DTS2","MPEG","WaveFormatNameMap","Format","constructor","header","chunkSize","len","get","buf","off","wFormatTag","UINT16_LE","nChannels","nSamplesPerSec","UINT32_LE","nAvgBytesPerSec","nBlockAlign","wBitsPerSample","FactChunk","dwSampleLength"],"sources":["/home/kup/my_projects/vue/osi/node_modules/music-metadata/lib/wav/WaveChunk.js"],"sourcesContent":["import * as Token from 'token-types';\nimport { makeUnexpectedFileContentError } from '../ParseError.js';\nexport class WaveContentError extends makeUnexpectedFileContentError('Wave') {\n}\n/**\n * Ref: https://msdn.microsoft.com/en-us/library/windows/desktop/dd317599(v=vs.85).aspx\n */\nexport const WaveFormat = {\n    PCM: 0x0001,\n    // MPEG-4 and AAC Audio Types\n    ADPCM: 0x0002,\n    IEEE_FLOAT: 0x0003,\n    MPEG_ADTS_AAC: 0x1600,\n    MPEG_LOAS: 0x1602,\n    RAW_AAC1: 0x00FF,\n    // Dolby Audio Types\n    DOLBY_AC3_SPDIF: 0x0092,\n    DVM: 0x2000,\n    RAW_SPORT: 0x0240,\n    ESST_AC3: 0x0241,\n    DRM: 0x0009,\n    DTS2: 0x2001,\n    MPEG: 0x0050\n};\nexport const WaveFormatNameMap = {\n    [WaveFormat.PCM]: 'PCM',\n    [WaveFormat.ADPCM]: 'ADPCM',\n    [WaveFormat.IEEE_FLOAT]: 'IEEE_FLOAT',\n    [WaveFormat.MPEG_ADTS_AAC]: 'MPEG_ADTS_AAC',\n    [WaveFormat.MPEG_LOAS]: 'MPEG_LOAS',\n    [WaveFormat.RAW_AAC1]: 'RAW_AAC1',\n    [WaveFormat.DOLBY_AC3_SPDIF]: 'DOLBY_AC3_SPDIF',\n    [WaveFormat.DVM]: 'DVM',\n    [WaveFormat.RAW_SPORT]: 'RAW_SPORT',\n    [WaveFormat.ESST_AC3]: 'ESST_AC3',\n    [WaveFormat.DRM]: 'DRM',\n    [WaveFormat.DTS2]: 'DTS2',\n    [WaveFormat.MPEG]: 'MPEG'\n};\n/**\n * format chunk; chunk-id is \"fmt \"\n * http://soundfile.sapp.org/doc/WaveFormat/\n */\nexport class Format {\n    constructor(header) {\n        if (header.chunkSize < 16)\n            throw new WaveContentError('Invalid chunk size');\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        return {\n            wFormatTag: Token.UINT16_LE.get(buf, off),\n            nChannels: Token.UINT16_LE.get(buf, off + 2),\n            nSamplesPerSec: Token.UINT32_LE.get(buf, off + 4),\n            nAvgBytesPerSec: Token.UINT32_LE.get(buf, off + 8),\n            nBlockAlign: Token.UINT16_LE.get(buf, off + 12),\n            wBitsPerSample: Token.UINT16_LE.get(buf, off + 14)\n        };\n    }\n}\n/**\n * Fact chunk; chunk-id is \"fact\"\n * http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/WAVE/WAVE.html\n * http://www.recordingblogs.com/wiki/fact-chunk-of-a-wave-file\n */\nexport class FactChunk {\n    constructor(header) {\n        if (header.chunkSize < 4) {\n            throw new WaveContentError('Invalid fact chunk size.');\n        }\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        return {\n            dwSampleLength: Token.UINT32_LE.get(buf, off)\n        };\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}