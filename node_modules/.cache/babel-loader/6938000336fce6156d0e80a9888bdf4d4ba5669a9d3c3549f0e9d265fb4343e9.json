{"ast":null,"code":"/**\n * Ref https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\n */\nimport { UINT16_LE, UINT32_LE } from \"token-types\";\nexport const Signature = {\n  LocalFileHeader: 0x04034b50,\n  DataDescriptor: 0x08074b50,\n  CentralFileHeader: 0x02014b50,\n  EndOfCentralDirectory: 0x06054b50\n};\nexport const DataDescriptor = {\n  get(array) {\n    return {\n      signature: UINT32_LE.get(array, 0),\n      compressedSize: UINT32_LE.get(array, 8),\n      uncompressedSize: UINT32_LE.get(array, 12)\n    };\n  },\n  len: 16\n};\n/**\n * First part of the ZIP Local File Header\n * Offset | Bytes| Description\n * -------|------+-------------------------------------------------------------------\n *      0 |    4 | Signature (0x04034b50)\n *      4 |    2 | Minimum version needed to extract\n *      6 |    2 | Bit flag\n *      8 |    2 | Compression method\n *     10 |    2 | File last modification time (MS-DOS format)\n *     12 |    2 | File last modification date (MS-DOS format)\n *     14 |    4 | CRC-32 of uncompressed data\n *     18 |    4 | Compressed size\n *     22 |    4 | Uncompressed size\n *     26 |    2 | File name length (n)\n *     28 |    2 | Extra field length (m)\n *     30 |    n | File name\n * 30 + n |    m | Extra field\n */\nexport const LocalFileHeaderToken = {\n  get(array) {\n    const flags = UINT16_LE.get(array, 6);\n    return {\n      signature: UINT32_LE.get(array, 0),\n      minVersion: UINT16_LE.get(array, 4),\n      dataDescriptor: !!(flags & 0x0008),\n      compressedMethod: UINT16_LE.get(array, 8),\n      compressedSize: UINT32_LE.get(array, 18),\n      uncompressedSize: UINT32_LE.get(array, 22),\n      filenameLength: UINT16_LE.get(array, 26),\n      extraFieldLength: UINT16_LE.get(array, 28),\n      filename: null\n    };\n  },\n  len: 30\n};\n/**\n * 4.3.16  End of central directory record:\n *  end of central dir signature (0x06064b50)                                      4 bytes\n *  number of this disk                                                            2 bytes\n *  number of the disk with the start of the central directory                     2 bytes\n *  total number of entries in the central directory on this disk                  2 bytes\n *  total number of entries in the size of the central directory                   2 bytes\n *  sizeOfTheCentralDirectory                                                      4 bytes\n *  offset of start of central directory with respect to the starting disk number  4 bytes\n *  .ZIP file comment length                                                       2 bytes\n *  .ZIP file comment       (variable size)\n */\nexport const EndOfCentralDirectoryRecordToken = {\n  get(array) {\n    return {\n      signature: UINT32_LE.get(array, 0),\n      nrOfThisDisk: UINT16_LE.get(array, 4),\n      nrOfThisDiskWithTheStart: UINT16_LE.get(array, 6),\n      nrOfEntriesOnThisDisk: UINT16_LE.get(array, 8),\n      nrOfEntriesOfSize: UINT16_LE.get(array, 10),\n      sizeOfCd: UINT32_LE.get(array, 12),\n      offsetOfStartOfCd: UINT32_LE.get(array, 16),\n      zipFileCommentLength: UINT16_LE.get(array, 20)\n    };\n  },\n  len: 22\n};\n/**\n * File header:\n *    central file header signature   4 bytes   0 (0x02014b50)\n *    version made by                 2 bytes   4\n *    version needed to extract       2 bytes   6\n *    general purpose bit flag        2 bytes   8\n *    compression method              2 bytes  10\n *    last mod file time              2 bytes  12\n *    last mod file date              2 bytes  14\n *    crc-32                          4 bytes  16\n *    compressed size                 4 bytes  20\n *    uncompressed size               4 bytes  24\n *    file name length                2 bytes  28\n *    extra field length              2 bytes  30\n *    file comment length             2 bytes  32\n *    disk number start               2 bytes  34\n *    internal file attributes        2 bytes  36\n *    external file attributes        4 bytes  38\n *    relative offset of local header 4 bytes  42\n */\nexport const FileHeader = {\n  get(array) {\n    const flags = UINT16_LE.get(array, 8);\n    return {\n      signature: UINT32_LE.get(array, 0),\n      minVersion: UINT16_LE.get(array, 6),\n      dataDescriptor: !!(flags & 0x0008),\n      compressedMethod: UINT16_LE.get(array, 10),\n      compressedSize: UINT32_LE.get(array, 20),\n      uncompressedSize: UINT32_LE.get(array, 24),\n      filenameLength: UINT16_LE.get(array, 28),\n      extraFieldLength: UINT16_LE.get(array, 30),\n      fileCommentLength: UINT16_LE.get(array, 32),\n      relativeOffsetOfLocalHeader: UINT32_LE.get(array, 42),\n      filename: null\n    };\n  },\n  len: 46\n};","map":{"version":3,"names":["UINT16_LE","UINT32_LE","Signature","LocalFileHeader","DataDescriptor","CentralFileHeader","EndOfCentralDirectory","get","array","signature","compressedSize","uncompressedSize","len","LocalFileHeaderToken","flags","minVersion","dataDescriptor","compressedMethod","filenameLength","extraFieldLength","filename","EndOfCentralDirectoryRecordToken","nrOfThisDisk","nrOfThisDiskWithTheStart","nrOfEntriesOnThisDisk","nrOfEntriesOfSize","sizeOfCd","offsetOfStartOfCd","zipFileCommentLength","FileHeader","fileCommentLength","relativeOffsetOfLocalHeader"],"sources":["/home/kup/my_projects/vue/osi/node_modules/@tokenizer/inflate/lib/ZipToken.js"],"sourcesContent":["/**\n * Ref https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\n */\nimport { UINT16_LE, UINT32_LE } from \"token-types\";\nexport const Signature = {\n    LocalFileHeader: 0x04034b50,\n    DataDescriptor: 0x08074b50,\n    CentralFileHeader: 0x02014b50,\n    EndOfCentralDirectory: 0x06054b50\n};\nexport const DataDescriptor = {\n    get(array) {\n        return {\n            signature: UINT32_LE.get(array, 0),\n            compressedSize: UINT32_LE.get(array, 8),\n            uncompressedSize: UINT32_LE.get(array, 12),\n        };\n    }, len: 16\n};\n/**\n * First part of the ZIP Local File Header\n * Offset | Bytes| Description\n * -------|------+-------------------------------------------------------------------\n *      0 |    4 | Signature (0x04034b50)\n *      4 |    2 | Minimum version needed to extract\n *      6 |    2 | Bit flag\n *      8 |    2 | Compression method\n *     10 |    2 | File last modification time (MS-DOS format)\n *     12 |    2 | File last modification date (MS-DOS format)\n *     14 |    4 | CRC-32 of uncompressed data\n *     18 |    4 | Compressed size\n *     22 |    4 | Uncompressed size\n *     26 |    2 | File name length (n)\n *     28 |    2 | Extra field length (m)\n *     30 |    n | File name\n * 30 + n |    m | Extra field\n */\nexport const LocalFileHeaderToken = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 6);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            minVersion: UINT16_LE.get(array, 4),\n            dataDescriptor: !!(flags & 0x0008),\n            compressedMethod: UINT16_LE.get(array, 8),\n            compressedSize: UINT32_LE.get(array, 18),\n            uncompressedSize: UINT32_LE.get(array, 22),\n            filenameLength: UINT16_LE.get(array, 26),\n            extraFieldLength: UINT16_LE.get(array, 28),\n            filename: null\n        };\n    }, len: 30\n};\n/**\n * 4.3.16  End of central directory record:\n *  end of central dir signature (0x06064b50)                                      4 bytes\n *  number of this disk                                                            2 bytes\n *  number of the disk with the start of the central directory                     2 bytes\n *  total number of entries in the central directory on this disk                  2 bytes\n *  total number of entries in the size of the central directory                   2 bytes\n *  sizeOfTheCentralDirectory                                                      4 bytes\n *  offset of start of central directory with respect to the starting disk number  4 bytes\n *  .ZIP file comment length                                                       2 bytes\n *  .ZIP file comment       (variable size)\n */\nexport const EndOfCentralDirectoryRecordToken = {\n    get(array) {\n        return {\n            signature: UINT32_LE.get(array, 0),\n            nrOfThisDisk: UINT16_LE.get(array, 4),\n            nrOfThisDiskWithTheStart: UINT16_LE.get(array, 6),\n            nrOfEntriesOnThisDisk: UINT16_LE.get(array, 8),\n            nrOfEntriesOfSize: UINT16_LE.get(array, 10),\n            sizeOfCd: UINT32_LE.get(array, 12),\n            offsetOfStartOfCd: UINT32_LE.get(array, 16),\n            zipFileCommentLength: UINT16_LE.get(array, 20),\n        };\n    }, len: 22\n};\n/**\n * File header:\n *    central file header signature   4 bytes   0 (0x02014b50)\n *    version made by                 2 bytes   4\n *    version needed to extract       2 bytes   6\n *    general purpose bit flag        2 bytes   8\n *    compression method              2 bytes  10\n *    last mod file time              2 bytes  12\n *    last mod file date              2 bytes  14\n *    crc-32                          4 bytes  16\n *    compressed size                 4 bytes  20\n *    uncompressed size               4 bytes  24\n *    file name length                2 bytes  28\n *    extra field length              2 bytes  30\n *    file comment length             2 bytes  32\n *    disk number start               2 bytes  34\n *    internal file attributes        2 bytes  36\n *    external file attributes        4 bytes  38\n *    relative offset of local header 4 bytes  42\n */\nexport const FileHeader = {\n    get(array) {\n        const flags = UINT16_LE.get(array, 8);\n        return {\n            signature: UINT32_LE.get(array, 0),\n            minVersion: UINT16_LE.get(array, 6),\n            dataDescriptor: !!(flags & 0x0008),\n            compressedMethod: UINT16_LE.get(array, 10),\n            compressedSize: UINT32_LE.get(array, 20),\n            uncompressedSize: UINT32_LE.get(array, 24),\n            filenameLength: UINT16_LE.get(array, 28),\n            extraFieldLength: UINT16_LE.get(array, 30),\n            fileCommentLength: UINT16_LE.get(array, 32),\n            relativeOffsetOfLocalHeader: UINT32_LE.get(array, 42),\n            filename: null\n        };\n    }, len: 46\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}