{"ast":null,"code":"import { ID3v1TagMapper } from '../id3v1/ID3v1TagMap.js';\nimport { ID3v24TagMapper } from '../id3v2/ID3v24TagMapper.js';\nimport { AsfTagMapper } from '../asf/AsfTagMapper.js';\nimport { ID3v22TagMapper } from '../id3v2/ID3v22TagMapper.js';\nimport { APEv2TagMapper } from '../apev2/APEv2TagMapper.js';\nimport { MP4TagMapper } from '../mp4/MP4TagMapper.js';\nimport { VorbisTagMapper } from '../ogg/vorbis/VorbisTagMapper.js';\nimport { RiffInfoTagMapper } from '../riff/RiffInfoTagMap.js';\nimport { MatroskaTagMapper } from '../matroska/MatroskaTagMapper.js';\nimport { AiffTagMapper } from '../aiff/AiffTagMap.js';\nimport { InternalParserError } from '../ParseError.js';\nexport class CombinedTagMapper {\n  constructor() {\n    this.tagMappers = {};\n    [new ID3v1TagMapper(), new ID3v22TagMapper(), new ID3v24TagMapper(), new MP4TagMapper(), new MP4TagMapper(), new VorbisTagMapper(), new APEv2TagMapper(), new AsfTagMapper(), new RiffInfoTagMapper(), new MatroskaTagMapper(), new AiffTagMapper()].forEach(mapper => {\n      this.registerTagMapper(mapper);\n    });\n  }\n  /**\n   * Convert native to generic (common) tags\n   * @param tagType Originating tag format\n   * @param tag     Native tag to map to a generic tag id\n   * @param warnings\n   * @return Generic tag result (output of this function)\n   */\n  mapTag(tagType, tag, warnings) {\n    const tagMapper = this.tagMappers[tagType];\n    if (tagMapper) {\n      return this.tagMappers[tagType].mapGenericTag(tag, warnings);\n    }\n    throw new InternalParserError(`No generic tag mapper defined for tag-format: ${tagType}`);\n  }\n  registerTagMapper(genericTagMapper) {\n    for (const tagType of genericTagMapper.tagTypes) {\n      this.tagMappers[tagType] = genericTagMapper;\n    }\n  }\n}","map":{"version":3,"names":["ID3v1TagMapper","ID3v24TagMapper","AsfTagMapper","ID3v22TagMapper","APEv2TagMapper","MP4TagMapper","VorbisTagMapper","RiffInfoTagMapper","MatroskaTagMapper","AiffTagMapper","InternalParserError","CombinedTagMapper","constructor","tagMappers","forEach","mapper","registerTagMapper","mapTag","tagType","tag","warnings","tagMapper","mapGenericTag","genericTagMapper","tagTypes"],"sources":["/home/kup/my_projects/vue/osi/node_modules/music-metadata/lib/common/CombinedTagMapper.js"],"sourcesContent":["import { ID3v1TagMapper } from '../id3v1/ID3v1TagMap.js';\nimport { ID3v24TagMapper } from '../id3v2/ID3v24TagMapper.js';\nimport { AsfTagMapper } from '../asf/AsfTagMapper.js';\nimport { ID3v22TagMapper } from '../id3v2/ID3v22TagMapper.js';\nimport { APEv2TagMapper } from '../apev2/APEv2TagMapper.js';\nimport { MP4TagMapper } from '../mp4/MP4TagMapper.js';\nimport { VorbisTagMapper } from '../ogg/vorbis/VorbisTagMapper.js';\nimport { RiffInfoTagMapper } from '../riff/RiffInfoTagMap.js';\nimport { MatroskaTagMapper } from '../matroska/MatroskaTagMapper.js';\nimport { AiffTagMapper } from '../aiff/AiffTagMap.js';\nimport { InternalParserError } from '../ParseError.js';\nexport class CombinedTagMapper {\n    constructor() {\n        this.tagMappers = {};\n        [\n            new ID3v1TagMapper(),\n            new ID3v22TagMapper(),\n            new ID3v24TagMapper(),\n            new MP4TagMapper(),\n            new MP4TagMapper(),\n            new VorbisTagMapper(),\n            new APEv2TagMapper(),\n            new AsfTagMapper(),\n            new RiffInfoTagMapper(),\n            new MatroskaTagMapper(),\n            new AiffTagMapper()\n        ].forEach(mapper => {\n            this.registerTagMapper(mapper);\n        });\n    }\n    /**\n     * Convert native to generic (common) tags\n     * @param tagType Originating tag format\n     * @param tag     Native tag to map to a generic tag id\n     * @param warnings\n     * @return Generic tag result (output of this function)\n     */\n    mapTag(tagType, tag, warnings) {\n        const tagMapper = this.tagMappers[tagType];\n        if (tagMapper) {\n            return this.tagMappers[tagType].mapGenericTag(tag, warnings);\n        }\n        throw new InternalParserError(`No generic tag mapper defined for tag-format: ${tagType}`);\n    }\n    registerTagMapper(genericTagMapper) {\n        for (const tagType of genericTagMapper.tagTypes) {\n            this.tagMappers[tagType] = genericTagMapper;\n        }\n    }\n}\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,yBAAyB;AACxD,SAASC,eAAe,QAAQ,6BAA6B;AAC7D,SAASC,YAAY,QAAQ,wBAAwB;AACrD,SAASC,eAAe,QAAQ,6BAA6B;AAC7D,SAASC,cAAc,QAAQ,4BAA4B;AAC3D,SAASC,YAAY,QAAQ,wBAAwB;AACrD,SAASC,eAAe,QAAQ,kCAAkC;AAClE,SAASC,iBAAiB,QAAQ,2BAA2B;AAC7D,SAASC,iBAAiB,QAAQ,kCAAkC;AACpE,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,mBAAmB,QAAQ,kBAAkB;AACtD,OAAO,MAAMC,iBAAiB,CAAC;EAC3BC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;IACpB,CACI,IAAIb,cAAc,CAAC,CAAC,EACpB,IAAIG,eAAe,CAAC,CAAC,EACrB,IAAIF,eAAe,CAAC,CAAC,EACrB,IAAII,YAAY,CAAC,CAAC,EAClB,IAAIA,YAAY,CAAC,CAAC,EAClB,IAAIC,eAAe,CAAC,CAAC,EACrB,IAAIF,cAAc,CAAC,CAAC,EACpB,IAAIF,YAAY,CAAC,CAAC,EAClB,IAAIK,iBAAiB,CAAC,CAAC,EACvB,IAAIC,iBAAiB,CAAC,CAAC,EACvB,IAAIC,aAAa,CAAC,CAAC,CACtB,CAACK,OAAO,CAACC,MAAM,IAAI;MAChB,IAAI,CAACC,iBAAiB,CAACD,MAAM,CAAC;IAClC,CAAC,CAAC;EACN;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;EACIE,MAAMA,CAACC,OAAO,EAAEC,GAAG,EAAEC,QAAQ,EAAE;IAC3B,MAAMC,SAAS,GAAG,IAAI,CAACR,UAAU,CAACK,OAAO,CAAC;IAC1C,IAAIG,SAAS,EAAE;MACX,OAAO,IAAI,CAACR,UAAU,CAACK,OAAO,CAAC,CAACI,aAAa,CAACH,GAAG,EAAEC,QAAQ,CAAC;IAChE;IACA,MAAM,IAAIV,mBAAmB,CAAC,iDAAiDQ,OAAO,EAAE,CAAC;EAC7F;EACAF,iBAAiBA,CAACO,gBAAgB,EAAE;IAChC,KAAK,MAAML,OAAO,IAAIK,gBAAgB,CAACC,QAAQ,EAAE;MAC7C,IAAI,CAACX,UAAU,CAACK,OAAO,CAAC,GAAGK,gBAAgB;IAC/C;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}