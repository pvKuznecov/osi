{"ast":null,"code":"import { ref, onMounted, watch, markRaw } from 'vue';\nimport { loadComponent } from '@/utils/componentLoader';\nexport default {\n  name: \"SimpleWindow\",\n  props: {\n    windowId: String,\n    title: {\n      type: String,\n      default: 'Окно'\n    },\n    appName: {\n      type: String,\n      required: true\n    },\n    isMinimized: {\n      type: Boolean,\n      default: false\n    },\n    isMaximized: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    },\n    zIndex: {\n      type: Number,\n      default: 100\n    }\n  },\n  emits: ['close', 'minimize', 'focus', 'toggleMaximize'],\n  setup(props) {\n    // Используем shallowRef для компонента, чтобы избежать глубокой реактивности\n    const loadedComponent = shallowRef(null);\n    const loading = ref(false);\n    const windowConfig = ref({\n      defWidth: 400,\n      defHeight: 400\n    });\n\n    // Загрузка компонента приложения\n    const loadAppComponent = async () => {\n      loading.value = true;\n      try {\n        // Загружаем конфигурацию приложения\n        const {\n          appConfig\n        } = await import('@/config/applications');\n        const app = appConfig.getAppByName(props.appName);\n        if (app && app.window) {\n          windowConfig.value = app.window;\n        }\n\n        // Загружаем сам компонент\n        const component = await loadComponent(props.appName);\n        if (component) {\n          loadedComponent.value = markRaw(component);\n        }\n      } catch (error) {\n        console.error(`Ошибка загрузки приложения ${props.appName}:`, error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Загружаем компонент при монтировании\n    onMounted(() => {\n      loadAppComponent();\n    });\n\n    // Реагируем на изменение appName\n    watch(() => props.appName, () => {\n      loadAppComponent();\n    });\n\n    // Данные окна (позиция, размер)\n    const posX = ref(100);\n    const posY = ref(100);\n    const windowWidth = ref(windowConfig.value.defWidth);\n    const windowHeight = ref(windowConfig.value.defHeight);\n\n    // Управление окном\n    const isDragging = ref(false);\n    const isResizing = ref(false);\n    const dragOffset = ref({\n      x: 0,\n      y: 0\n    });\n    const resizeDirection = ref('');\n    const resizeStart = ref({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      mouseX: 0,\n      mouseY: 0\n    });\n    return {\n      loadedComponent,\n      loading,\n      windowWidth,\n      windowHeight,\n      posX,\n      posY,\n      windowConfig,\n      isDragging,\n      isResizing,\n      dragOffset,\n      resizeDirection,\n      resizeStart\n    };\n  },\n  computed: {\n    windowStyles() {\n      const baseStyles = {\n        zIndex: this.zIndex\n      };\n      if (this.isMaximized) {\n        return {\n          ...baseStyles,\n          left: '0',\n          top: '0',\n          width: '100vw',\n          height: '100vh',\n          borderRadius: '0'\n        };\n      } else {\n        // Используем размеры из конфига или текущие размеры\n        const width = this.windowWidth || this.windowConfig.defWidth || 400;\n        const height = this.windowHeight || this.windowConfig.defHeight || 400;\n        return {\n          ...baseStyles,\n          left: `${this.posX}px`,\n          top: `${this.posY}px`,\n          width: `${width}px`,\n          height: `${height}px`\n        };\n      }\n    }\n  },\n  mounted() {\n    // Инициализируем размеры из конфига\n    this.windowWidth = this.windowConfig.defWidth;\n    this.windowHeight = this.windowConfig.defHeight;\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n  },\n  beforeUnmount() {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  },\n  methods: {\n    activateWindow() {\n      this.$emit('focus', this.windowId);\n    },\n    startDrag(e) {\n      this.$emit('focus', this.windowId);\n      if (this.isMaximized) return;\n      this.isDragging = true;\n      this.dragOffset = {\n        x: e.clientX - this.posX,\n        y: e.clientY - this.posY\n      };\n      e.stopPropagation();\n    },\n    startResize(direction) {\n      if (this.isMaximized) return;\n      this.$emit('focus', this.windowId);\n      this.isResizing = true;\n      this.resizeDirection = direction;\n      this.resizeStart = {\n        x: this.posX,\n        y: this.posY,\n        width: this.windowWidth,\n        height: this.windowHeight,\n        mouseX: event.clientX,\n        mouseY: event.clientY\n      };\n    },\n    handleMouseMove(e) {\n      if (this.isDragging && !this.isMaximized) {\n        let newX = e.clientX - this.dragOffset.x;\n        let newY = e.clientY - this.dragOffset.y;\n        const maxX = window.innerWidth - this.windowWidth;\n        const maxY = window.innerHeight - this.windowHeight;\n        this.posX = Math.max(0, Math.min(newX, maxX));\n        this.posY = Math.max(0, Math.min(newY, maxY));\n      } else if (this.isResizing && !this.isMaximized) {\n        this.handleResize(e);\n      }\n    },\n    handleResize(e) {\n      const minWidth = 200;\n      const minHeight = 150;\n      const deltaX = e.clientX - this.resizeStart.mouseX;\n      const deltaY = e.clientY - this.resizeStart.mouseY;\n      let newX = this.resizeStart.x;\n      let newY = this.resizeStart.y;\n      let newWidth = this.resizeStart.width;\n      let newHeight = this.resizeStart.height;\n      if (this.resizeDirection.includes('e')) {\n        newWidth = Math.max(minWidth, this.resizeStart.width + deltaX);\n      }\n      if (this.resizeDirection.includes('w')) {\n        newWidth = Math.max(minWidth, this.resizeStart.width - deltaX);\n        newX = this.resizeStart.x + (this.resizeStart.width - newWidth);\n      }\n      if (this.resizeDirection.includes('s')) {\n        newHeight = Math.max(minHeight, this.resizeStart.height + deltaY);\n      }\n      if (this.resizeDirection.includes('n')) {\n        newHeight = Math.max(minHeight, this.resizeStart.height - deltaY);\n        newY = this.resizeStart.y + (this.resizeStart.height - newHeight);\n      }\n      this.posX = newX;\n      this.posY = newY;\n      this.windowWidth = newWidth;\n      this.windowHeight = newHeight;\n      this.keepWindowInBounds();\n    },\n    keepWindowInBounds() {\n      const minWidth = 200;\n      const minHeight = 150;\n      const screenWidth = window.innerWidth;\n      const screenHeight = window.innerHeight;\n      this.windowWidth = Math.max(minWidth, this.windowWidth);\n      this.windowHeight = Math.max(minHeight, this.windowHeight);\n      if (this.posX + this.windowWidth > screenWidth) {\n        this.windowWidth = screenWidth - this.posX;\n      }\n      if (this.posY + this.windowHeight > screenHeight) {\n        this.windowHeight = screenHeight - this.posY;\n      }\n      this.posX = Math.max(0, this.posX);\n      this.posY = Math.max(0, this.posY);\n      this.windowWidth = Math.max(minWidth, this.windowWidth);\n      this.windowHeight = Math.max(minHeight, this.windowHeight);\n    },\n    handleMouseUp() {\n      if (this.isDragging || this.isResizing) {\n        this.keepWindowInBounds();\n      }\n      this.isDragging = false;\n      this.isResizing = false;\n    },\n    minimize() {\n      this.$emit('minimize', this.windowId);\n    },\n    toggleMaximize() {\n      this.$emit('toggleMaximize', this.windowId);\n    },\n    close() {\n      this.$emit('close', this.windowId);\n    }\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","markRaw","loadComponent","name","props","windowId","String","title","type","default","appName","required","isMinimized","Boolean","isMaximized","isActive","zIndex","Number","emits","setup","loadedComponent","shallowRef","loading","windowConfig","defWidth","defHeight","loadAppComponent","value","appConfig","app","getAppByName","window","component","error","console","posX","posY","windowWidth","windowHeight","isDragging","isResizing","dragOffset","x","y","resizeDirection","resizeStart","width","height","mouseX","mouseY","computed","windowStyles","baseStyles","left","top","borderRadius","mounted","document","addEventListener","handleMouseMove","handleMouseUp","beforeUnmount","removeEventListener","methods","activateWindow","$emit","startDrag","e","clientX","clientY","stopPropagation","startResize","direction","event","newX","newY","maxX","innerWidth","maxY","innerHeight","Math","max","min","handleResize","minWidth","minHeight","deltaX","deltaY","newWidth","newHeight","includes","keepWindowInBounds","screenWidth","screenHeight","minimize","toggleMaximize","close"],"sources":["/home/kup/my_projects/vue/osi/src/components/os/SimpleWindow/SimpleWindow.vue"],"sourcesContent":["<script>\nimport { ref, onMounted, watch, markRaw } from 'vue';\nimport { loadComponent } from '@/utils/componentLoader';\n\nexport default {\n    name: \"SimpleWindow\",\n\n    props: {\n        windowId: String,\n        title: {\n            type: String,\n            default: 'Окно'\n        },\n        appName: {\n            type: String,\n            required: true\n        },\n        isMinimized: {\n            type: Boolean,\n            default: false\n        },\n        isMaximized: {\n            type: Boolean,\n            default: false\n        },\n        isActive: {\n            type: Boolean,\n            default: false\n        },\n        zIndex: {\n            type: Number,\n            default: 100\n        }\n    },\n    \n    emits: ['close', 'minimize', 'focus', 'toggleMaximize'],\n    \n    setup(props) {\n        // Используем shallowRef для компонента, чтобы избежать глубокой реактивности\n        const loadedComponent = shallowRef(null);\n        const loading = ref(false);\n        const windowConfig = ref({\n            defWidth: 400,\n            defHeight: 400\n        });\n        \n        // Загрузка компонента приложения\n        const loadAppComponent = async () => {\n            loading.value = true;\n            try {\n                // Загружаем конфигурацию приложения\n                const { appConfig } = await import('@/config/applications');\n                const app = appConfig.getAppByName(props.appName);\n                \n                if (app && app.window) {\n                    windowConfig.value = app.window;\n                }\n                \n                // Загружаем сам компонент\n                const component = await loadComponent(props.appName);\n                if (component) {\n                    loadedComponent.value = markRaw(component);\n                }\n            } catch (error) {\n                console.error(`Ошибка загрузки приложения ${props.appName}:`, error);\n            } finally {\n                loading.value = false;\n            }\n        };\n        \n        // Загружаем компонент при монтировании\n        onMounted(() => {\n            loadAppComponent();\n        });\n        \n        // Реагируем на изменение appName\n        watch(() => props.appName, () => {\n            loadAppComponent();\n        });\n        \n        // Данные окна (позиция, размер)\n        const posX = ref(100);\n        const posY = ref(100);\n        const windowWidth = ref(windowConfig.value.defWidth);\n        const windowHeight = ref(windowConfig.value.defHeight);\n        \n        // Управление окном\n        const isDragging = ref(false);\n        const isResizing = ref(false);\n        const dragOffset = ref({ x: 0, y: 0 });\n        const resizeDirection = ref('');\n        const resizeStart = ref({\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n            mouseX: 0,\n            mouseY: 0\n        });\n        \n        return {\n            loadedComponent,\n            loading,\n            windowWidth,\n            windowHeight,\n            posX,\n            posY,\n            windowConfig,\n            isDragging,\n            isResizing,\n            dragOffset,\n            resizeDirection,\n            resizeStart\n        };\n    },\n\n    computed: {\n        windowStyles() {\n            const baseStyles = { zIndex: this.zIndex };\n            \n            if (this.isMaximized) {\n                return {\n                    ...baseStyles,\n                    left: '0',\n                    top: '0',\n                    width: '100vw',\n                    height: '100vh',\n                    borderRadius: '0'\n                };\n            } else {\n                // Используем размеры из конфига или текущие размеры\n                const width = this.windowWidth || this.windowConfig.defWidth || 400;\n                const height = this.windowHeight || this.windowConfig.defHeight || 400;\n                \n                return {\n                    ...baseStyles,\n                    left: `${this.posX}px`,\n                    top: `${this.posY}px`,\n                    width: `${width}px`,\n                    height: `${height}px`\n                };\n            }\n        }\n    },\n    \n    mounted() {\n        // Инициализируем размеры из конфига\n        this.windowWidth = this.windowConfig.defWidth;\n        this.windowHeight = this.windowConfig.defHeight;\n        \n        document.addEventListener('mousemove', this.handleMouseMove);\n        document.addEventListener('mouseup', this.handleMouseUp);\n    },\n    \n    beforeUnmount() {\n        document.removeEventListener('mousemove', this.handleMouseMove);\n        document.removeEventListener('mouseup', this.handleMouseUp);\n    },\n    \n    methods: {\n        activateWindow() {\n            this.$emit('focus', this.windowId);\n        },\n        \n        startDrag(e) {\n            this.$emit('focus', this.windowId);\n            \n            if (this.isMaximized) return;\n            \n            this.isDragging = true;\n            this.dragOffset = {\n                x: e.clientX - this.posX,\n                y: e.clientY - this.posY\n            };\n            \n            e.stopPropagation();\n        },\n        \n        startResize(direction) {\n            if (this.isMaximized) return;\n            \n            this.$emit('focus', this.windowId);\n            \n            this.isResizing = true;\n            this.resizeDirection = direction;\n            \n            this.resizeStart = {\n                x: this.posX,\n                y: this.posY,\n                width: this.windowWidth,\n                height: this.windowHeight,\n                mouseX: event.clientX,\n                mouseY: event.clientY\n            };\n        },\n        \n        handleMouseMove(e) {\n            if (this.isDragging && !this.isMaximized) {\n                let newX = e.clientX - this.dragOffset.x;\n                let newY = e.clientY - this.dragOffset.y;\n                \n                const maxX = window.innerWidth - this.windowWidth;\n                const maxY = window.innerHeight - this.windowHeight;\n                \n                this.posX = Math.max(0, Math.min(newX, maxX));\n                this.posY = Math.max(0, Math.min(newY, maxY));\n            } else if (this.isResizing && !this.isMaximized) {\n                this.handleResize(e);\n            }\n        },\n        \n        handleResize(e) {\n            const minWidth = 200;\n            const minHeight = 150;\n            const deltaX = e.clientX - this.resizeStart.mouseX;\n            const deltaY = e.clientY - this.resizeStart.mouseY;\n            \n            let newX = this.resizeStart.x;\n            let newY = this.resizeStart.y;\n            let newWidth = this.resizeStart.width;\n            let newHeight = this.resizeStart.height;\n            \n            if (this.resizeDirection.includes('e')) {\n                newWidth = Math.max(minWidth, this.resizeStart.width + deltaX);\n            }\n            \n            if (this.resizeDirection.includes('w')) {\n                newWidth = Math.max(minWidth, this.resizeStart.width - deltaX);\n                newX = this.resizeStart.x + (this.resizeStart.width - newWidth);\n            }\n            \n            if (this.resizeDirection.includes('s')) {\n                newHeight = Math.max(minHeight, this.resizeStart.height + deltaY);\n            }\n            \n            if (this.resizeDirection.includes('n')) {\n                newHeight = Math.max(minHeight, this.resizeStart.height - deltaY);\n                newY = this.resizeStart.y + (this.resizeStart.height - newHeight);\n            }\n            \n            this.posX = newX;\n            this.posY = newY;\n            this.windowWidth = newWidth;\n            this.windowHeight = newHeight;\n            \n            this.keepWindowInBounds();\n        },\n        \n        keepWindowInBounds() {\n            const minWidth = 200;\n            const minHeight = 150;\n            const screenWidth = window.innerWidth;\n            const screenHeight = window.innerHeight;\n            \n            this.windowWidth = Math.max(minWidth, this.windowWidth);\n            this.windowHeight = Math.max(minHeight, this.windowHeight);\n            \n            if (this.posX + this.windowWidth > screenWidth) {\n                this.windowWidth = screenWidth - this.posX;\n            }\n            \n            if (this.posY + this.windowHeight > screenHeight) {\n                this.windowHeight = screenHeight - this.posY;\n            }\n            \n            this.posX = Math.max(0, this.posX);\n            this.posY = Math.max(0, this.posY);\n            \n            this.windowWidth = Math.max(minWidth, this.windowWidth);\n            this.windowHeight = Math.max(minHeight, this.windowHeight);\n        },\n        \n        handleMouseUp() {\n            if (this.isDragging || this.isResizing) {\n                this.keepWindowInBounds();\n            }\n            \n            this.isDragging = false;\n            this.isResizing = false;\n        },\n        \n        minimize() {\n            this.$emit('minimize', this.windowId);\n        },\n        \n        toggleMaximize() {\n            this.$emit('toggleMaximize', this.windowId);\n        },\n        \n        close() {\n            this.$emit('close', this.windowId);\n        }\n    }\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}