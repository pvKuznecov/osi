{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\n// Минимальная версия для начала\nimport { defineStore } from 'pinia';\nimport { ref } from 'vue'; // Убрали computed из импорта\n\nexport const useOsStore = defineStore('os', () => {\n  const windows = ref([]);\n  const activeWindowId = ref(null);\n  const nextZIndex = ref(100);\n  const processCounter = ref(0);\n  const launchApp = (appId, title = 'Новое окно') => {\n    const windowId = `win_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    const newWindow = {\n      id: windowId,\n      appId,\n      title,\n      isMinimized: false,\n      isMaximized: false,\n      zIndex: nextZIndex.value++,\n      position: {\n        x: 100 + windows.value.length * 30,\n        y: 100 + windows.value.length * 30\n      },\n      size: {\n        width: 600,\n        height: 400\n      },\n      icon: '/icons/default.png'\n    };\n    windows.value.push(newWindow);\n    activeWindowId.value = windowId;\n    return windowId;\n  };\n  const closeWindow = windowId => {\n    const index = windows.value.findIndex(w => w.id === windowId);\n    if (index !== -1) {\n      windows.value.splice(index, 1);\n      if (activeWindowId.value === windowId) {\n        activeWindowId.value = windows.value.length > 0 ? windows.value[0].id : null;\n      }\n    }\n  };\n  const bringToFront = windowId => {\n    const window = windows.value.find(w => w.id === windowId);\n    if (window) {\n      window.zIndex = nextZIndex.value++;\n      activeWindowId.value = windowId;\n    }\n  };\n  return {\n    windows,\n    activeWindowId,\n    launchApp,\n    closeWindow,\n    bringToFront\n  };\n});","map":{"version":3,"names":["defineStore","ref","useOsStore","windows","activeWindowId","nextZIndex","processCounter","launchApp","appId","title","windowId","Date","now","Math","random","toString","substr","newWindow","id","isMinimized","isMaximized","zIndex","value","position","x","length","y","size","width","height","icon","push","closeWindow","index","findIndex","w","splice","bringToFront","window","find"],"sources":["/home/kup/my_projects/vue/osi/src/stores/os.store.js"],"sourcesContent":["// Минимальная версия для начала\nimport { defineStore } from 'pinia'\nimport { ref } from 'vue' // Убрали computed из импорта\n\nexport const useOsStore = defineStore('os', () => {\n  const windows = ref([])\n  const activeWindowId = ref(null)\n  const nextZIndex = ref(100)\n  const processCounter = ref(0)\n\n    const launchApp = (appId, title = 'Новое окно') => {\n        const windowId = `win_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n    \n        const newWindow = {\n            id: windowId,\n            appId,\n            title,\n            isMinimized: false,\n            isMaximized: false,\n            zIndex: nextZIndex.value++,\n            position: {\n                x: 100 + windows.value.length * 30,\n                y: 100 + windows.value.length * 30\n            },\n            size: {\n                width: 600,\n                height: 400\n            },\n            icon: '/icons/default.png'\n        }\n    \n        windows.value.push(newWindow)\n        activeWindowId.value = windowId\n    \n        return windowId\n    }\n\n    const closeWindow = (windowId) => {\n        const index = windows.value.findIndex(w => w.id === windowId)\n        if (index !== -1) {\n      windows.value.splice(index, 1)\n      if (activeWindowId.value === windowId) {\n        activeWindowId.value = windows.value.length > 0 ? windows.value[0].id : null\n      }\n    }\n  }\n\n  const bringToFront = (windowId) => {\n    const window = windows.value.find(w => w.id === windowId)\n    if (window) {\n      window.zIndex = nextZIndex.value++\n      activeWindowId.value = windowId\n    }\n  }\n\n  return {\n    windows,\n    activeWindowId,\n    launchApp,\n    closeWindow,\n    bringToFront\n  }\n})"],"mappings":";;;AAAA;AACA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK,EAAC;;AAE1B,OAAO,MAAMC,UAAU,GAAGF,WAAW,CAAC,IAAI,EAAE,MAAM;EAChD,MAAMG,OAAO,GAAGF,GAAG,CAAC,EAAE,CAAC;EACvB,MAAMG,cAAc,GAAGH,GAAG,CAAC,IAAI,CAAC;EAChC,MAAMI,UAAU,GAAGJ,GAAG,CAAC,GAAG,CAAC;EAC3B,MAAMK,cAAc,GAAGL,GAAG,CAAC,CAAC,CAAC;EAE3B,MAAMM,SAAS,GAAGA,CAACC,KAAK,EAAEC,KAAK,GAAG,YAAY,KAAK;IAC/C,MAAMC,QAAQ,GAAG,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IAE/E,MAAMC,SAAS,GAAG;MACdC,EAAE,EAAER,QAAQ;MACZF,KAAK;MACLC,KAAK;MACLU,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE,KAAK;MAClBC,MAAM,EAAEhB,UAAU,CAACiB,KAAK,EAAE;MAC1BC,QAAQ,EAAE;QACNC,CAAC,EAAE,GAAG,GAAGrB,OAAO,CAACmB,KAAK,CAACG,MAAM,GAAG,EAAE;QAClCC,CAAC,EAAE,GAAG,GAAGvB,OAAO,CAACmB,KAAK,CAACG,MAAM,GAAG;MACpC,CAAC;MACDE,IAAI,EAAE;QACFC,KAAK,EAAE,GAAG;QACVC,MAAM,EAAE;MACZ,CAAC;MACDC,IAAI,EAAE;IACV,CAAC;IAED3B,OAAO,CAACmB,KAAK,CAACS,IAAI,CAACd,SAAS,CAAC;IAC7Bb,cAAc,CAACkB,KAAK,GAAGZ,QAAQ;IAE/B,OAAOA,QAAQ;EACnB,CAAC;EAED,MAAMsB,WAAW,GAAItB,QAAQ,IAAK;IAC9B,MAAMuB,KAAK,GAAG9B,OAAO,CAACmB,KAAK,CAACY,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACjB,EAAE,KAAKR,QAAQ,CAAC;IAC7D,IAAIuB,KAAK,KAAK,CAAC,CAAC,EAAE;MACpB9B,OAAO,CAACmB,KAAK,CAACc,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;MAC9B,IAAI7B,cAAc,CAACkB,KAAK,KAAKZ,QAAQ,EAAE;QACrCN,cAAc,CAACkB,KAAK,GAAGnB,OAAO,CAACmB,KAAK,CAACG,MAAM,GAAG,CAAC,GAAGtB,OAAO,CAACmB,KAAK,CAAC,CAAC,CAAC,CAACJ,EAAE,GAAG,IAAI;MAC9E;IACF;EACF,CAAC;EAED,MAAMmB,YAAY,GAAI3B,QAAQ,IAAK;IACjC,MAAM4B,MAAM,GAAGnC,OAAO,CAACmB,KAAK,CAACiB,IAAI,CAACJ,CAAC,IAAIA,CAAC,CAACjB,EAAE,KAAKR,QAAQ,CAAC;IACzD,IAAI4B,MAAM,EAAE;MACVA,MAAM,CAACjB,MAAM,GAAGhB,UAAU,CAACiB,KAAK,EAAE;MAClClB,cAAc,CAACkB,KAAK,GAAGZ,QAAQ;IACjC;EACF,CAAC;EAED,OAAO;IACLP,OAAO;IACPC,cAAc;IACdG,SAAS;IACTyB,WAAW;IACXK;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}