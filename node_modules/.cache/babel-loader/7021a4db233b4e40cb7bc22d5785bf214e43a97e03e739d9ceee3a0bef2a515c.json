{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref } from 'vue';\nexport const useAppsStore = defineStore('apps', () => {\n  // Храним состояния окон по их ID\n  const windowStates = ref({});\n  const LOCALSTORAGE_KEY = \"osi_app_store\";\n\n  // Сохранить состояние окна\n  const saveWindowState = (windowId, state) => {\n    if (!windowId) return;\n    windowStates.value[windowId] = {\n      ...windowStates.value[windowId],\n      ...state,\n      lastUpdated: Date.now()\n    };\n    console.log('State saved for window:', windowId, windowStates.value[windowId]);\n  };\n\n  // Получить состояние окна\n  const getWindowState = windowId => {\n    if (!windowId) return null;\n    return windowStates.value[windowId] || null;\n  };\n\n  // Удалить состояние окна\n  const deleteWindowState = windowId => {\n    if (!windowId) return;\n    delete windowStates.value[windowId];\n  };\n\n  // Очистить все состояния\n  const clearAllStates = () => {\n    windowStates.value = {};\n  };\n\n  // Получить состояние конкретного приложения по типу\n  const getAppState = (appType, windowId) => {\n    if (!windowId) return null;\n    const state = windowStates.value[windowId];\n    return state && state.appType === appType ? state : null;\n  };\n  return {\n    windowStates,\n    saveWindowState,\n    getWindowState,\n    deleteWindowState,\n    clearAllStates,\n    getAppState\n  };\n});","map":{"version":3,"names":["defineStore","ref","useAppsStore","windowStates","LOCALSTORAGE_KEY","saveWindowState","windowId","state","value","lastUpdated","Date","now","console","log","getWindowState","deleteWindowState","clearAllStates","getAppState","appType"],"sources":["/home/kup/my_projects/vue/osi/src/stores/apps.store.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport { ref } from 'vue';\n\nexport const useAppsStore = defineStore('apps', () => {\n    // Храним состояния окон по их ID\n    const windowStates = ref({});\n\n    const LOCALSTORAGE_KEY = \"osi_app_store\";\n    \n    // Сохранить состояние окна\n    const saveWindowState = (windowId, state) => {\n        if (!windowId) return;\n        \n        windowStates.value[windowId] = {\n            ...windowStates.value[windowId],\n            ...state,\n            lastUpdated: Date.now()\n        };\n        \n        console.log('State saved for window:', windowId, windowStates.value[windowId]);\n    };\n    \n    // Получить состояние окна\n    const getWindowState = (windowId) => {\n        if (!windowId) return null;\n        return windowStates.value[windowId] || null;\n    };\n    \n    // Удалить состояние окна\n    const deleteWindowState = (windowId) => {\n        if (!windowId) return;\n        delete windowStates.value[windowId];\n    };\n    \n    // Очистить все состояния\n    const clearAllStates = () => {\n        windowStates.value = {};\n    };\n    \n    // Получить состояние конкретного приложения по типу\n    const getAppState = (appType, windowId) => {\n        if (!windowId) return null;\n        const state = windowStates.value[windowId];\n        return state && state.appType === appType ? state : null;\n    };\n    \n    return {\n        windowStates,\n        saveWindowState,\n        getWindowState,\n        deleteWindowState,\n        clearAllStates,\n        getAppState\n    };\n});"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK;AAEzB,OAAO,MAAMC,YAAY,GAAGF,WAAW,CAAC,MAAM,EAAE,MAAM;EAClD;EACA,MAAMG,YAAY,GAAGF,GAAG,CAAC,CAAC,CAAC,CAAC;EAE5B,MAAMG,gBAAgB,GAAG,eAAe;;EAExC;EACA,MAAMC,eAAe,GAAGA,CAACC,QAAQ,EAAEC,KAAK,KAAK;IACzC,IAAI,CAACD,QAAQ,EAAE;IAEfH,YAAY,CAACK,KAAK,CAACF,QAAQ,CAAC,GAAG;MAC3B,GAAGH,YAAY,CAACK,KAAK,CAACF,QAAQ,CAAC;MAC/B,GAAGC,KAAK;MACRE,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC;IAC1B,CAAC;IAEDC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEP,QAAQ,EAAEH,YAAY,CAACK,KAAK,CAACF,QAAQ,CAAC,CAAC;EAClF,CAAC;;EAED;EACA,MAAMQ,cAAc,GAAIR,QAAQ,IAAK;IACjC,IAAI,CAACA,QAAQ,EAAE,OAAO,IAAI;IAC1B,OAAOH,YAAY,CAACK,KAAK,CAACF,QAAQ,CAAC,IAAI,IAAI;EAC/C,CAAC;;EAED;EACA,MAAMS,iBAAiB,GAAIT,QAAQ,IAAK;IACpC,IAAI,CAACA,QAAQ,EAAE;IACf,OAAOH,YAAY,CAACK,KAAK,CAACF,QAAQ,CAAC;EACvC,CAAC;;EAED;EACA,MAAMU,cAAc,GAAGA,CAAA,KAAM;IACzBb,YAAY,CAACK,KAAK,GAAG,CAAC,CAAC;EAC3B,CAAC;;EAED;EACA,MAAMS,WAAW,GAAGA,CAACC,OAAO,EAAEZ,QAAQ,KAAK;IACvC,IAAI,CAACA,QAAQ,EAAE,OAAO,IAAI;IAC1B,MAAMC,KAAK,GAAGJ,YAAY,CAACK,KAAK,CAACF,QAAQ,CAAC;IAC1C,OAAOC,KAAK,IAAIA,KAAK,CAACW,OAAO,KAAKA,OAAO,GAAGX,KAAK,GAAG,IAAI;EAC5D,CAAC;EAED,OAAO;IACHJ,YAAY;IACZE,eAAe;IACfS,cAAc;IACdC,iBAAiB;IACjBC,cAAc;IACdC;EACJ,CAAC;AACL,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}