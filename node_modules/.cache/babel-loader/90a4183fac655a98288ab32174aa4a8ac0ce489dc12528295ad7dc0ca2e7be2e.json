{"ast":null,"code":"/**\r\n * Ref https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\r\n */\nimport { UINT16_LE, UINT32_LE } from \"token-types\";\nexport const Signature = {\n  LocalFileHeader: 0x04034b50,\n  DataDescriptor: 0x08074b50,\n  CentralFileHeader: 0x02014b50,\n  EndOfCentralDirectory: 0x06054b50\n};\nexport const DataDescriptor = {\n  get(array) {\n    return {\n      signature: UINT32_LE.get(array, 0),\n      compressedSize: UINT32_LE.get(array, 8),\n      uncompressedSize: UINT32_LE.get(array, 12)\n    };\n  },\n  len: 16\n};\n/**\r\n * First part of the ZIP Local File Header\r\n * Offset | Bytes| Description\r\n * -------|------+-------------------------------------------------------------------\r\n *      0 |    4 | Signature (0x04034b50)\r\n *      4 |    2 | Minimum version needed to extract\r\n *      6 |    2 | Bit flag\r\n *      8 |    2 | Compression method\r\n *     10 |    2 | File last modification time (MS-DOS format)\r\n *     12 |    2 | File last modification date (MS-DOS format)\r\n *     14 |    4 | CRC-32 of uncompressed data\r\n *     18 |    4 | Compressed size\r\n *     22 |    4 | Uncompressed size\r\n *     26 |    2 | File name length (n)\r\n *     28 |    2 | Extra field length (m)\r\n *     30 |    n | File name\r\n * 30 + n |    m | Extra field\r\n */\nexport const LocalFileHeaderToken = {\n  get(array) {\n    const flags = UINT16_LE.get(array, 6);\n    return {\n      signature: UINT32_LE.get(array, 0),\n      minVersion: UINT16_LE.get(array, 4),\n      dataDescriptor: !!(flags & 0x0008),\n      compressedMethod: UINT16_LE.get(array, 8),\n      compressedSize: UINT32_LE.get(array, 18),\n      uncompressedSize: UINT32_LE.get(array, 22),\n      filenameLength: UINT16_LE.get(array, 26),\n      extraFieldLength: UINT16_LE.get(array, 28),\n      filename: null\n    };\n  },\n  len: 30\n};\n/**\r\n * 4.3.16  End of central directory record:\r\n *  end of central dir signature (0x06064b50)                                      4 bytes\r\n *  number of this disk                                                            2 bytes\r\n *  number of the disk with the start of the central directory                     2 bytes\r\n *  total number of entries in the central directory on this disk                  2 bytes\r\n *  total number of entries in the size of the central directory                   2 bytes\r\n *  sizeOfTheCentralDirectory                                                      4 bytes\r\n *  offset of start of central directory with respect to the starting disk number  4 bytes\r\n *  .ZIP file comment length                                                       2 bytes\r\n *  .ZIP file comment       (variable size)\r\n */\nexport const EndOfCentralDirectoryRecordToken = {\n  get(array) {\n    return {\n      signature: UINT32_LE.get(array, 0),\n      nrOfThisDisk: UINT16_LE.get(array, 4),\n      nrOfThisDiskWithTheStart: UINT16_LE.get(array, 6),\n      nrOfEntriesOnThisDisk: UINT16_LE.get(array, 8),\n      nrOfEntriesOfSize: UINT16_LE.get(array, 10),\n      sizeOfCd: UINT32_LE.get(array, 12),\n      offsetOfStartOfCd: UINT32_LE.get(array, 16),\n      zipFileCommentLength: UINT16_LE.get(array, 20)\n    };\n  },\n  len: 22\n};\n/**\r\n * File header:\r\n *    central file header signature   4 bytes   0 (0x02014b50)\r\n *    version made by                 2 bytes   4\r\n *    version needed to extract       2 bytes   6\r\n *    general purpose bit flag        2 bytes   8\r\n *    compression method              2 bytes  10\r\n *    last mod file time              2 bytes  12\r\n *    last mod file date              2 bytes  14\r\n *    crc-32                          4 bytes  16\r\n *    compressed size                 4 bytes  20\r\n *    uncompressed size               4 bytes  24\r\n *    file name length                2 bytes  28\r\n *    extra field length              2 bytes  30\r\n *    file comment length             2 bytes  32\r\n *    disk number start               2 bytes  34\r\n *    internal file attributes        2 bytes  36\r\n *    external file attributes        4 bytes  38\r\n *    relative offset of local header 4 bytes  42\r\n */\nexport const FileHeader = {\n  get(array) {\n    const flags = UINT16_LE.get(array, 8);\n    return {\n      signature: UINT32_LE.get(array, 0),\n      minVersion: UINT16_LE.get(array, 6),\n      dataDescriptor: !!(flags & 0x0008),\n      compressedMethod: UINT16_LE.get(array, 10),\n      compressedSize: UINT32_LE.get(array, 20),\n      uncompressedSize: UINT32_LE.get(array, 24),\n      filenameLength: UINT16_LE.get(array, 28),\n      extraFieldLength: UINT16_LE.get(array, 30),\n      fileCommentLength: UINT16_LE.get(array, 32),\n      relativeOffsetOfLocalHeader: UINT32_LE.get(array, 42),\n      filename: null\n    };\n  },\n  len: 46\n};","map":{"version":3,"names":["UINT16_LE","UINT32_LE","Signature","LocalFileHeader","DataDescriptor","CentralFileHeader","EndOfCentralDirectory","get","array","signature","compressedSize","uncompressedSize","len","LocalFileHeaderToken","flags","minVersion","dataDescriptor","compressedMethod","filenameLength","extraFieldLength","filename","EndOfCentralDirectoryRecordToken","nrOfThisDisk","nrOfThisDiskWithTheStart","nrOfEntriesOnThisDisk","nrOfEntriesOfSize","sizeOfCd","offsetOfStartOfCd","zipFileCommentLength","FileHeader","fileCommentLength","relativeOffsetOfLocalHeader"],"sources":["C:/projects/My projects/Vue/osi/node_modules/@tokenizer/inflate/lib/ZipToken.js"],"sourcesContent":["/**\r\n * Ref https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\r\n */\r\nimport { UINT16_LE, UINT32_LE } from \"token-types\";\r\nexport const Signature = {\r\n    LocalFileHeader: 0x04034b50,\r\n    DataDescriptor: 0x08074b50,\r\n    CentralFileHeader: 0x02014b50,\r\n    EndOfCentralDirectory: 0x06054b50\r\n};\r\nexport const DataDescriptor = {\r\n    get(array) {\r\n        return {\r\n            signature: UINT32_LE.get(array, 0),\r\n            compressedSize: UINT32_LE.get(array, 8),\r\n            uncompressedSize: UINT32_LE.get(array, 12),\r\n        };\r\n    }, len: 16\r\n};\r\n/**\r\n * First part of the ZIP Local File Header\r\n * Offset | Bytes| Description\r\n * -------|------+-------------------------------------------------------------------\r\n *      0 |    4 | Signature (0x04034b50)\r\n *      4 |    2 | Minimum version needed to extract\r\n *      6 |    2 | Bit flag\r\n *      8 |    2 | Compression method\r\n *     10 |    2 | File last modification time (MS-DOS format)\r\n *     12 |    2 | File last modification date (MS-DOS format)\r\n *     14 |    4 | CRC-32 of uncompressed data\r\n *     18 |    4 | Compressed size\r\n *     22 |    4 | Uncompressed size\r\n *     26 |    2 | File name length (n)\r\n *     28 |    2 | Extra field length (m)\r\n *     30 |    n | File name\r\n * 30 + n |    m | Extra field\r\n */\r\nexport const LocalFileHeaderToken = {\r\n    get(array) {\r\n        const flags = UINT16_LE.get(array, 6);\r\n        return {\r\n            signature: UINT32_LE.get(array, 0),\r\n            minVersion: UINT16_LE.get(array, 4),\r\n            dataDescriptor: !!(flags & 0x0008),\r\n            compressedMethod: UINT16_LE.get(array, 8),\r\n            compressedSize: UINT32_LE.get(array, 18),\r\n            uncompressedSize: UINT32_LE.get(array, 22),\r\n            filenameLength: UINT16_LE.get(array, 26),\r\n            extraFieldLength: UINT16_LE.get(array, 28),\r\n            filename: null\r\n        };\r\n    }, len: 30\r\n};\r\n/**\r\n * 4.3.16  End of central directory record:\r\n *  end of central dir signature (0x06064b50)                                      4 bytes\r\n *  number of this disk                                                            2 bytes\r\n *  number of the disk with the start of the central directory                     2 bytes\r\n *  total number of entries in the central directory on this disk                  2 bytes\r\n *  total number of entries in the size of the central directory                   2 bytes\r\n *  sizeOfTheCentralDirectory                                                      4 bytes\r\n *  offset of start of central directory with respect to the starting disk number  4 bytes\r\n *  .ZIP file comment length                                                       2 bytes\r\n *  .ZIP file comment       (variable size)\r\n */\r\nexport const EndOfCentralDirectoryRecordToken = {\r\n    get(array) {\r\n        return {\r\n            signature: UINT32_LE.get(array, 0),\r\n            nrOfThisDisk: UINT16_LE.get(array, 4),\r\n            nrOfThisDiskWithTheStart: UINT16_LE.get(array, 6),\r\n            nrOfEntriesOnThisDisk: UINT16_LE.get(array, 8),\r\n            nrOfEntriesOfSize: UINT16_LE.get(array, 10),\r\n            sizeOfCd: UINT32_LE.get(array, 12),\r\n            offsetOfStartOfCd: UINT32_LE.get(array, 16),\r\n            zipFileCommentLength: UINT16_LE.get(array, 20),\r\n        };\r\n    }, len: 22\r\n};\r\n/**\r\n * File header:\r\n *    central file header signature   4 bytes   0 (0x02014b50)\r\n *    version made by                 2 bytes   4\r\n *    version needed to extract       2 bytes   6\r\n *    general purpose bit flag        2 bytes   8\r\n *    compression method              2 bytes  10\r\n *    last mod file time              2 bytes  12\r\n *    last mod file date              2 bytes  14\r\n *    crc-32                          4 bytes  16\r\n *    compressed size                 4 bytes  20\r\n *    uncompressed size               4 bytes  24\r\n *    file name length                2 bytes  28\r\n *    extra field length              2 bytes  30\r\n *    file comment length             2 bytes  32\r\n *    disk number start               2 bytes  34\r\n *    internal file attributes        2 bytes  36\r\n *    external file attributes        4 bytes  38\r\n *    relative offset of local header 4 bytes  42\r\n */\r\nexport const FileHeader = {\r\n    get(array) {\r\n        const flags = UINT16_LE.get(array, 8);\r\n        return {\r\n            signature: UINT32_LE.get(array, 0),\r\n            minVersion: UINT16_LE.get(array, 6),\r\n            dataDescriptor: !!(flags & 0x0008),\r\n            compressedMethod: UINT16_LE.get(array, 10),\r\n            compressedSize: UINT32_LE.get(array, 20),\r\n            uncompressedSize: UINT32_LE.get(array, 24),\r\n            filenameLength: UINT16_LE.get(array, 28),\r\n            extraFieldLength: UINT16_LE.get(array, 30),\r\n            fileCommentLength: UINT16_LE.get(array, 32),\r\n            relativeOffsetOfLocalHeader: UINT32_LE.get(array, 42),\r\n            filename: null\r\n        };\r\n    }, len: 46\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,SAAS,QAAQ,aAAa;AAClD,OAAO,MAAMC,SAAS,GAAG;EACrBC,eAAe,EAAE,UAAU;EAC3BC,cAAc,EAAE,UAAU;EAC1BC,iBAAiB,EAAE,UAAU;EAC7BC,qBAAqB,EAAE;AAC3B,CAAC;AACD,OAAO,MAAMF,cAAc,GAAG;EAC1BG,GAAGA,CAACC,KAAK,EAAE;IACP,OAAO;MACHC,SAAS,EAAER,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MAClCE,cAAc,EAAET,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MACvCG,gBAAgB,EAAEV,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE;IAC7C,CAAC;EACL,CAAC;EAAEI,GAAG,EAAE;AACZ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,oBAAoB,GAAG;EAChCN,GAAGA,CAACC,KAAK,EAAE;IACP,MAAMM,KAAK,GAAGd,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;IACrC,OAAO;MACHC,SAAS,EAAER,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MAClCO,UAAU,EAAEf,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MACnCQ,cAAc,EAAE,CAAC,EAAEF,KAAK,GAAG,MAAM,CAAC;MAClCG,gBAAgB,EAAEjB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MACzCE,cAAc,EAAET,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MACxCG,gBAAgB,EAAEV,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC1CU,cAAc,EAAElB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MACxCW,gBAAgB,EAAEnB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC1CY,QAAQ,EAAE;IACd,CAAC;EACL,CAAC;EAAER,GAAG,EAAE;AACZ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMS,gCAAgC,GAAG;EAC5Cd,GAAGA,CAACC,KAAK,EAAE;IACP,OAAO;MACHC,SAAS,EAAER,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MAClCc,YAAY,EAAEtB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MACrCe,wBAAwB,EAAEvB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MACjDgB,qBAAqB,EAAExB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MAC9CiB,iBAAiB,EAAEzB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC3CkB,QAAQ,EAAEzB,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAClCmB,iBAAiB,EAAE1B,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC3CoB,oBAAoB,EAAE5B,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE;IACjD,CAAC;EACL,CAAC;EAAEI,GAAG,EAAE;AACZ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMiB,UAAU,GAAG;EACtBtB,GAAGA,CAACC,KAAK,EAAE;IACP,MAAMM,KAAK,GAAGd,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;IACrC,OAAO;MACHC,SAAS,EAAER,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MAClCO,UAAU,EAAEf,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,CAAC,CAAC;MACnCQ,cAAc,EAAE,CAAC,EAAEF,KAAK,GAAG,MAAM,CAAC;MAClCG,gBAAgB,EAAEjB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC1CE,cAAc,EAAET,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MACxCG,gBAAgB,EAAEV,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC1CU,cAAc,EAAElB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MACxCW,gBAAgB,EAAEnB,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC1CsB,iBAAiB,EAAE9B,SAAS,CAACO,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MAC3CuB,2BAA2B,EAAE9B,SAAS,CAACM,GAAG,CAACC,KAAK,EAAE,EAAE,CAAC;MACrDY,QAAQ,EAAE;IACd,CAAC;EACL,CAAC;EAAER,GAAG,EAAE;AACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}