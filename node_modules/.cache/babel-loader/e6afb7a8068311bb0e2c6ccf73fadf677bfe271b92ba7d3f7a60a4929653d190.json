{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport DesktopArea from './components/os/DesktopArea/DesktopArea.vue';\nimport TaskBar from './components/os/TaskBar/TaskBar.vue';\nimport SimpleWindow from './components/os/SimpleWindow/SimpleWindow.vue';\nimport { useOsStore } from './stores/os.store';\nexport default {\n  name: 'App',\n  components: {\n    DesktopArea,\n    TaskBar,\n    SimpleWindow\n  },\n  data() {\n    return {\n      osStore: null\n    };\n  },\n  methods: {\n    closeWindow(windowId) {\n      if (this.osStore) {\n        this.osStore.closeWindow(windowId);\n      }\n    },\n    minimizeWindow(windowId) {\n      if (this.osStore) {\n        this.osStore.minimizeWindow(windowId);\n      }\n    },\n    toggleMaximizeWindow(windowId) {\n      if (this.osStore) {\n        this.osStore.toggleMaximizeWindow(windowId);\n      }\n    },\n    activateWindow(windowId) {\n      if (this.osStore) {\n        this.osStore.activateWindow(windowId);\n      }\n    }\n  },\n  created() {\n    this.osStore = useOsStore();\n\n    // Отладка\n    console.log('OS Store создан:', this.osStore);\n    console.log('Окна:', this.osStore.windows);\n\n    // Принудительно открой окно для теста\n    setTimeout(() => {\n      console.log('Открываем тестовое окно...');\n      const windowId = this.osStore.openWindow('notepad');\n      console.log('Открыто окно ID:', windowId);\n      console.log('Все окна:', this.osStore.windows);\n    }, 1000);\n  },\n  mounted() {\n    setTimeout(() => {\n      if (this.osStore) {\n        this.osStore.openWindow('notepad');\n      }\n    }, 500);\n  }\n};","map":{"version":3,"names":["DesktopArea","TaskBar","SimpleWindow","useOsStore","name","components","data","osStore","methods","closeWindow","windowId","minimizeWindow","toggleMaximizeWindow","activateWindow","created","console","log","windows","setTimeout","openWindow","mounted"],"sources":["/home/kup/my_projects/vue/osi/src/App.vue"],"sourcesContent":["<template> \n <div class=\"webos\">\n    <!-- Добавь для отладки -->\n    <div style=\"position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; z-index: 9999;\">\n      Окон: {{ osStore?.windows?.length || 0 }}<br>\n      Активное: {{ osStore?.activeWindowId }}<br>\n      Состояния: \n      <div v-for=\"w in osStore?.windows\" :key=\"w.id\">\n        {{ w.title }} - minimized: {{ w.isMinimized }}\n      </div>\n    </div>\n        <DesktopArea>\n            <SimpleWindow v-for=\"window in osStore.windows\"\n                :key=\"window.id\" :windowId=\"window.id\"\n                :title=\"window.title\"\n                :appName=\"window.appName\"\n                :isMinimized=\"window.isMinimized\"\n                :isActive=\"osStore.activeWindowId === window.id\"\n                :isMaximized=\"window.isMaximized\"\n                :zIndex=\"window.zIndex\"\n                @close=\"closeWindow\"\n                @minimize=\"minimizeWindow\"\n                @toggleMaximize=\"toggleMaximizeWindow\"\n                @focus=\"activateWindow\"/>\n        </DesktopArea>\n        <TaskBar />\n    </div>\n</template>\n<style scoped>\n    .webos {\n        height: 100vh; /* 100% высоты viewport */\n        width: 100vw;  /* 100% ширины viewport */\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: #f0f0f0; }/* Фон на случай если что-то не загрузится */\n</style>\n<script>\n    import DesktopArea from './components/os/DesktopArea/DesktopArea.vue'\n    import TaskBar from './components/os/TaskBar/TaskBar.vue'\n    import SimpleWindow from './components/os/SimpleWindow/SimpleWindow.vue'\n    import { useOsStore } from './stores/os.store'\n\n    export default {\n        name: 'App',\n  \n        components: {\n            DesktopArea,\n            TaskBar,\n            SimpleWindow\n        },\n  \n        data() {\n            return {\n                osStore: null\n            }\n        },\n  \n        methods: {\n            closeWindow(windowId) {\n                if (this.osStore) {\n                    this.osStore.closeWindow(windowId);\n                }\n            },\n    \n            minimizeWindow(windowId) {\n                if (this.osStore) {\n                    this.osStore.minimizeWindow(windowId);\n                }\n            },\n    \n            toggleMaximizeWindow(windowId) {\n                if (this.osStore) {\n                    this.osStore.toggleMaximizeWindow(windowId);\n                }\n            },\n    \n            activateWindow(windowId) {\n                if (this.osStore) {\n                    this.osStore.activateWindow(windowId);\n                }\n            }\n        },\n  \n        created() {\n  this.osStore = useOsStore()\n  \n  // Отладка\n  console.log('OS Store создан:', this.osStore)\n  console.log('Окна:', this.osStore.windows)\n  \n  // Принудительно открой окно для теста\n  setTimeout(() => {\n    console.log('Открываем тестовое окно...')\n    const windowId = this.osStore.openWindow('notepad')\n    console.log('Открыто окно ID:', windowId)\n    console.log('Все окна:', this.osStore.windows)\n  }, 1000)\n        },\n  \n        mounted() {\n            setTimeout(() => {\n                if (this.osStore) {\n                    this.osStore.openWindow('notepad');\n                }\n            }, 500)\n        }\n    }\n</script>"],"mappings":";AA2CI,OAAOA,WAAU,MAAO,6CAA4C;AACpE,OAAOC,OAAM,MAAO,qCAAoC;AACxD,OAAOC,YAAW,MAAO,+CAA8C;AACvE,SAASC,UAAS,QAAS,mBAAkB;AAE7C,eAAe;EACXC,IAAI,EAAE,KAAK;EAEXC,UAAU,EAAE;IACRL,WAAW;IACXC,OAAO;IACPC;EACJ,CAAC;EAEDI,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,OAAO,EAAE;IACb;EACJ,CAAC;EAEDC,OAAO,EAAE;IACLC,WAAWA,CAACC,QAAQ,EAAE;MAClB,IAAI,IAAI,CAACH,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACE,WAAW,CAACC,QAAQ,CAAC;MACtC;IACJ,CAAC;IAEDC,cAAcA,CAACD,QAAQ,EAAE;MACrB,IAAI,IAAI,CAACH,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACI,cAAc,CAACD,QAAQ,CAAC;MACzC;IACJ,CAAC;IAEDE,oBAAoBA,CAACF,QAAQ,EAAE;MAC3B,IAAI,IAAI,CAACH,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACK,oBAAoB,CAACF,QAAQ,CAAC;MAC/C;IACJ,CAAC;IAEDG,cAAcA,CAACH,QAAQ,EAAE;MACrB,IAAI,IAAI,CAACH,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACM,cAAc,CAACH,QAAQ,CAAC;MACzC;IACJ;EACJ,CAAC;EAEDI,OAAOA,CAAA,EAAG;IAChB,IAAI,CAACP,OAAM,GAAIJ,UAAU,CAAC;;IAE1B;IACAY,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACT,OAAO;IAC5CQ,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAACT,OAAO,CAACU,OAAO;;IAEzC;IACAC,UAAU,CAAC,MAAM;MACfH,OAAO,CAACC,GAAG,CAAC,4BAA4B;MACxC,MAAMN,QAAO,GAAI,IAAI,CAACH,OAAO,CAACY,UAAU,CAAC,SAAS;MAClDJ,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEN,QAAQ;MACxCK,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE,IAAI,CAACT,OAAO,CAACU,OAAO;IAC/C,CAAC,EAAE,IAAI;EACD,CAAC;EAEDG,OAAOA,CAAA,EAAG;IACNF,UAAU,CAAC,MAAM;MACb,IAAI,IAAI,CAACX,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,CAACY,UAAU,CAAC,SAAS,CAAC;MACtC;IACJ,CAAC,EAAE,GAAG;EACV;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}