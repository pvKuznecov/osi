{"ast":null,"code":"import { ref, onMounted, watch } from 'vue';\nimport { loadComponent } from '@/utils/componentLoader';\nexport default {\n  name: \"SimpleWindow\",\n  props: {\n    windowId: String,\n    title: {\n      type: String,\n      default: 'Окно'\n    },\n    appName: {\n      type: String,\n      default: 'app'\n    },\n    isMinimized: {\n      type: Boolean,\n      default: false\n    },\n    isMaximized: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    },\n    zIndex: {\n      type: Number,\n      default: 100\n    }\n  },\n  setup(props, {\n    emit\n  }) {\n    const loadedComponent = ref(null);\n    const loading = ref(false);\n    const windowConfig = ref({\n      defWidth: 400,\n      defHeight: 400\n    });\n\n    // Загрузка компонента приложения\n    const loadAppComponent = async () => {\n      loading.value = true;\n      try {\n        // Загружаем конфигурацию приложения\n        const {\n          appConfig\n        } = await import('@/config/applications');\n        const app = appConfig.getAppByName(props.appName);\n        if (app && app.window) {\n          windowConfig.value = app.window;\n        }\n\n        // Загружаем сам компонент\n        const component = await loadComponent(props.appName);\n        loadedComponent.value = component;\n      } catch (error) {\n        console.error(`Ошибка загрузки приложения ${props.appName}:`, error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Загружаем компонент при монтировании\n    onMounted(() => {\n      loadAppComponent();\n    });\n\n    // Реагируем на изменение appName\n    watch(() => props.appName, () => {\n      loadAppComponent();\n    });\n\n    // Данные окна (позиция, размер)\n    const posX = ref(100);\n    const posY = ref(100);\n    const windowWidth = ref(windowConfig.value.defWidth);\n    const windowHeight = ref(windowConfig.value.defHeight);\n\n    // ... остальные методы и computed свойства\n\n    return {\n      loadedComponent,\n      loading,\n      windowWidth,\n      windowHeight,\n      posX,\n      posY,\n      windowConfig\n      // ... остальные возвращаемые значения\n    };\n  },\n  // emits: ['close', 'minimize', 'focus', 'toggleMaximize'],\n\n  // data() {\n  //     return {\n  //         posX: 100,\n  //         posY: 100,\n  //         windowWidth: this.defWidth,\n  //         windowHeight: this.defHeight,\n  //         isDragging: false,\n  //         isResizing: false,\n  //         dragOffset: { x: 0, y: 0 },\n  //         resizeDirection: '',\n  //         resizeStart: {\n  //             x: 0,\n  //             y: 0,\n  //             width: 0,\n  //             height: 0,\n  //             mouseX: 0,\n  //             mouseY: 0\n  //         }\n  //     }\n  // },\n\n  computed: {\n    windowStyles() {\n      const baseStyles = {\n        zIndex: this.zIndex\n      };\n      if (this.isMaximized) {\n        return {\n          ...baseStyles,\n          left: '0',\n          top: '0',\n          width: '100vw',\n          height: '100vh',\n          borderRadius: '0'\n        };\n      } else {\n        // Используем размеры из конфига или текущие размеры\n        const width = this.windowWidth || this.windowConfig.defWidth || 400;\n        const height = this.windowHeight || this.windowConfig.defHeight || 400;\n        return {\n          ...baseStyles,\n          left: `${this.posX}px`,\n          top: `${this.posY}px`,\n          width: `${width}px`,\n          height: `${height}px`\n        };\n      }\n    }\n  },\n  mounted() {\n    // Инициализируем размеры из конфига\n    this.windowWidth = this.windowConfig.defWidth;\n    this.windowHeight = this.windowConfig.defHeight;\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n  },\n  beforeUnmount() {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  },\n  methods: {\n    activateWindow() {\n      this.$emit('focus', this.windowId);\n    },\n    startDrag(e) {\n      this.$emit('focus', this.windowId);\n      if (this.isMaximized) return;\n      this.isDragging = true;\n      this.dragOffset = {\n        x: e.clientX - this.posX,\n        y: e.clientY - this.posY\n      };\n      e.stopPropagation();\n    },\n    startResize(direction) {\n      if (this.isMaximized) return;\n      this.$emit('focus', this.windowId);\n      this.isResizing = true;\n      this.resizeDirection = direction;\n      this.resizeStart.x = this.posX;\n      this.resizeStart.y = this.posY;\n      this.resizeStart.width = this.windowWidth;\n      this.resizeStart.height = this.windowHeight;\n      this.resizeStart.mouseX = event.clientX;\n      this.resizeStart.mouseY = event.clientY;\n    },\n    handleMouseMove(e) {\n      if (this.isDragging && !this.isMaximized) {\n        let newX = e.clientX - this.dragOffset.x;\n        let newY = e.clientY - this.dragOffset.y;\n        const maxX = window.innerWidth - this.windowWidth;\n        const maxY = window.innerHeight - this.windowHeight;\n        this.posX = Math.max(0, Math.min(newX, maxX));\n        this.posY = Math.max(0, Math.min(newY, maxY));\n      } else if (this.isResizing && !this.isMaximized) {\n        this.handleResize(e);\n      }\n    },\n    handleResize(e) {\n      const minWidth = 200;\n      const minHeight = 150;\n      const deltaX = e.clientX - this.resizeStart.mouseX;\n      const deltaY = e.clientY - this.resizeStart.mouseY;\n      let newX = this.resizeStart.x;\n      let newY = this.resizeStart.y;\n      let newWidth = this.resizeStart.width;\n      let newHeight = this.resizeStart.height;\n      if (this.resizeDirection.includes('e')) {\n        newWidth = Math.max(minWidth, this.resizeStart.width + deltaX);\n      }\n      if (this.resizeDirection.includes('w')) {\n        newWidth = Math.max(minWidth, this.resizeStart.width - deltaX);\n        newX = this.resizeStart.x + (this.resizeStart.width - newWidth);\n      }\n      if (this.resizeDirection.includes('s')) {\n        newHeight = Math.max(minHeight, this.resizeStart.height + deltaY);\n      }\n      if (this.resizeDirection.includes('n')) {\n        newHeight = Math.max(minHeight, this.resizeStart.height - deltaY);\n        newY = this.resizeStart.y + (this.resizeStart.height - newHeight);\n      }\n      this.posX = newX;\n      this.posY = newY;\n      this.windowWidth = newWidth;\n      this.windowHeight = newHeight;\n      this.keepWindowInBounds();\n    },\n    keepWindowInBounds() {\n      const minWidth = 200;\n      const minHeight = 150;\n      const screenWidth = window.innerWidth;\n      const screenHeight = window.innerHeight;\n      this.windowWidth = Math.max(minWidth, this.windowWidth);\n      this.windowHeight = Math.max(minHeight, this.windowHeight);\n      if (this.posX + this.windowWidth > screenWidth) {\n        this.windowWidth = screenWidth - this.posX;\n      }\n      if (this.posY + this.windowHeight > screenHeight) {\n        this.windowHeight = screenHeight - this.posY;\n      }\n      this.posX = Math.max(0, this.posX);\n      this.posY = Math.max(0, this.posY);\n      this.windowWidth = Math.max(minWidth, this.windowWidth);\n      this.windowHeight = Math.max(minHeight, this.windowHeight);\n    },\n    handleMouseUp() {\n      if (this.isDragging || this.isResizing) {\n        this.keepWindowInBounds();\n      }\n      this.isDragging = false;\n      this.isResizing = false;\n    },\n    minimize() {\n      this.$emit('minimize', this.windowId);\n    },\n    toggleMaximize() {\n      this.$emit('toggleMaximize', this.windowId);\n    },\n    close() {\n      this.$emit('close', this.windowId);\n    }\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","loadComponent","name","props","windowId","String","title","type","default","appName","isMinimized","Boolean","isMaximized","isActive","zIndex","Number","setup","emit","loadedComponent","loading","windowConfig","defWidth","defHeight","loadAppComponent","value","appConfig","app","getAppByName","window","component","error","console","posX","posY","windowWidth","windowHeight","computed","windowStyles","baseStyles","left","top","width","height","borderRadius","mounted","document","addEventListener","handleMouseMove","handleMouseUp","beforeUnmount","removeEventListener","methods","activateWindow","$emit","startDrag","e","isDragging","dragOffset","x","clientX","y","clientY","stopPropagation","startResize","direction","isResizing","resizeDirection","resizeStart","mouseX","event","mouseY","newX","newY","maxX","innerWidth","maxY","innerHeight","Math","max","min","handleResize","minWidth","minHeight","deltaX","deltaY","newWidth","newHeight","includes","keepWindowInBounds","screenWidth","screenHeight","minimize","toggleMaximize","close"],"sources":["/home/kup/my_projects/vue/osi/src/components/os/SimpleWindow/SimpleWindow.vue"],"sourcesContent":["<template>\n    <div v-if=\"!isMinimized\" class=\"simple-window\" :class=\"{ 'active': isActive, 'maximized': isMaximized }\" :style=\"windowStyles\" @mousedown=\"activateWindow\">\n        <!-- Заголовок окна -->\n        <div class=\"window-header\" @mousedown=\"startDrag\" @dblclick=\"toggleMaximize\">\n            <span class=\"window-title\">\n                {{ title }}\n                <span v-if=\"loading\" class=\"loading-indicator\"> (загрузка...)</span>\n            </span>\n            <div class=\"window-controls\">\n                <button class=\"window-btn minimize\" @click=\"minimize\">_</button>\n                <button class=\"window-btn maximize\" @click=\"toggleMaximize\">{{ isMaximized ? '❐' : '□' }}</button>\n                <button class=\"window-btn close\" @click=\"close\">✕</button>\n            </div>\n        </div>\n        \n        <!-- Содержимое окна -->\n        <div class=\"window-content\">\n            <slot>\n                <!-- Динамический компонент с автозагрузкой -->\n                <Suspense>\n                    <template #default>\n                        <component \n                            v-if=\"loadedComponent\" \n                            :is=\"loadedComponent\" \n                            :window-id=\"windowId\"\n                        />\n                    </template>\n                    <template #fallback>\n                        <div class=\"app-loading-fallback\">\n                            <div class=\"spinner\"></div>\n                            <p>Загрузка {{ title }}...</p>\n                        </div>\n                    </template>\n                </Suspense>\n                \n                <!-- Fallback, если компонент не загрузился -->\n                <div v-if=\"!loadedComponent && !loading\" class=\"default-content\">\n                    <p>Приложение \"{{ appName }}\" не может быть загружено</p>\n                    <p>Проверьте конфигурацию приложения</p>\n                </div>\n            </slot>\n        </div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-top\" @mousedown=\"startResize('n')\"></div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-right\" @mousedown=\"startResize('e')\"></div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-bottom\" @mousedown=\"startResize('s')\"></div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-left\" @mousedown=\"startResize('w')\"></div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-top-right\" @mousedown=\"startResize('ne')\"></div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-bottom-right\" @mousedown=\"startResize('se')\"></div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-bottom-left\" @mousedown=\"startResize('sw')\"></div>\n        <div v-if=\"!isMaximized\" class=\"resize-handle resize-top-left\" @mousedown=\"startResize('nw')\"></div>\n    </div>\n</template>\n<script>\n    import { ref, onMounted, watch } from 'vue';\n    import { loadComponent } from '@/utils/componentLoader';\n\n    export default {\n        name: \"SimpleWindow\",\n\n        props: {\n            windowId: String,\n            title: {\n                type: String,\n                default: 'Окно'\n            },\n            appName: {\n                type: String,\n                default: 'app'\n            },\n            isMinimized: {\n                type: Boolean,\n                default: false\n            },\n            isMaximized: {\n                type: Boolean,\n                default: false\n            },\n            isActive: {\n                type: Boolean,\n                default: false\n            },\n            zIndex: {\n                type: Number,\n                default: 100\n            },\n        },\n\n        setup(props, { emit }) {\n            const loadedComponent = ref(null);\n            const loading = ref(false);\n            const windowConfig = ref({\n                defWidth: 400,\n                defHeight: 400\n            });\n            \n            // Загрузка компонента приложения\n            const loadAppComponent = async () => {\n                loading.value = true;\n                try {\n                    // Загружаем конфигурацию приложения\n                    const { appConfig } = await import('@/config/applications');\n                    const app = appConfig.getAppByName(props.appName);\n                    \n                    if (app && app.window) {\n                        windowConfig.value = app.window;\n                    }\n                    \n                    // Загружаем сам компонент\n                    const component = await loadComponent(props.appName);\n                    loadedComponent.value = component;\n                } catch (error) {\n                    console.error(`Ошибка загрузки приложения ${props.appName}:`, error);\n                } finally {\n                    loading.value = false;\n                }\n            };\n            \n            // Загружаем компонент при монтировании\n            onMounted(() => {\n                loadAppComponent();\n            });\n            \n            // Реагируем на изменение appName\n            watch(() => props.appName, () => {\n                loadAppComponent();\n            });\n            \n            // Данные окна (позиция, размер)\n            const posX = ref(100);\n            const posY = ref(100);\n            const windowWidth = ref(windowConfig.value.defWidth);\n            const windowHeight = ref(windowConfig.value.defHeight);\n            \n            // ... остальные методы и computed свойства\n            \n            return {\n                loadedComponent,\n                loading,\n                windowWidth,\n                windowHeight,\n                posX,\n                posY,\n                windowConfig,\n                // ... остальные возвращаемые значения\n            };\n        },\n  \n        // emits: ['close', 'minimize', 'focus', 'toggleMaximize'],\n  \n        // data() {\n        //     return {\n        //         posX: 100,\n        //         posY: 100,\n        //         windowWidth: this.defWidth,\n        //         windowHeight: this.defHeight,\n        //         isDragging: false,\n        //         isResizing: false,\n        //         dragOffset: { x: 0, y: 0 },\n        //         resizeDirection: '',\n        //         resizeStart: {\n        //             x: 0,\n        //             y: 0,\n        //             width: 0,\n        //             height: 0,\n        //             mouseX: 0,\n        //             mouseY: 0\n        //         }\n        //     }\n        // },\n  \n        computed: {\n            windowStyles() {\n                const baseStyles = { zIndex: this.zIndex };\n                \n                if (this.isMaximized) {\n                    return {\n                        ...baseStyles,\n                        left: '0',\n                        top: '0',\n                        width: '100vw',\n                        height: '100vh',\n                        borderRadius: '0'\n                    };\n                } else {\n                    // Используем размеры из конфига или текущие размеры\n                    const width = this.windowWidth || this.windowConfig.defWidth || 400;\n                    const height = this.windowHeight || this.windowConfig.defHeight || 400;\n                    \n                    return {\n                        ...baseStyles,\n                        left: `${this.posX}px`,\n                        top: `${this.posY}px`,\n                        width: `${width}px`,\n                        height: `${height}px`\n                    };\n                }\n            }\n        },\n  \n        mounted() {\n            // Инициализируем размеры из конфига\n            this.windowWidth = this.windowConfig.defWidth;\n            this.windowHeight = this.windowConfig.defHeight;\n            \n            document.addEventListener('mousemove', this.handleMouseMove);\n            document.addEventListener('mouseup', this.handleMouseUp);\n        },\n  \n        beforeUnmount() {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n        },\n  \n        methods: {\n            activateWindow() {\n                this.$emit('focus', this.windowId);\n            },\n    \n            startDrag(e) {\n                this.$emit('focus', this.windowId);\n      \n                if (this.isMaximized) return;\n      \n                this.isDragging = true;\n                this.dragOffset = {\n                    x: e.clientX - this.posX,\n                    y: e.clientY - this.posY\n                };\n      \n                e.stopPropagation();\n            },\n    \n            startResize(direction) {\n                if (this.isMaximized) return;\n      \n                this.$emit('focus', this.windowId);\n      \n                this.isResizing = true;\n                this.resizeDirection = direction;\n      \n                this.resizeStart.x = this.posX;\n                this.resizeStart.y = this.posY;\n                this.resizeStart.width = this.windowWidth;\n                this.resizeStart.height = this.windowHeight;\n                this.resizeStart.mouseX = event.clientX;\n                this.resizeStart.mouseY = event.clientY;\n            },\n    \n            handleMouseMove(e) {\n                if (this.isDragging && !this.isMaximized) {\n                    let newX = e.clientX - this.dragOffset.x;\n                    let newY = e.clientY - this.dragOffset.y;\n        \n                    const maxX = window.innerWidth - this.windowWidth;\n                    const maxY = window.innerHeight - this.windowHeight;\n        \n                    this.posX = Math.max(0, Math.min(newX, maxX));\n                    this.posY = Math.max(0, Math.min(newY, maxY));\n                } else if (this.isResizing && !this.isMaximized) {\n                    this.handleResize(e);\n                }\n            },\n    \n            handleResize(e) {\n                const minWidth = 200;\n                const minHeight = 150;\n                const deltaX = e.clientX - this.resizeStart.mouseX;\n                const deltaY = e.clientY - this.resizeStart.mouseY;                \n      \n                let newX = this.resizeStart.x;\n                let newY = this.resizeStart.y;\n                let newWidth = this.resizeStart.width;\n                let newHeight = this.resizeStart.height;\n      \n                if (this.resizeDirection.includes('e')) {\n                    newWidth = Math.max(minWidth, this.resizeStart.width + deltaX);\n                }\n      \n                if (this.resizeDirection.includes('w')) {\n                    newWidth = Math.max(minWidth, this.resizeStart.width - deltaX);\n                    newX = this.resizeStart.x + (this.resizeStart.width - newWidth);\n                }\n      \n                if (this.resizeDirection.includes('s')) {\n                    newHeight = Math.max(minHeight, this.resizeStart.height + deltaY);\n                }\n      \n                if (this.resizeDirection.includes('n')) {\n                    newHeight = Math.max(minHeight, this.resizeStart.height - deltaY);\n                    newY = this.resizeStart.y + (this.resizeStart.height - newHeight);\n                }\n      \n                this.posX = newX;\n                this.posY = newY;\n                this.windowWidth = newWidth;\n                this.windowHeight = newHeight;\n      \n                this.keepWindowInBounds();\n            },\n    \n            keepWindowInBounds() {\n                const minWidth = 200;\n                const minHeight = 150;\n                const screenWidth = window.innerWidth;\n                const screenHeight = window.innerHeight;\n      \n                this.windowWidth = Math.max(minWidth, this.windowWidth);\n                this.windowHeight = Math.max(minHeight, this.windowHeight);\n      \n                if (this.posX + this.windowWidth > screenWidth) {\n                    this.windowWidth = screenWidth - this.posX;\n                }\n      \n                if (this.posY + this.windowHeight > screenHeight) {\n                    this.windowHeight = screenHeight - this.posY;\n                }\n      \n                this.posX = Math.max(0, this.posX);\n                this.posY = Math.max(0, this.posY);\n      \n                this.windowWidth = Math.max(minWidth, this.windowWidth);\n                this.windowHeight = Math.max(minHeight, this.windowHeight);\n            },\n    \n            handleMouseUp() {\n                if (this.isDragging || this.isResizing) {\n                    this.keepWindowInBounds();\n                }\n      \n                this.isDragging = false;\n                this.isResizing = false;\n            },\n    \n            minimize() { this.$emit('minimize', this.windowId); },\n    \n            toggleMaximize() { this.$emit('toggleMaximize', this.windowId); },\n    \n            close() { this.$emit('close', this.windowId); }\n        }\n    }\n</script>\n<style>\n/* Добавляем стили для индикаторов загрузки */\n.app-loading-fallback {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    color: #666;\n}\n\n.spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid #0078d4;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin-bottom: 10px;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n.loading-indicator {\n    font-size: 0.8em;\n    opacity: 0.7;\n}\n\n.simple-window {\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    background: white;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    transition: all 0.2s ease;\n    border: 1px solid #ccc; }\n\n.simple-window.active {\n    border-color: rgba(57, 0, 212, 0.342);\n    box-shadow: 0 6px 20px rgba(0, 120, 212, 0.25); }\n\n.simple-window.maximized {\n    border-radius: 0;\n    box-shadow: none;\n    border: none; }\n\n.window-header {\n    display: flex;\n    background: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.85));\n    color: white;\n    padding: 8px 12px;  \n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid #ccc;\n    cursor: move;\n    user-select: none; }\n\n.simple-window.maximized .window-header {\n    cursor: default;\n    padding-top: 12px; }\n\n.window-title {\n    font-weight: bold;\n    font-size: 14px; }\n\n.window-controls {\n    display: flex;\n    gap: 4px; }\n\n.window-btn {\n    display: flex;\n    width: 24px;\n    height: 24px;\n    border: 1px solid #aaa;\n    background: #f9f9f9;\n    border-radius: 3px;\n    cursor: pointer;  \n    align-items: center;\n    justify-content: center;\n    font-size: 12px;\n    transition: all 0.2s; }\n\n.window-btn:hover { background: #e9e9e9; }\n\n.window-btn.maximize:hover { background: #e0e0e0; }\n\n.window-btn.close:hover {\n    background: #e81123;\n    color: white;\n    border-color: #e81123; }\n\n.window-content {\n    flex: 1;\n    /* padding: 16px; */\n    overflow: auto;\n    background: white;\n    cursor: default; }\n\n.default-content { color: #666; }\n\n.default-content p { margin: 4px 0; }\n\n/* Ручки изменения размера */\n.resize-handle {\n    position: absolute;\n    background: transparent;\n    z-index: 10; }\n\n.resize-top {\n    height: 5px;\n    top: 0;\n    left: 5px;\n    right: 5px;\n    cursor: n-resize; }\n\n.resize-right {\n    width: 5px;\n    top: 5px;\n    right: 0;\n    bottom: 5px;\n    cursor: e-resize; }\n\n.resize-bottom {\n    height: 5px;\n    bottom: 0;\n    left: 5px;\n    right: 5px;\n    cursor: s-resize; }\n\n.resize-left {\n    width: 5px;\n    top: 5px;\n    left: 0;\n    bottom: 5px;    \n    cursor: w-resize; }\n\n.resize-top-right {\n    width: 10px;\n    height: 10px;\n    top: 0;\n    right: 0;    \n    cursor: ne-resize; }\n\n.resize-bottom-right {\n    width: 10px;\n    height: 10px;\n    bottom: 0;\n    right: 0;    \n    cursor: se-resize; }\n\n.resize-bottom-left {\n    width: 10px;\n    height: 10px;\n    bottom: 0;\n    left: 0;\n    cursor: sw-resize; }\n\n.resize-top-left {\n    width: 10px;\n    height: 10px;\n    top: 0;\n    left: 0;\n    cursor: nw-resize; }\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}