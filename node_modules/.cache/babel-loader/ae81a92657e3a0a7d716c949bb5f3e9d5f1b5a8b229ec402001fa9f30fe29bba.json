{"ast":null,"code":"import \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport * as Token from 'token-types';\nimport * as util from '../common/Util.js';\nimport { StringType } from 'token-types';\nexport const PageHeader = {\n  len: 27,\n  get: (buf, off) => {\n    return {\n      capturePattern: new StringType(4, 'latin1').get(buf, off),\n      version: Token.UINT8.get(buf, off + 4),\n      headerType: {\n        continued: util.getBit(buf, off + 5, 0),\n        firstPage: util.getBit(buf, off + 5, 1),\n        lastPage: util.getBit(buf, off + 5, 2)\n      },\n      // packet_flag: Token.UINT8.get(buf, off + 5),\n      absoluteGranulePosition: Number(Token.UINT64_LE.get(buf, off + 6)),\n      streamSerialNumber: Token.UINT32_LE.get(buf, off + 14),\n      pageSequenceNo: Token.UINT32_LE.get(buf, off + 18),\n      pageChecksum: Token.UINT32_LE.get(buf, off + 22),\n      page_segments: Token.UINT8.get(buf, off + 26)\n    };\n  }\n};\nexport class SegmentTable {\n  static sum(buf, off, len) {\n    const dv = new DataView(buf.buffer, 0);\n    let s = 0;\n    for (let i = off; i < off + len; ++i) {\n      s += dv.getUint8(i);\n    }\n    return s;\n  }\n  constructor(header) {\n    this.len = header.page_segments;\n  }\n  get(buf, off) {\n    return {\n      totalPageSize: SegmentTable.sum(buf, off, this.len)\n    };\n  }\n}","map":{"version":3,"names":["Token","util","StringType","PageHeader","len","get","buf","off","capturePattern","version","UINT8","headerType","continued","getBit","firstPage","lastPage","absoluteGranulePosition","Number","UINT64_LE","streamSerialNumber","UINT32_LE","pageSequenceNo","pageChecksum","page_segments","SegmentTable","sum","dv","DataView","buffer","s","i","getUint8","constructor","header","totalPageSize"],"sources":["C:/projects/My projects/Vue/osi/node_modules/music-metadata/lib/ogg/OggToken.js"],"sourcesContent":["import * as Token from 'token-types';\r\nimport * as util from '../common/Util.js';\r\nimport { StringType } from 'token-types';\r\nexport const PageHeader = {\r\n    len: 27,\r\n    get: (buf, off) => {\r\n        return {\r\n            capturePattern: new StringType(4, 'latin1').get(buf, off),\r\n            version: Token.UINT8.get(buf, off + 4),\r\n            headerType: {\r\n                continued: util.getBit(buf, off + 5, 0),\r\n                firstPage: util.getBit(buf, off + 5, 1),\r\n                lastPage: util.getBit(buf, off + 5, 2)\r\n            },\r\n            // packet_flag: Token.UINT8.get(buf, off + 5),\r\n            absoluteGranulePosition: Number(Token.UINT64_LE.get(buf, off + 6)),\r\n            streamSerialNumber: Token.UINT32_LE.get(buf, off + 14),\r\n            pageSequenceNo: Token.UINT32_LE.get(buf, off + 18),\r\n            pageChecksum: Token.UINT32_LE.get(buf, off + 22),\r\n            page_segments: Token.UINT8.get(buf, off + 26)\r\n        };\r\n    }\r\n};\r\nexport class SegmentTable {\r\n    static sum(buf, off, len) {\r\n        const dv = new DataView(buf.buffer, 0);\r\n        let s = 0;\r\n        for (let i = off; i < off + len; ++i) {\r\n            s += dv.getUint8(i);\r\n        }\r\n        return s;\r\n    }\r\n    constructor(header) {\r\n        this.len = header.page_segments;\r\n    }\r\n    get(buf, off) {\r\n        return {\r\n            totalPageSize: SegmentTable.sum(buf, off, this.len)\r\n        };\r\n    }\r\n}\r\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,aAAa;AACpC,OAAO,KAAKC,IAAI,MAAM,mBAAmB;AACzC,SAASC,UAAU,QAAQ,aAAa;AACxC,OAAO,MAAMC,UAAU,GAAG;EACtBC,GAAG,EAAE,EAAE;EACPC,GAAG,EAAEA,CAACC,GAAG,EAAEC,GAAG,KAAK;IACf,OAAO;MACHC,cAAc,EAAE,IAAIN,UAAU,CAAC,CAAC,EAAE,QAAQ,CAAC,CAACG,GAAG,CAACC,GAAG,EAAEC,GAAG,CAAC;MACzDE,OAAO,EAAET,KAAK,CAACU,KAAK,CAACL,GAAG,CAACC,GAAG,EAAEC,GAAG,GAAG,CAAC,CAAC;MACtCI,UAAU,EAAE;QACRC,SAAS,EAAEX,IAAI,CAACY,MAAM,CAACP,GAAG,EAAEC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;QACvCO,SAAS,EAAEb,IAAI,CAACY,MAAM,CAACP,GAAG,EAAEC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;QACvCQ,QAAQ,EAAEd,IAAI,CAACY,MAAM,CAACP,GAAG,EAAEC,GAAG,GAAG,CAAC,EAAE,CAAC;MACzC,CAAC;MACD;MACAS,uBAAuB,EAAEC,MAAM,CAACjB,KAAK,CAACkB,SAAS,CAACb,GAAG,CAACC,GAAG,EAAEC,GAAG,GAAG,CAAC,CAAC,CAAC;MAClEY,kBAAkB,EAAEnB,KAAK,CAACoB,SAAS,CAACf,GAAG,CAACC,GAAG,EAAEC,GAAG,GAAG,EAAE,CAAC;MACtDc,cAAc,EAAErB,KAAK,CAACoB,SAAS,CAACf,GAAG,CAACC,GAAG,EAAEC,GAAG,GAAG,EAAE,CAAC;MAClDe,YAAY,EAAEtB,KAAK,CAACoB,SAAS,CAACf,GAAG,CAACC,GAAG,EAAEC,GAAG,GAAG,EAAE,CAAC;MAChDgB,aAAa,EAAEvB,KAAK,CAACU,KAAK,CAACL,GAAG,CAACC,GAAG,EAAEC,GAAG,GAAG,EAAE;IAChD,CAAC;EACL;AACJ,CAAC;AACD,OAAO,MAAMiB,YAAY,CAAC;EACtB,OAAOC,GAAGA,CAACnB,GAAG,EAAEC,GAAG,EAAEH,GAAG,EAAE;IACtB,MAAMsB,EAAE,GAAG,IAAIC,QAAQ,CAACrB,GAAG,CAACsB,MAAM,EAAE,CAAC,CAAC;IACtC,IAAIC,CAAC,GAAG,CAAC;IACT,KAAK,IAAIC,CAAC,GAAGvB,GAAG,EAAEuB,CAAC,GAAGvB,GAAG,GAAGH,GAAG,EAAE,EAAE0B,CAAC,EAAE;MAClCD,CAAC,IAAIH,EAAE,CAACK,QAAQ,CAACD,CAAC,CAAC;IACvB;IACA,OAAOD,CAAC;EACZ;EACAG,WAAWA,CAACC,MAAM,EAAE;IAChB,IAAI,CAAC7B,GAAG,GAAG6B,MAAM,CAACV,aAAa;EACnC;EACAlB,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAE;IACV,OAAO;MACH2B,aAAa,EAAEV,YAAY,CAACC,GAAG,CAACnB,GAAG,EAAEC,GAAG,EAAE,IAAI,CAACH,GAAG;IACtD,CAAC;EACL;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}