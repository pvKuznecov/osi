{"ast":null,"code":"import * as Token from 'token-types';\nimport { textDecode } from '@borewit/text-codec';\nexport class VorbisDecoder {\n  constructor(data, offset) {\n    this.data = data;\n    this.offset = offset;\n  }\n  readInt32() {\n    const value = Token.UINT32_LE.get(this.data, this.offset);\n    this.offset += 4;\n    return value;\n  }\n  readStringUtf8() {\n    const len = this.readInt32();\n    const value = textDecode(this.data.subarray(this.offset, this.offset + len), 'utf-8');\n    this.offset += len;\n    return value;\n  }\n  parseUserComment() {\n    const offset0 = this.offset;\n    const v = this.readStringUtf8();\n    const idx = v.indexOf('=');\n    return {\n      key: v.substring(0, idx).toUpperCase(),\n      value: v.substring(idx + 1),\n      len: this.offset - offset0\n    };\n  }\n}","map":{"version":3,"names":["Token","textDecode","VorbisDecoder","constructor","data","offset","readInt32","value","UINT32_LE","get","readStringUtf8","len","subarray","parseUserComment","offset0","v","idx","indexOf","key","substring","toUpperCase"],"sources":["/home/kup/my_projects/vue/osi/node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js"],"sourcesContent":["import * as Token from 'token-types';\nimport { textDecode } from '@borewit/text-codec';\nexport class VorbisDecoder {\n    constructor(data, offset) {\n        this.data = data;\n        this.offset = offset;\n    }\n    readInt32() {\n        const value = Token.UINT32_LE.get(this.data, this.offset);\n        this.offset += 4;\n        return value;\n    }\n    readStringUtf8() {\n        const len = this.readInt32();\n        const value = textDecode(this.data.subarray(this.offset, this.offset + len), 'utf-8');\n        this.offset += len;\n        return value;\n    }\n    parseUserComment() {\n        const offset0 = this.offset;\n        const v = this.readStringUtf8();\n        const idx = v.indexOf('=');\n        return {\n            key: v.substring(0, idx).toUpperCase(),\n            value: v.substring(idx + 1),\n            len: this.offset - offset0\n        };\n    }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,aAAa;AACpC,SAASC,UAAU,QAAQ,qBAAqB;AAChD,OAAO,MAAMC,aAAa,CAAC;EACvBC,WAAWA,CAACC,IAAI,EAAEC,MAAM,EAAE;IACtB,IAAI,CAACD,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,MAAM,GAAGA,MAAM;EACxB;EACAC,SAASA,CAAA,EAAG;IACR,MAAMC,KAAK,GAAGP,KAAK,CAACQ,SAAS,CAACC,GAAG,CAAC,IAAI,CAACL,IAAI,EAAE,IAAI,CAACC,MAAM,CAAC;IACzD,IAAI,CAACA,MAAM,IAAI,CAAC;IAChB,OAAOE,KAAK;EAChB;EACAG,cAAcA,CAAA,EAAG;IACb,MAAMC,GAAG,GAAG,IAAI,CAACL,SAAS,CAAC,CAAC;IAC5B,MAAMC,KAAK,GAAGN,UAAU,CAAC,IAAI,CAACG,IAAI,CAACQ,QAAQ,CAAC,IAAI,CAACP,MAAM,EAAE,IAAI,CAACA,MAAM,GAAGM,GAAG,CAAC,EAAE,OAAO,CAAC;IACrF,IAAI,CAACN,MAAM,IAAIM,GAAG;IAClB,OAAOJ,KAAK;EAChB;EACAM,gBAAgBA,CAAA,EAAG;IACf,MAAMC,OAAO,GAAG,IAAI,CAACT,MAAM;IAC3B,MAAMU,CAAC,GAAG,IAAI,CAACL,cAAc,CAAC,CAAC;IAC/B,MAAMM,GAAG,GAAGD,CAAC,CAACE,OAAO,CAAC,GAAG,CAAC;IAC1B,OAAO;MACHC,GAAG,EAAEH,CAAC,CAACI,SAAS,CAAC,CAAC,EAAEH,GAAG,CAAC,CAACI,WAAW,CAAC,CAAC;MACtCb,KAAK,EAAEQ,CAAC,CAACI,SAAS,CAACH,GAAG,GAAG,CAAC,CAAC;MAC3BL,GAAG,EAAE,IAAI,CAACN,MAAM,GAAGS;IACvB,CAAC;EACL;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}