{"ast":null,"code":"export default {\n  name: \"SimpleWindow\",\n  props: {\n    windowId: String,\n    title: {\n      type: String,\n      default: 'Окно'\n    },\n    appName: {\n      type: String,\n      default: 'app'\n    },\n    isMinimized: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    },\n    isMaximized: {\n      // ДОБАВЛЯЕМ пропс для максимизации\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['close', 'minimize', 'focus', 'toggleMaximize'],\n  // ДОБАВЛЯЕМ событие\n\n  data() {\n    return {\n      posX: 100,\n      posY: 100,\n      windowWidth: 400,\n      windowHeight: 300,\n      isDragging: false,\n      isResizing: false,\n      dragOffset: {\n        x: 0,\n        y: 0\n      },\n      resizeDirection: '',\n      originalState: null // Для сохранения состояния перед максимизацией\n    };\n  },\n  computed: {\n    isVisible() {\n      return !this.isMinimized;\n    },\n    windowStyles() {\n      if (this.isMaximized) {\n        // В максимизированном состоянии занимаем весь экран\n        return {\n          left: '0',\n          top: '0',\n          width: '100vw',\n          height: '100vh',\n          borderRadius: '0',\n          zIndex: this.isActive ? 9999 : 100\n        };\n      } else {\n        // В обычном состоянии используем сохраненные позиции\n        return {\n          left: `${this.posX}px`,\n          top: `${this.posY}px`,\n          width: `${this.windowWidth}px`,\n          height: `${this.windowHeight}px`,\n          zIndex: this.isActive ? 1000 : 100\n        };\n      }\n    }\n  },\n  watch: {\n    // При изменении пропса isMaximized извне (например, из хранилища)\n    isMaximized(newVal) {\n      if (newVal && !this.originalState) {\n        // Сохраняем текущее состояние перед максимизацией\n        this.saveOriginalState();\n      } else if (!newVal && this.originalState) {\n        // Восстанавливаем сохраненное состояние\n        this.restoreOriginalState();\n      }\n    }\n  },\n  mounted() {\n    // Добавляем глобальные обработчики для перетаскивания и изменения размера\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n  },\n  beforeUnmount() {\n    // Убираем глобальные обработчики при уничтожении компонента\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  },\n  methods: {\n    saveOriginalState() {\n      this.originalState = {\n        posX: this.posX,\n        posY: this.posY,\n        windowWidth: this.windowWidth,\n        windowHeight: this.windowHeight\n      };\n    },\n    restoreOriginalState() {\n      if (this.originalState) {\n        this.posX = this.originalState.posX;\n        this.posY = this.originalState.posY;\n        this.windowWidth = this.originalState.windowWidth;\n        this.windowHeight = this.originalState.windowHeight;\n      }\n    },\n    toggleMaximizeOnDoubleClick(e) {\n      if (e.target.closest('.window-header') && !e.target.closest('.window-controls')) {\n        this.toggleMaximize();\n      }\n    },\n    focusWindow(e) {\n      this.$emit('focus', this.windowId);\n\n      // Не начинаем перетаскивание если максимизировано или кликнули не на заголовок\n      if (this.isMaximized || !e.target.closest('.window-header')) {\n        return;\n      }\n      this.startDrag(e);\n    },\n    startDrag(e) {\n      this.isDragging = true;\n      this.dragOffset = {\n        x: e.clientX - this.posX,\n        y: e.clientY - this.posY\n      };\n    },\n    startResize(direction) {\n      if (this.isMaximized) return; // Не изменяем размер если максимизировано\n\n      this.isResizing = true;\n      this.resizeDirection = direction;\n      this.resizeStartX = this.posX;\n      this.resizeStartY = this.posY;\n      this.resizeStartWidth = this.windowWidth;\n      this.resizeStartHeight = this.windowHeight;\n      this.resizeStartMouseX = event.clientX;\n      this.resizeStartMouseY = event.clientY;\n    },\n    handleMouseMove(e) {\n      if (this.isDragging && !this.isMaximized) {\n        // Перетаскивание окна\n        this.posX = e.clientX - this.dragOffset.x;\n        this.posY = e.clientY - this.dragOffset.y;\n\n        // Ограничиваем перемещение в пределах экрана\n        this.keepWindowInBounds();\n      } else if (this.isResizing && !this.isMaximized) {\n        // Изменение размера окна\n        this.handleResize(e);\n      }\n    },\n    handleResize(e) {\n      const deltaX = e.clientX - this.resizeStartMouseX;\n      const deltaY = e.clientY - this.resizeStartMouseY;\n\n      // Минимальные размеры окна\n      const minWidth = 200;\n      const minHeight = 150;\n      if (this.resizeDirection.includes('e')) {\n        // Изменяем правую границу\n        this.windowWidth = Math.max(minWidth, this.resizeStartWidth + deltaX);\n      }\n      if (this.resizeDirection.includes('w')) {\n        // Изменяем левую границу\n        const newWidth = Math.max(minWidth, this.resizeStartWidth - deltaX);\n        if (newWidth >= minWidth) {\n          this.posX = this.resizeStartX + deltaX;\n          this.windowWidth = newWidth;\n        }\n      }\n      if (this.resizeDirection.includes('s')) {\n        // Изменяем нижнюю границу\n        this.windowHeight = Math.max(minHeight, this.resizeStartHeight + deltaY);\n      }\n      if (this.resizeDirection.includes('n')) {\n        // Изменяем верхнюю границу\n        const newHeight = Math.max(minHeight, this.resizeStartHeight - deltaY);\n        if (newHeight >= minHeight) {\n          this.posY = this.resizeStartY + deltaY;\n          this.windowHeight = newHeight;\n        }\n      }\n\n      // Ограничиваем окно в пределах экрана\n      this.keepWindowInBounds();\n    },\n    keepWindowInBounds() {\n      const maxX = window.innerWidth - 50;\n      const maxY = window.innerHeight - 50;\n      this.posX = Math.max(0, Math.min(this.posX, maxX));\n      this.posY = Math.max(0, Math.min(this.posY, maxY));\n\n      // Ограничиваем размер окна\n      const maxWidth = window.innerWidth - this.posX;\n      const maxHeight = window.innerHeight - this.posY;\n      this.windowWidth = Math.min(this.windowWidth, maxWidth);\n      this.windowHeight = Math.min(this.windowHeight, maxHeight);\n    },\n    handleMouseUp() {\n      this.isDragging = false;\n      this.isResizing = false;\n    },\n    minimize() {\n      this.$emit('minimize', this.windowId);\n    },\n    toggleMaximize() {\n      this.$emit('toggleMaximize', this.windowId);\n    },\n    close() {\n      this.$emit('close', this.windowId);\n    }\n  }\n};","map":{"version":3,"names":["name","props","windowId","String","title","type","default","appName","isMinimized","Boolean","isActive","isMaximized","emits","data","posX","posY","windowWidth","windowHeight","isDragging","isResizing","dragOffset","x","y","resizeDirection","originalState","computed","isVisible","windowStyles","left","top","width","height","borderRadius","zIndex","watch","newVal","saveOriginalState","restoreOriginalState","mounted","document","addEventListener","handleMouseMove","handleMouseUp","beforeUnmount","removeEventListener","methods","toggleMaximizeOnDoubleClick","e","target","closest","toggleMaximize","focusWindow","$emit","startDrag","clientX","clientY","startResize","direction","resizeStartX","resizeStartY","resizeStartWidth","resizeStartHeight","resizeStartMouseX","event","resizeStartMouseY","keepWindowInBounds","handleResize","deltaX","deltaY","minWidth","minHeight","includes","Math","max","newWidth","newHeight","maxX","window","innerWidth","maxY","innerHeight","min","maxWidth","maxHeight","minimize","close"],"sources":["/home/kup/my_projects/vue/osi/src/components/os/SimpleWindow/SimpleWindow.vue"],"sourcesContent":["<template src=\"./template.html\"></template>\n<style src=\"./style.css\"></style>\n<script>\n    export default {\n  name: \"SimpleWindow\",\n  \n  props: {\n    windowId: String,\n    title: {\n      type: String,\n      default: 'Окно'\n    },\n    appName: {\n      type: String,\n      default: 'app'\n    },\n    isMinimized: {\n      type: Boolean,\n      default: false\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    },\n    isMaximized: { // ДОБАВЛЯЕМ пропс для максимизации\n      type: Boolean,\n      default: false\n    }\n  },\n  \n  emits: ['close', 'minimize', 'focus', 'toggleMaximize'], // ДОБАВЛЯЕМ событие\n  \n  data() {\n    return {\n      posX: 100,\n      posY: 100,\n      windowWidth: 400,\n      windowHeight: 300,\n      isDragging: false,\n      isResizing: false,\n      dragOffset: { x: 0, y: 0 },\n      resizeDirection: '',\n      originalState: null // Для сохранения состояния перед максимизацией\n    }\n  },\n  \n  computed: {\n    isVisible() {\n      return !this.isMinimized\n    },\n    \n    windowStyles() {\n      if (this.isMaximized) {\n        // В максимизированном состоянии занимаем весь экран\n        return {\n          left: '0',\n          top: '0',\n          width: '100vw',\n          height: '100vh',\n          borderRadius: '0',\n          zIndex: this.isActive ? 9999 : 100\n        }\n      } else {\n        // В обычном состоянии используем сохраненные позиции\n        return {\n          left: `${this.posX}px`,\n          top: `${this.posY}px`,\n          width: `${this.windowWidth}px`,\n          height: `${this.windowHeight}px`,\n          zIndex: this.isActive ? 1000 : 100\n        }\n      }\n    }\n  },\n  \n  watch: {\n    // При изменении пропса isMaximized извне (например, из хранилища)\n    isMaximized(newVal) {\n      if (newVal && !this.originalState) {\n        // Сохраняем текущее состояние перед максимизацией\n        this.saveOriginalState()\n      } else if (!newVal && this.originalState) {\n        // Восстанавливаем сохраненное состояние\n        this.restoreOriginalState()\n      }\n    }\n  },\n  \n  mounted() {\n    // Добавляем глобальные обработчики для перетаскивания и изменения размера\n    document.addEventListener('mousemove', this.handleMouseMove)\n    document.addEventListener('mouseup', this.handleMouseUp)\n  },\n  \n  beforeUnmount() {\n    // Убираем глобальные обработчики при уничтожении компонента\n    document.removeEventListener('mousemove', this.handleMouseMove)\n    document.removeEventListener('mouseup', this.handleMouseUp)\n  },\n  \n  methods: {\n    saveOriginalState() {\n      this.originalState = {\n        posX: this.posX,\n        posY: this.posY,\n        windowWidth: this.windowWidth,\n        windowHeight: this.windowHeight\n      }\n    },\n    \n    restoreOriginalState() {\n      if (this.originalState) {\n        this.posX = this.originalState.posX\n        this.posY = this.originalState.posY\n        this.windowWidth = this.originalState.windowWidth\n        this.windowHeight = this.originalState.windowHeight\n      }\n    },\n\n    toggleMaximizeOnDoubleClick(e) {\n  if (e.target.closest('.window-header') && !e.target.closest('.window-controls')) {\n    this.toggleMaximize()\n  }\n},\n    \n    focusWindow(e) {\n      this.$emit('focus', this.windowId)\n      \n      // Не начинаем перетаскивание если максимизировано или кликнули не на заголовок\n      if (this.isMaximized || !e.target.closest('.window-header')) {\n        return\n      }\n      \n      this.startDrag(e)\n    },\n    \n    startDrag(e) {\n      this.isDragging = true\n      this.dragOffset = {\n        x: e.clientX - this.posX,\n        y: e.clientY - this.posY\n      }\n    },\n    \n    startResize(direction) {\n      if (this.isMaximized) return // Не изменяем размер если максимизировано\n      \n      this.isResizing = true\n      this.resizeDirection = direction\n      this.resizeStartX = this.posX\n      this.resizeStartY = this.posY\n      this.resizeStartWidth = this.windowWidth\n      this.resizeStartHeight = this.windowHeight\n      this.resizeStartMouseX = event.clientX\n      this.resizeStartMouseY = event.clientY\n    },\n    \n    handleMouseMove(e) {\n      if (this.isDragging && !this.isMaximized) {\n        // Перетаскивание окна\n        this.posX = e.clientX - this.dragOffset.x\n        this.posY = e.clientY - this.dragOffset.y\n        \n        // Ограничиваем перемещение в пределах экрана\n        this.keepWindowInBounds()\n      } else if (this.isResizing && !this.isMaximized) {\n        // Изменение размера окна\n        this.handleResize(e)\n      }\n    },\n    \n    handleResize(e) {\n      const deltaX = e.clientX - this.resizeStartMouseX\n      const deltaY = e.clientY - this.resizeStartMouseY\n      \n      // Минимальные размеры окна\n      const minWidth = 200\n      const minHeight = 150\n      \n      if (this.resizeDirection.includes('e')) {\n        // Изменяем правую границу\n        this.windowWidth = Math.max(minWidth, this.resizeStartWidth + deltaX)\n      }\n      \n      if (this.resizeDirection.includes('w')) {\n        // Изменяем левую границу\n        const newWidth = Math.max(minWidth, this.resizeStartWidth - deltaX)\n        if (newWidth >= minWidth) {\n          this.posX = this.resizeStartX + deltaX\n          this.windowWidth = newWidth\n        }\n      }\n      \n      if (this.resizeDirection.includes('s')) {\n        // Изменяем нижнюю границу\n        this.windowHeight = Math.max(minHeight, this.resizeStartHeight + deltaY)\n      }\n      \n      if (this.resizeDirection.includes('n')) {\n        // Изменяем верхнюю границу\n        const newHeight = Math.max(minHeight, this.resizeStartHeight - deltaY)\n        if (newHeight >= minHeight) {\n          this.posY = this.resizeStartY + deltaY\n          this.windowHeight = newHeight\n        }\n      }\n      \n      // Ограничиваем окно в пределах экрана\n      this.keepWindowInBounds()\n    },\n    \n    keepWindowInBounds() {\n      const maxX = window.innerWidth - 50\n      const maxY = window.innerHeight - 50\n      \n      this.posX = Math.max(0, Math.min(this.posX, maxX))\n      this.posY = Math.max(0, Math.min(this.posY, maxY))\n      \n      // Ограничиваем размер окна\n      const maxWidth = window.innerWidth - this.posX\n      const maxHeight = window.innerHeight - this.posY\n      \n      this.windowWidth = Math.min(this.windowWidth, maxWidth)\n      this.windowHeight = Math.min(this.windowHeight, maxHeight)\n    },\n    \n    handleMouseUp() {\n      this.isDragging = false\n      this.isResizing = false\n    },\n    \n    minimize() {\n      this.$emit('minimize', this.windowId)\n    },\n    \n    toggleMaximize() {\n      this.$emit('toggleMaximize', this.windowId)\n    },\n    \n    close() {\n      this.$emit('close', this.windowId)\n    }\n  }\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}