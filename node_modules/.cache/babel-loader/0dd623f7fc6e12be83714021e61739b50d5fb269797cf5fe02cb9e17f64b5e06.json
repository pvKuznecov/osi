{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { defineStore } from 'pinia';\nimport { ref } from 'vue';\nexport const useOsStore = defineStore('os', () => {\n  const windows = ref([]);\n  const activeWindowId = ref(null);\n  const openWindow = appName => {\n    const newWindow = {\n      id: Date.now().toString(),\n      appName: appName,\n      title: `${appName} - Приложение`,\n      isMinimized: false,\n      isMaximized: false,\n      originalState: null\n    };\n    windows.value.push(newWindow);\n    activeWindowId.value = newWindow.id;\n    return newWindow.id;\n  };\n  const closeWindow = windowId => {\n    const index = windows.value.findIndex(w => w.id === windowId);\n    if (index !== -1) {\n      windows.value.splice(index, 1);\n    }\n  };\n  const minimizeWindow = windowId => {\n    const window = windows.value.find(w => w.id === windowId);\n    if (window) {\n      window.isMinimized = true;\n    }\n  };\n  const restoreWindow = windowId => {\n    // УБЕДИСЬ ЧТО ЭТА ФУНКЦИЯ ЕСТЬ\n    const window = windows.value.find(w => w.id === windowId);\n    if (window) {\n      window.isMinimized = false;\n      activeWindowId.value = windowId; // Автоматически активируем при восстановлении\n    }\n  };\n  const toggleMaximizeWindow = windowId => {\n    const window = windows.value.find(w => w.id === windowId);\n    if (!window) return;\n    if (window.isMaximized) {\n      // Если уже максимизировано - восстанавливаем\n      if (window.originalState) {\n        window.isMaximized = false;\n        // Можно восстановить сохраненные размеры и позицию\n      }\n    } else {\n      // Если не максимизировано - сохраняем текущее состояние и максимизируем\n      window.originalState = {\n        isMaximized: false\n        // Здесь позже добавим сохранение позиции и размеров\n      };\n      window.isMaximized = true;\n    }\n    activeWindowId.value = windowId;\n  };\n  return {\n    windows,\n    activeWindowId,\n    openWindow,\n    closeWindow,\n    minimizeWindow,\n    restoreWindow,\n    toggleMaximizeWindow\n  };\n});","map":{"version":3,"names":["defineStore","ref","useOsStore","windows","activeWindowId","openWindow","appName","newWindow","id","Date","now","toString","title","isMinimized","isMaximized","originalState","value","push","closeWindow","windowId","index","findIndex","w","splice","minimizeWindow","window","find","restoreWindow","toggleMaximizeWindow"],"sources":["/home/kup/my_projects/vue/osi/src/stores/os.store.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref } from 'vue'\n\nexport const useOsStore = defineStore('os', () => {\n  const windows = ref([])\n  const activeWindowId = ref(null)\n  \n  const openWindow = (appName) => {\n    const newWindow = {\n      id: Date.now().toString(),\n      appName: appName,\n      title: `${appName} - Приложение`,\n      isMinimized: false,\n      isMaximized: false,\n      originalState: null\n    }\n    \n    windows.value.push(newWindow)\n    activeWindowId.value = newWindow.id\n    \n    return newWindow.id\n  }\n  \n  const closeWindow = (windowId) => {\n    const index = windows.value.findIndex(w => w.id === windowId)\n    if (index !== -1) {\n      windows.value.splice(index, 1)\n    }\n  }\n  \n  const minimizeWindow = (windowId) => {\n    const window = windows.value.find(w => w.id === windowId)\n    if (window) {\n      window.isMinimized = true\n    }\n  }\n  \n  const restoreWindow = (windowId) => { // УБЕДИСЬ ЧТО ЭТА ФУНКЦИЯ ЕСТЬ\n    const window = windows.value.find(w => w.id === windowId)\n    if (window) {\n      window.isMinimized = false\n      activeWindowId.value = windowId // Автоматически активируем при восстановлении\n    }\n  }\n\n  const toggleMaximizeWindow = (windowId) => {\n    const window = windows.value.find(w => w.id === windowId)\n    if (!window) return\n    \n    if (window.isMaximized) {\n      // Если уже максимизировано - восстанавливаем\n      if (window.originalState) {\n        window.isMaximized = false\n        // Можно восстановить сохраненные размеры и позицию\n      }\n    } else {\n      // Если не максимизировано - сохраняем текущее состояние и максимизируем\n      window.originalState = {\n        isMaximized: false,\n        // Здесь позже добавим сохранение позиции и размеров\n      }\n      window.isMaximized = true\n    }\n    \n    activeWindowId.value = windowId\n  }\n  \n  return {\n    windows,\n    activeWindowId,\n    openWindow,\n    closeWindow,\n    minimizeWindow,\n    restoreWindow,\n    toggleMaximizeWindow\n  }\n})"],"mappings":";;;AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK;AAEzB,OAAO,MAAMC,UAAU,GAAGF,WAAW,CAAC,IAAI,EAAE,MAAM;EAChD,MAAMG,OAAO,GAAGF,GAAG,CAAC,EAAE,CAAC;EACvB,MAAMG,cAAc,GAAGH,GAAG,CAAC,IAAI,CAAC;EAEhC,MAAMI,UAAU,GAAIC,OAAO,IAAK;IAC9B,MAAMC,SAAS,GAAG;MAChBC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBL,OAAO,EAAEA,OAAO;MAChBM,KAAK,EAAE,GAAGN,OAAO,eAAe;MAChCO,WAAW,EAAE,KAAK;MAClBC,WAAW,EAAE,KAAK;MAClBC,aAAa,EAAE;IACjB,CAAC;IAEDZ,OAAO,CAACa,KAAK,CAACC,IAAI,CAACV,SAAS,CAAC;IAC7BH,cAAc,CAACY,KAAK,GAAGT,SAAS,CAACC,EAAE;IAEnC,OAAOD,SAAS,CAACC,EAAE;EACrB,CAAC;EAED,MAAMU,WAAW,GAAIC,QAAQ,IAAK;IAChC,MAAMC,KAAK,GAAGjB,OAAO,CAACa,KAAK,CAACK,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACd,EAAE,KAAKW,QAAQ,CAAC;IAC7D,IAAIC,KAAK,KAAK,CAAC,CAAC,EAAE;MAChBjB,OAAO,CAACa,KAAK,CAACO,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IAChC;EACF,CAAC;EAED,MAAMI,cAAc,GAAIL,QAAQ,IAAK;IACnC,MAAMM,MAAM,GAAGtB,OAAO,CAACa,KAAK,CAACU,IAAI,CAACJ,CAAC,IAAIA,CAAC,CAACd,EAAE,KAAKW,QAAQ,CAAC;IACzD,IAAIM,MAAM,EAAE;MACVA,MAAM,CAACZ,WAAW,GAAG,IAAI;IAC3B;EACF,CAAC;EAED,MAAMc,aAAa,GAAIR,QAAQ,IAAK;IAAE;IACpC,MAAMM,MAAM,GAAGtB,OAAO,CAACa,KAAK,CAACU,IAAI,CAACJ,CAAC,IAAIA,CAAC,CAACd,EAAE,KAAKW,QAAQ,CAAC;IACzD,IAAIM,MAAM,EAAE;MACVA,MAAM,CAACZ,WAAW,GAAG,KAAK;MAC1BT,cAAc,CAACY,KAAK,GAAGG,QAAQ,EAAC;IAClC;EACF,CAAC;EAED,MAAMS,oBAAoB,GAAIT,QAAQ,IAAK;IACzC,MAAMM,MAAM,GAAGtB,OAAO,CAACa,KAAK,CAACU,IAAI,CAACJ,CAAC,IAAIA,CAAC,CAACd,EAAE,KAAKW,QAAQ,CAAC;IACzD,IAAI,CAACM,MAAM,EAAE;IAEb,IAAIA,MAAM,CAACX,WAAW,EAAE;MACtB;MACA,IAAIW,MAAM,CAACV,aAAa,EAAE;QACxBU,MAAM,CAACX,WAAW,GAAG,KAAK;QAC1B;MACF;IACF,CAAC,MAAM;MACL;MACAW,MAAM,CAACV,aAAa,GAAG;QACrBD,WAAW,EAAE;QACb;MACF,CAAC;MACDW,MAAM,CAACX,WAAW,GAAG,IAAI;IAC3B;IAEAV,cAAc,CAACY,KAAK,GAAGG,QAAQ;EACjC,CAAC;EAED,OAAO;IACLhB,OAAO;IACPC,cAAc;IACdC,UAAU;IACVa,WAAW;IACXM,cAAc;IACdG,aAAa;IACbC;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}