{"ast":null,"code":"export default {\n  methods: {\n    async showTextOnly() {\n      try {\n        // –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —á–µ—Ä–µ–∑ CORS-–ø—Ä–æ–∫—Å–∏\n        const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(this.currentUrl)}`);\n        const data = await response.json();\n        this.pageContent = data.contents;\n        this.textOnlyMode = true;\n      } catch (error) {\n        console.error('Failed to fetch text content:', error);\n      }\n    },\n    tryWithProxy() {\n      // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏\n      this.corsError = false;\n      this.currentUrl = `https://corsproxy.io/?${encodeURIComponent(this.originalUrl)}`;\n    }\n  }\n};","map":{"version":3,"names":["methods","showTextOnly","response","fetch","encodeURIComponent","currentUrl","data","json","pageContent","contents","textOnlyMode","error","console","tryWithProxy","corsError","originalUrl"],"sources":["C:\\projects\\My projects\\Vue\\osi\\src\\apps\\system\\OSIBrowser\\OSIBrowser.vue"],"sourcesContent":["<template>\r\n  <div class=\"browser-app\">\r\n    <!-- ... –∫–æ–Ω—Ç—Ä–æ–ª—ã ... -->\r\n    \r\n    <iframe\r\n      v-if=\"!corsError\"\r\n      :src=\"currentUrl\"\r\n      @load=\"onLoad\"\r\n      @error=\"onError\"\r\n    ></iframe>\r\n    \r\n    <div v-else class=\"cors-fallback\">\r\n      <div class=\"cors-message\">\r\n        <h3>üîí –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h3>\r\n        <p>–°–∞–π—Ç <code>{{currentUrl}}</code> –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ.</p>\r\n        \r\n        <div class=\"options\">\r\n          <button @click=\"openExternal\" class=\"primary\">\r\n            –û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ\r\n          </button>\r\n          <button @click=\"tryWithProxy\" class=\"secondary\">\r\n            –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏\r\n          </button>\r\n          <button @click=\"showTextOnly\" class=\"tertiary\">\r\n            –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç (–±–µ–∑–æ–ø–∞—Å–Ω–æ)\r\n          </button>\r\n        </div>\r\n        \r\n        <div v-if=\"textOnlyMode\" class=\"text-content\">\r\n          <pre>{{pageContent}}</pre>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    async showTextOnly() {\r\n      try {\r\n        // –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —á–µ—Ä–µ–∑ CORS-–ø—Ä–æ–∫—Å–∏\r\n        const response = await fetch(\r\n          `https://api.allorigins.win/get?url=${encodeURIComponent(this.currentUrl)}`\r\n        );\r\n        const data = await response.json();\r\n        this.pageContent = data.contents;\r\n        this.textOnlyMode = true;\r\n      } catch (error) {\r\n        console.error('Failed to fetch text content:', error);\r\n      }\r\n    },\r\n    \r\n    tryWithProxy() {\r\n      // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏\r\n      this.corsError = false;\r\n      this.currentUrl = `https://corsproxy.io/?${encodeURIComponent(this.originalUrl)}`;\r\n    }\r\n  }\r\n};\r\n</script>"],"mappings":"AAqCA,eAAe;EACbA,OAAO,EAAE;IACP,MAAMC,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF;QACA,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAC1B,sCAAsCC,kBAAkB,CAAC,IAAI,CAACC,UAAU,CAAC,EAC3E,CAAC;QACD,MAAMC,IAAG,GAAI,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAClC,IAAI,CAACC,WAAU,GAAIF,IAAI,CAACG,QAAQ;QAChC,IAAI,CAACC,YAAW,GAAI,IAAI;MAC1B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACvD;IACF,CAAC;IAEDE,YAAYA,CAAA,EAAG;MACb;MACA,IAAI,CAACC,SAAQ,GAAI,KAAK;MACtB,IAAI,CAACT,UAAS,GAAI,yBAAyBD,kBAAkB,CAAC,IAAI,CAACW,WAAW,CAAC,EAAE;IACnF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}