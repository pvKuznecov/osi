{"ast":null,"code":"import { usersTable } from '@/idb/db';\nimport { LangPack } from './lang';\nexport default {\n  name: 'AutorizationArea',\n  data() {\n    return {\n      users: [],\n      LangData: {},\n      creating: false\n    };\n  },\n  emits: ['selectUser'],\n  methods: {\n    selectUser(userId) {\n      this.$emit('selectUser', userId);\n    },\n    async loadUsers() {\n      try {\n        this.users = await usersTable.getAll();\n      } catch (error) {\n        console.error('Ошибка загрузки пользователей:', error);\n        this.$toast.error('Не удалось загрузить пользователей');\n      }\n    },\n    showForm_addUser() {\n      this.creating = !this.creating;\n    },\n    getAvatarUrl(avatarName) {\n      // return new URL(`@/assets/avatars/${avatarName}`, import.meta.url).href;\n      const res = `url(${require('@/assets/avatars/' + avatarName)})`;\n      return res;\n    },\n    avatarStyle(avatarName) {\n      return {\n        backgroundImage: this.getAvatarUrl(avatarName),\n        backgroundSize: 'cover',\n        backgroundPosition: 'center'\n        // width: '50px',\n        // height: '50px',\n        // borderRadius: '50%' // для круглых аватарок\n      };\n    }\n  },\n  async mounted() {\n    await this.loadUsers();\n    const userLang = navigator.language || navigator.userLanguage;\n    const userLangS = userLang.split('-')[0];\n    this.UserLang = userLangS;\n    const LangPackData = LangPack;\n    this.LangData = userLangS && LangPackData && LangPackData[userLangS] ? LangPackData[userLangS] : LangPackData.en;\n  }\n};","map":{"version":3,"names":["usersTable","LangPack","name","data","users","LangData","creating","emits","methods","selectUser","userId","$emit","loadUsers","getAll","error","console","$toast","showForm_addUser","getAvatarUrl","avatarName","res","require","avatarStyle","backgroundImage","backgroundSize","backgroundPosition","mounted","userLang","navigator","language","userLanguage","userLangS","split","UserLang","LangPackData","en"],"sources":["/home/kup/my_projects/vue/osi/src/components/os/AutorizationArea/AutorizationArea.vue"],"sourcesContent":["<template src=\"./template.html\"></template>\n<style src=\"./style.css\"></style>\n<script>\n    import { usersTable } from '@/idb/db';\n    import { LangPack } from './lang';\n    \n    export default {\n        name: 'AutorizationArea',\n  \n        data() {\n            return {\n                users: [],\n                LangData: {},\n                creating: false,\n            }            \n        },\n\n        emits: ['selectUser'],\n\n        methods: {\n            selectUser(userId) {\n                this.$emit('selectUser', userId);\n            },\n\n            async loadUsers() {\n                try {\n                    this.users = await usersTable.getAll();\n                } catch (error) {\n                    console.error('Ошибка загрузки пользователей:', error);\n                    this.$toast.error('Не удалось загрузить пользователей');\n                }\n            },\n\n            showForm_addUser() { this.creating = !this.creating; },\n\n            getAvatarUrl(avatarName) {\n                // return new URL(`@/assets/avatars/${avatarName}`, import.meta.url).href;\n                const res = `url(${require('@/assets/avatars/' + avatarName)})`;\n                return res;\n            },\n\n            avatarStyle(avatarName) {\n                return {\n                    backgroundImage: this.getAvatarUrl(avatarName),\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                    // width: '50px',\n                    // height: '50px',\n                    // borderRadius: '50%' // для круглых аватарок\n                };\n            },\n        },\n\n        async mounted() {\n            await this.loadUsers();\n\n            const userLang = navigator.language || navigator.userLanguage;\n            const userLangS = userLang.split('-')[0];\n            this.UserLang = userLangS; \n            \n            const LangPackData = LangPack;\n            this.LangData = (userLangS && LangPackData && LangPackData[userLangS]) ? LangPackData[userLangS] : LangPackData.en;\n        },\n    }\n</script>"],"mappings":"AAGI,SAASA,UAAS,QAAS,UAAU;AACrC,SAASC,QAAO,QAAS,QAAQ;AAEjC,eAAe;EACXC,IAAI,EAAE,kBAAkB;EAExBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,CAAC,CAAC;MACZC,QAAQ,EAAE;IACd;EACJ,CAAC;EAEDC,KAAK,EAAE,CAAC,YAAY,CAAC;EAErBC,OAAO,EAAE;IACLC,UAAUA,CAACC,MAAM,EAAE;MACf,IAAI,CAACC,KAAK,CAAC,YAAY,EAAED,MAAM,CAAC;IACpC,CAAC;IAED,MAAME,SAASA,CAAA,EAAG;MACd,IAAI;QACA,IAAI,CAACR,KAAI,GAAI,MAAMJ,UAAU,CAACa,MAAM,CAAC,CAAC;MAC1C,EAAE,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACtD,IAAI,CAACE,MAAM,CAACF,KAAK,CAAC,oCAAoC,CAAC;MAC3D;IACJ,CAAC;IAEDG,gBAAgBA,CAAA,EAAG;MAAE,IAAI,CAACX,QAAO,GAAI,CAAC,IAAI,CAACA,QAAQ;IAAE,CAAC;IAEtDY,YAAYA,CAACC,UAAU,EAAE;MACrB;MACA,MAAMC,GAAE,GAAI,OAAOC,OAAO,CAAC,mBAAkB,GAAIF,UAAU,CAAC,GAAG;MAC/D,OAAOC,GAAG;IACd,CAAC;IAEDE,WAAWA,CAACH,UAAU,EAAE;MACpB,OAAO;QACHI,eAAe,EAAE,IAAI,CAACL,YAAY,CAACC,UAAU,CAAC;QAC9CK,cAAc,EAAE,OAAO;QACvBC,kBAAkB,EAAE;QACpB;QACA;QACA;MACJ,CAAC;IACL;EACJ,CAAC;EAED,MAAMC,OAAOA,CAAA,EAAG;IACZ,MAAM,IAAI,CAACd,SAAS,CAAC,CAAC;IAEtB,MAAMe,QAAO,GAAIC,SAAS,CAACC,QAAO,IAAKD,SAAS,CAACE,YAAY;IAC7D,MAAMC,SAAQ,GAAIJ,QAAQ,CAACK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACxC,IAAI,CAACC,QAAO,GAAIF,SAAS;IAEzB,MAAMG,YAAW,GAAIjC,QAAQ;IAC7B,IAAI,CAACI,QAAO,GAAK0B,SAAQ,IAAKG,YAAW,IAAKA,YAAY,CAACH,SAAS,CAAC,GAAIG,YAAY,CAACH,SAAS,IAAIG,YAAY,CAACC,EAAE;EACtH;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}