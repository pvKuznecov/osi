<div class="autorization-area">
    <!-- таблица выбора учетной записи -->
    <table v-if="!addIntro">
        <tbody>
            <tr>
                <td><h1>OSI</h1></td>
            </tr>
            <tr>
                <td><i>{{LangData.beginningtext}}</i></td>
            </tr>
            <tr><td><br><br></td></tr>            
            <tr>
                <td class="logins-list-area row">
                    <div v-for="u in users" class="login-elem d-flex justify-content-center align-items-center">
                        <div class="login-elem-miniava" :style="avatarStyle(u.config.avatar)"></div>
                        <div class="login-elem-info">
                            <i v-if="u.id !== 1" class="user-del-minbtn bi-trash-fill d-flex justify-content-center align-items-center" @click="showForm_delUser(u)"></i>
                            <b>{{u.login}}</b><br>
                            <span class="login-elem-button" @click="pre_selectUser(u)" title="Войти под учетной записью.">{{LangData.choose}}</span>
                        </div>
                    </div>
                </td>
                <td v-if="!creating" class="d-flex justify-content-center align-items-center">
                    <div class="login-elem-newbutton d-flex justify-content-center align-items-center">
                        <span class="button-createnewuser" @click="showForm_addUser()" :title="LangData.createanewaccount">+ {{LangData.createanewone}}</span>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <!-- форма входа (ввод пароля) -->
    <div v-if="addIntro" class="intro-area">
        <h3>Вход в учетную запись:</h3>
        <div class="d-flex justify-content-center align-items-center">
            <div class="login-elem-ava" :style="avatarStyle(selectedUser.config.avatar)"></div>
            <div class="login-elem-info">
                <div style="text-align: center;"><b>{{selectedUser.login}}</b></div>
                <div v-if="isNeedPass">
                    <div class="d-flex justify-content-center align-items-center mt-3">
                        <label for="introUser_password">Password:</label>
                        <input type="password" id="introUser_password" v-model="introPass" placeholder="Введите пароль">
                    </div>
                </div>
                <div class="mt-3 d-flex justify-content-center align-items-center">
                    <span class="login-elem-button" @click="selectUser(selectedUser)" title="Войти под учетной записью.">Войти</span>
                </div>
            </div>
        </div>
        <div v-if="introErrorTxt" class="warning-text-area">
            {{introErrorTxt}}
        </div>        
    </div>
    <!-- форма удаления учетной записи -->
    <div v-if="deletion" class="deleting-area">
        <h1>Удаление учетной записи:</h1>
        <div class="deletin-user-data d-flex justify-content-center align-items-center">
            <div class="login-elem-miniava" :style="avatarStyle(deletingUser.config.avatar)"></div>
            <ul>
                <li>Логин: {{deletingUser.login}}</li>
                <li>ID: {{deletingUser.id}}</li>
            </ul>
        </div>
        <div class="warning-text-area">
            <h3>Обратите внимание:</h3>
            <span>Все данные, связанные с выбранной учетной записью, хранящиеся на данном устройстве, будут удалены.</span>
            <br><br>
            <h3 style="text-align: center;">Восстановить учетную запись будет невозможно!</h3>            
        </div>
        <span>Удалить учетную запись?</span>
        <br>
        <div v-if="needInpPassword" class="d-flex justify-content-center align-items-center mt-3 newuser-inputelem">
            <label for="delUser_password">Password:</label>
            <input type="password" id="delUser_password" v-model="inpPass" placeholder="Пароль учетной записи">
        </div>
        <br>
        <div class="d-flex justify-content-center align-items-center">
            <span v-if="needInpPassword && isInpPassword || !needInpPassword" class="button-deluser-confirm me-1" @click="deleteUser(deletingUser.id)">Удалить</span>
            <span class="button-deluser-abort" @click="showForm_delUser()">Отмена</span>
        </div>
        <br><br>
        <div v-if="operationDelUserResult" class="warning-text-area">
            {{operationDelUserResult}}
        </div>
    </div>
    <!-- форма создания учетной записи -->
    <div v-if="creating" class="creating-area">
        <h1>Создание новой учетной записи:</h1>
        <div class="d-flex justify-content-center align-items-center">
            <table>
                <tbody>
                    <tr>
                        <td>
                            <div class="login-elem-ava" :style="avatarStyle(defaultUser.avatar)"></div>
                        </td>
                        <td>
                            <i>Выберите аватар:</i>
                            <br>
                            <div v-for="av in avatarsList" class="login-elem-microava" :class="(av.nameExt == defaultUser.avatar) ? 'selected-avatar' : ''" :style="avatarStyle(av.nameExt)" @click="selectedNewAvatar(av.nameExt)"></div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="d-flex justify-content-center align-items-center mt-3 newuser-inputelem">
            <label for="newUser_login">Login:</label>
            <input type="text" id="newUser_login" v-model="defaultUser.login" placeholder="Ваш логин" maxlength="15">
        </div>
        <div class="d-flex justify-content-center align-items-center mt-3 newuser-inputelem">
            <label for="newUser_password">Password:</label>
            <input type="password" id="newUser_password" v-model="defaultUser.password" placeholder="Ваш пароль (не обязательно)">
        </div>
        <div class="d-flex justify-content-center align-items-center mt-2">
            <span class="login-elem-button me-1" @click="saveUser()">Создать учетную запись</span>
            <span class="login-elem-button" @click="showForm_addUser()">Отмена</span>
        </div>
        <br><br>
        <div v-if="operationNewUserResult">
            {{operationNewUserResult}}
        </div>
    </div>
</div>